function animateScrollTo(r,t){"use strict";var o=arguments.length<=1||void 0===t?{}:arguments[1],e={speed:500,minDuration:250,maxDuration:3e3,cancelOnUserAction:!0},s={};Object.keys(e).forEach(function(t){s[t]=o[t]?o[t]:e[t]});var a=window.scrollY||document.documentElement.scrollTop,n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-window.innerHeight;n<r&&(r=n);var l=r-a;if(0!==l){var u=Math.abs(Math.round(l/1e3*s.speed));u<s.minDuration?u=s.minDuration:u>s.maxDuration&&(u=s.maxDuration);var c=Date.now(),h=null,d=null;s.cancelOnUserAction?(d=function(){cancelAnimationFrame(h)},window.addEventListener("keydown",d)):(d=function(t){t.preventDefault()},window.addEventListener("scroll",d)),window.addEventListener("wheel",d),window.addEventListener("touchstart",d),h=requestAnimationFrame(function o(){var t=Date.now()-c,e=t/u-1,n=e*e*e+1,i=Math.round(a+l*n);t<u&&i!==r?(window.scrollTo(0,i),h=requestAnimationFrame(o)):(window.scrollTo(0,r),cancelAnimationFrame(h),window.removeEventListener("wheel",d),window.removeEventListener("touchstart",d),s.cancelOnUserAction?window.removeEventListener("keydown",d):window.removeEventListener("scroll",d))})}}!function(t){"use strict";function n(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function e(t,e){(i(t,e)?o:r)(t,e)}var i,r,o;"classList"in document.documentElement?(i=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(i=function(t,e){return n(e).test(t.className)},r=function(t,e){i(t,e)||(t.className=t.className+" "+e)},o=function(t,e){t.className=t.className.replace(n(e)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:e,has:i,add:r,remove:o,toggle:e};"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+n,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,n+=1}var n=0,o={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var n in o)e.push(o[n]);for(var i=0,r=e.length;i<r;i++)e[i][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){for(var t in e.Context.refreshAll(),o)o[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function n(t){this.element=t,this.Adapter=m.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,r[t.waypointContextKey]=this,i+=1,m.windowContext||(m.windowContext=!0,m.windowContext=new n(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,r={},m=window.Waypoint,t=window.onload;n.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},n.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),n=this.element==this.element.window;t&&e&&!n&&(this.adapter.off(".waypoints"),delete r[this.key])},n.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,m.requestAnimationFrame(t))})},n.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){e.didScroll&&!m.isTouch||(e.didScroll=!0,m.requestAnimationFrame(t))})},n.prototype.handleResize=function(){m.Context.refreshAll()},n.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var i=e[n],r=i.newScroll>i.oldScroll?i.forward:i.backward;for(var o in this.waypoints[n]){var s=this.waypoints[n][o];if(null!==s.triggerPoint){var a=i.oldScroll<s.triggerPoint,l=i.newScroll>=s.triggerPoint;(a&&l||!a&&!l)&&(s.queueTrigger(r),t[s.group.id]=s.group)}}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},n.prototype.innerHeight=function(){return this.element==this.element.window?m.viewportHeight():this.adapter.innerHeight()},n.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},n.prototype.innerWidth=function(){return this.element==this.element.window?m.viewportWidth():this.adapter.innerWidth()},n.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var i=0,r=t.length;i<r;i++)t[i].destroy()},n.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),i={};for(var r in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[r];for(var s in this.waypoints[r]){var a,l,u,c,h=this.waypoints[r][s],d=h.options.offset,f=h.triggerPoint,p=0,g=null==f;h.element!==h.element.window&&(p=h.adapter.offset()[o.offsetProp]),"function"==typeof d?d=d.apply(h):"string"==typeof d&&(d=parseFloat(d),-1<h.options.offset.indexOf("%")&&(d=Math.ceil(o.contextDimension*d/100))),a=o.contextScroll-o.contextOffset,h.triggerPoint=Math.floor(p+a-d),l=f<o.oldScroll,u=h.triggerPoint>=o.oldScroll,c=!l&&!u,!g&&l&&u?(h.queueTrigger(o.backward),i[h.group.id]=h.group):!g&&c?(h.queueTrigger(o.forward),i[h.group.id]=h.group):g&&o.oldScroll>=h.triggerPoint&&(h.queueTrigger(o.forward),i[h.group.id]=h.group)}}return m.requestAnimationFrame(function(){for(var t in i)i[t].flushTriggers()}),this},n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)},n.refreshAll=function(){for(var t in r)r[t].refresh()},n.findByElement=function(t){return r[t.waypointContextKey]},window.onload=function(){t&&t(),n.refreshAll()},m.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},m.Context=n}(),function(){"use strict";function s(t,e){return t.triggerPoint-e.triggerPoint}function a(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},i=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],n="up"===t||"left"===t;e.sort(n?a:s);for(var i=0,r=e.length;i<r;i+=1){var o=e[i];(o.options.continuous||i===e.length-1)&&o.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(s);var e=i.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(s);var e=i.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return n[t.axis][t.name]||new e(t)},i.Group=e}(),function(){"use strict";function i(t){return t===t.window}function r(t){return i(t)?t:t.defaultView}function t(t){this.element=t,this.handlers={}}var e=window.Waypoint;t.prototype.innerHeight=function(){return i(this.element)?this.element.innerHeight:this.element.clientHeight},t.prototype.innerWidth=function(){return i(this.element)?this.element.innerWidth:this.element.clientWidth},t.prototype.off=function(t,e){function n(t,e,n){for(var i=0,r=e.length-1;i<r;i++){var o=e[i];n&&n!==o||t.removeEventListener(o)}}var i=t.split("."),r=i[0],o=i[1],s=this.element;if(o&&this.handlers[o]&&r)n(s,this.handlers[o][r],e),this.handlers[o][r]=[];else if(r)for(var a in this.handlers)n(s,this.handlers[a][r]||[],e),this.handlers[a][r]=[];else if(o&&this.handlers[o]){for(var l in this.handlers[o])n(s,this.handlers[o][l],e);this.handlers[o]={}}},t.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,e=r(this.element.ownerDocument),n={top:0,left:0};return this.element.getBoundingClientRect&&(n=this.element.getBoundingClientRect()),{top:n.top+e.pageYOffset-t.clientTop,left:n.left+e.pageXOffset-t.clientLeft}},t.prototype.on=function(t,e){var n=t.split("."),i=n[0],r=n[1]||"__default",o=this.handlers[r]=this.handlers[r]||{};(o[i]=o[i]||[]).push(e),this.element.addEventListener(i,e)},t.prototype.outerHeight=function(t){var e,n=this.innerHeight();return t&&!i(this.element)&&(e=window.getComputedStyle(this.element),n+=parseInt(e.marginTop,10),n+=parseInt(e.marginBottom,10)),n},t.prototype.outerWidth=function(t){var e,n=this.innerWidth();return t&&!i(this.element)&&(e=window.getComputedStyle(this.element),n+=parseInt(e.marginLeft,10),n+=parseInt(e.marginRight,10)),n},t.prototype.scrollLeft=function(){var t=r(this.element);return t?t.pageXOffset:this.element.scrollLeft},t.prototype.scrollTop=function(){var t=r(this.element);return t?t.pageYOffset:this.element.scrollTop},t.extend=function(){function t(t,e){if("object"==typeof t&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}for(var e=Array.prototype.slice.call(arguments),n=1,i=e.length;n<i;n++)t(e[0],e[n]);return e[0]},t.inArray=function(t,e,n){return null==e?-1:e.indexOf(t,n)},t.isEmptyObject=function(t){for(var e in t)return!1;return!0},e.adapters.push({name:"noframework",Adapter:t}),e.Adapter=t}();var paper=function(C,j){var P=(C=C||require("./node/self.js")).window,I=C.document,B=new function(){function s(s,a,l,u,c){function t(t,e){"string"==typeof(e=e||(e=f(a,t))&&(e.get?e:e.value))&&"#"===e[0]&&(e=s[e.substring(1)]||e);var n,i="function"==typeof e,r=e,o=c||i&&!e.base?e&&e.get?t in s:s[t]:null;c&&o||(i&&o&&(e.base=o),i&&!1!==u&&(n=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(h[n[3].toLowerCase()+n[4]]=n[2]),r&&!i&&r.get&&"function"==typeof r.get&&d.isPlainObject(r)||(r={value:r,writable:!0}),(f(s,t)||{configurable:!0}).configurable&&(r.configurable=!0,r.enumerable=null!=l?l:!n),p(s,t,r))}var h={};if(a){for(var e in a)a.hasOwnProperty(e)&&!o.test(e)&&t(e);for(var e in h){var n=h[e],i=s["set"+n],r=s["get"+n]||i&&s["is"+n];!r||!0!==u&&0!==r.length||t(e,{get:r,set:i})}}return s}function d(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&l(this,n)}return this}var o=/^(statics|enumerable|beans|preserve)$/,t=[],i=t.slice,a=Object.create,f=Object.getOwnPropertyDescriptor,p=Object.defineProperty,r=t.forEach||function(t,e){for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)},l=Object.assign||function(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t},n=function(t,e,n){if(t){var i=f(t,"length");(i&&"number"==typeof i.value?r:function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}).call(t,e,n=n||t)}return n};return s(d,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,n=t.beans,i=t.preserve;e!==t&&s(this.prototype,t,t.enumerable,n,i),s(this,e,null,n,i)}for(var r=1,o=arguments.length;r<o;r++)this.inject(arguments[r]);return this},extend:function(){for(var t,e,n,i=this,r=0,o=arguments.length;r<o&&(!t||!e);r++)n=arguments[r],t=t||n.initialize,e=e||n.prototype;return e=(t=t||function(){i.apply(this,arguments)}).prototype=e||a(this.prototype),p(e,"constructor",{value:t,writable:!0,configurable:!0}),s(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=i,t}}).inject({enumerable:!1,initialize:d,set:d,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];n&&s(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=a(this);return t.inject.apply(t,arguments)},each:function(t,e){return n(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:l,each:n,create:a,define:p,describe:f,clone:function(t){return l(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===d||"Object"===e.name)},pick:function(t,e){return t!==j?t:e},slice:function(t,e,n){return i.call(t,e,n)}}})};"undefined"!=typeof module&&(module.exports=B),B.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+B.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?b.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return B.importJSON(t,this)},exportJSON:function(t){return B.exportJSON(this,t)},toJSON:function(){return B.serialize(this)},set:function(t,e){return t&&B.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function C(){var t=C.base.apply(this,arguments),e=t.prototype._class;return e&&!B.exports[e]&&(B.exports[e]=t),t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!B.equals(t[n],e[n]))return!1}else{var n,i=Object.keys(t);if((n=i.length)!==Object.keys(e).length)return!1;for(;n--;){var r=i[n];if(!e.hasOwnProperty(r)||!B.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,n,i){if(this===B){var r=this.peek(t,e);return t.__index++,r}var o=this.prototype,s=o._readIndex,a=e||s&&t.__index||0,l=t.length,u=t[a];if(i=i||l-a,u instanceof this||n&&n.readNull&&null==u&&i<=1)return s&&(t.__index=a+1),u&&n&&n.clone?u.clone():u;if(u=B.create(o),s&&(u.__read=!0),u=u.initialize.apply(u,0<a||a+i<l?B.slice(t,a,a+i):t)||u,s){t.__index=a+u.__read;var c=u.__filtered;c&&(t.__filtered=c,u.__filtered=j),u.__read=j}return u},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,n,i){for(var r,o=[],s=e||0,a=i?s+i:t.length,l=s;l<a;l++)o.push(Array.isArray(r=t[l])?this.read(r,0,n):this.read(t,l,n,1));return o},readNamed:function(t,e,n,i,r){var o=this.getNamed(t,e),s=o!==j;if(s){var a=t.__filtered;a||((a=t.__filtered=B.create(t[0])).__unfiltered=t[0]),a[e]=j}var l=s?[o]:t;return this.read(l,n,i,r)},getNamed:function(t,e){var n=t[0];if(t._hasObject===j&&(t._hasObject=1===t.length&&B.isPlainObject(n)),t._hasObject)return e?n[e]:t.__filtered||n},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(n,i,r,t){function e(t){if(!(r&&t in r||o&&t in o)){var e=i[t];e!==j&&(n[t]=e)}}var o;if(t){for(var s,a={},l=0,u=t.length;l<u;l++)(s=t[l])in i&&(e(s),a[s]=!0);o=a}return Object.keys(i.__unfiltered||i).forEach(e),n},isPlainValue:function(t,e){return B.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,n,i){e=e||{};var r,o=!i;if(o&&(e.formatter=new b(e.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,i=this.references[n];if(!i){this.length++;var r=e.call(t),o=t._class;o&&r[0]!==o&&r.unshift(o),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),t&&t._serialize){r=t._serialize(e,i);var s=t._class;!s||t._compactSerialize||!o&&n||r[0]===s||r.unshift(s)}else if(Array.isArray(t)){r=[];for(var a=0,l=t.length;a<l;a++)r[a]=B.serialize(t[a],e,n,i)}else if(B.isPlainObject(t)){r={};var u=Object.keys(t);for(a=0,l=u.length;a<l;a++){var c=u[a];r[c]=B.serialize(t[c],e,n,i)}}else r="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&0<i.length?[["dictionary",i.definitions],r]:r},deserialize:function(t,e,n,i,r){var o=t,s=!n,a=s&&t&&t.length&&"dictionary"===t[0][0];if(n=n||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return n.dictionary[l];o=[];for(var c=(l=B.exports[l])?1:0,h=t.length;c<h;c++)o.push(B.deserialize(t[c],e,n,u,a));if(l){var d=o;e?o=e(l,d,s||r):(o=B.create(l.prototype),l.apply(o,d))}}else if(B.isPlainObject(t))for(var f in o={},i&&(n.dictionary=o),t)o[f]=B.deserialize(t[f],e,n);return a?o[1]:o},exportJSON:function(t,e){var n=B.serialize(t,e);return e&&0==e.asString?n:JSON.stringify(n)},importJSON:function(t,s){return B.deserialize("string"==typeof t?JSON.parse(t):t,function(t,e,n){var i=n&&s&&s.constructor===t,r=i?s:B.create(t.prototype);if(1===e.length&&r instanceof L&&(i||!(r instanceof a))){var o=e[0];B.isPlainObject(o)&&(o.insert=!1)}return(i?r.set:t).apply(r,e),i&&(s=null),r})},splice:function(t,e,n,i){var r=e&&e.length,o=n===j;(n=o?t.length:n)>t.length&&(n=t.length);for(var s=0;s<r;s++)e[s]._index=n+s;if(o)return t.push.apply(t,e),[];var a=[n,i];e&&a.push.apply(a,e);for(var l=t.splice.apply(t,a),u=(s=0,l.length);s<u;s++)l[s]._index=j;for(s=n+r,u=t.length;s<u;s++)t[s]._index=s;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var t={on:function(t,e){if("string"!=typeof t)B.each(t,function(t,e){this.on(e,t)},this);else{var n=this._eventTypes,i=n&&n[t],r=this._callbacks=this._callbacks||{};-1===(r=r[t]=r[t]||[]).indexOf(e)&&(r.push(e),i&&i.install&&1===r.length&&i.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var n,i=this._eventTypes,r=i&&i[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||-1!==(n=o.indexOf(e))&&1===o.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):-1!==n&&o.splice(n,1)),this}B.each(t,function(t,e){this.off(e,t)},this)},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var i=B.slice(arguments,1),r=e&&e.target&&!e.currentTarget;n=n.slice(),r&&(e.currentTarget=this);for(var o=0,s=n.length;o<s;o++)if(0==n[o].apply(this,i)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,n=this._callbacks,i=t?"install":"uninstall";if(e)for(var r in n)if(0<n[r].length){var o=e[r],s=o&&o[i];s&&s.call(this,r)}},statics:{inject:function C(s){var t=s._events;if(t){var a={};B.each(t,function(t,e){var n="string"==typeof t,i=n?t:e,r=B.capitalize(i),o=i.substring(2).toLowerCase();a[o]=n?{}:t,i="_"+i,s["get"+r]=function(){return this[i]},s["set"+r]=function(t){var e=this[i];e&&this.off(o,e),t&&this.on(o,t),this[i]=t}}),s._eventTypes=a}return C.base.apply(this,arguments)}}},c=B.extend({_class:"PaperScope",initialize:function j(){(paper=this).settings=new B({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=j._id++,j._scopes[this._id]=this;var t=j.prototype;if(!this.support){var e=et.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:nt.nativeModes},et.release(e)}if(!this.agent){var n=C.navigator.userAgent.toLowerCase(),i=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],r="darwin"===i?"mac":i,s=t.agent=t.browser={platform:r};r&&(s[r]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,n,i,r){if(!s.chrome){var o="opera"===e?i:/^(node|trident)$/.test(e)?r:n;s.version=o,s.versionNumber=parseFloat(o),e="trident"===e?"msie":e,s.name=e,s[e]=!0}}),s.chrome&&delete s.webkit,s.atom&&delete s.chrome}},version:"0.11.5",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){paper.PaperScript.execute(t,this,e),J.updateFocus()},install:function(e){var n=this;for(var t in B.each(["project","view","tool"],function(t){B.define(e,t,{configurable:!0,get:function(){return n[t]}})}),this)!/^_/.test(t)&&this[t]&&(e[t]=this[t])},setup:function(t){return(paper=this).project=new x(t),this},createCanvas:function(t,e){return et.getCanvas(t,e)},activate:function(){paper=this},clear:function(){for(var t=this.projects,e=this.tools,n=t.length-1;0<=n;n--)t[n].remove();for(n=e.length-1;0<=n;n--)e[n].remove()},remove:function(){this.clear(),delete c._scopes[this._id]},statics:new function(){function t(n){return n+="Attribute",function(t,e){return t[n](e)||t[n]("data-paper-"+e)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),e=B.extend(t,{initialize:function(t){this._scope=paper,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),(this._scope[this._reference]=this).emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(B.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),!(this._scope=null))},getView:function(){return this._scope.getView()}}),b=B.extend({initialize:function(t){this.precision=B.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});b.instance=new b;var W=new function(){function x(t,e,n){return t<e?e:n<t?n:t}function m(t,e,n){function i(t){var e=134217729*t,n=t-e+e;return[n,t-n]}var r=e*e-t*n,o=e*e+t*n;if(3*S(r)<o){var s=i(t),a=i(e),l=i(n),u=e*e,c=t*n;r=u-c+(a[0]*a[0]-u+2*a[0]*a[1]+a[1]*a[1]-(s[0]*l[0]-c+s[0]*l[1]+s[1]*l[0]+s[1]*l[1]))}return r}function C(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||1e8<t)?E(2,-Math.round(e(t))):0}var d=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],f=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],S=Math.abs,T=Math.sqrt,E=Math.pow,e=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{EPSILON:1e-12,MACHINE_EPSILON:112e-18,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(T(2)-1)/3,isZero:function(t){return-1e-12<=t&&t<=1e-12},clamp:x,integrate:function(t,e,n,i){for(var r=d[i-2],o=f[i-2],s=.5*(n-e),a=s+e,l=0,u=i+1>>1,c=1&i?o[l++]*t(a):0;l<u;){var h=s*r[l];c+=o[l++]*(t(a+h)+t(a-h))}return s*c},findRoot:function(t,e,n,i,r,o,s){for(var a=0;a<o;a++){var l=t(n),u=l/e(n),c=n-u;if(S(u)<s){n=c;break}0<l?(r=n,n=c<=i?.5*(i+r):c):(i=n,n=r<=c?.5*(i+r):c)}return x(n,i,r)},solveQuadratic:function(t,e,n,i,r,o){var s,a=1/0;if(S(t)<1e-12){if(S(e)<1e-12)return S(n)<1e-12?-1:0;s=-n/e}else{var l=m(t,e*=-.5,n);if(l&&S(l)<112e-18){var u=C(S(t),S(e),S(n));u&&(l=m(t*=u,e*=u,n*=u))}if(-112e-18<=l){var c=l<0?0:T(l),h=e+(e<0?-c:c);0===h?a=-(s=n/t):(s=h/t,a=n/h)}}var d=0,f=null==r,p=r-1e-12,g=o+1e-12;return isFinite(s)&&(f||p<s&&s<g)&&(i[d++]=f?s:x(s,r,o)),a!==s&&isFinite(a)&&(f||p<a&&a<g)&&(i[d++]=f?a:x(a,r,o)),d},solveCubic:function(n,i,r,o,t,e,s){function a(t){var e=n*(l=t);h=(e+(u=e+i))*l+(c=u*l+r),d=c*l+o}var l,u,c,h,d,f=C(S(n),S(i),S(r),S(o));if(f&&(n*=f,i*=f,r*=f,o*=f),S(n)<1e-12)n=i,u=r,c=o,l=1/0;else if(S(o)<1e-12)u=i,c=r,l=0;else{a(-i/n/3);var p=d/n,g=E(S(p),1/3),m=p<0?-1:1,v=-h/n,y=0<v?1.324717957244746*Math.max(g,T(v)):g,_=l-m*y;if(_!==l){for(;a(_),m*l<m*(_=0===h?l:l-d/h/(1+112e-18)););S(n)*l*l>S(o/l)&&(u=((c=-o/l)-r)/l)}}var w=W.solveQuadratic(n,u,c,t,e,s),b=null==e;return isFinite(l)&&(0===w||0<w&&l!==t[0]&&l!==t[1])&&(b||e-1e-12<l&&l<s+1e-12)&&(t[w++]=b?l:x(l,e,s)),w}}},u={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},V=B.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),i&&(r=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var s="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(1<s.length?s[1]:s[0])):"x"in s?this._set(s.x||0,s.y||0):"width"in s?this._set(s.width||0,s.height||0):"angle"in s?(this._set(s.length||0,0),this.setAngle(s.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new V(this.x,this.y)},toString:function(){var t=b.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();W.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=V.read(arguments),e=this.getLength()*t.getLength();if(W.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(n<-1?-1:1<n?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return 0<=this.x?0<=this.y?1:4:0<=this.y?2:3}},{beans:!1,getDirectedAngle:function(){var t=V.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=V.read(arguments),e=t.x-this.x,n=t.y-this.y,i=e*e+n*n;return B.read(arguments)?i:Math.sqrt(i)},normalize:function(t){t===j&&(t=1);var e=this.getLength(),n=0!==e?t/e:0,i=new V(this.x*n,this.y*n);return 0<=n&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,i=Math.sin(t),r=Math.cos(t);return n=new V(n.x*r-n.y*i,n.x*i+n.y*r),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=V.read(arguments);return new V(this.x+t.x,this.y+t.y)},subtract:function(){var t=V.read(arguments);return new V(this.x-t.x,this.y-t.y)},multiply:function(){var t=V.read(arguments);return new V(this.x*t.x,this.y*t.y)},divide:function(){var t=V.read(arguments);return new V(this.x/t.x,this.y/t.y)},modulo:function(){var t=V.read(arguments);return new V(this.x%t.x,this.y%t.y)},negate:function(){return new V(-this.x,-this.y)},isInside:function(){return A.read(arguments).contains(this)},isClose:function(){var t=V.read(arguments),e=B.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=V.read(arguments);return V.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=V.read(arguments);return V.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=W.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return 0<=this.x*(1<t&&t<4?-1:1)&&0<=this.y*(2<t?-1:1)},dot:function(){var t=V.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=V.read(arguments);return this.x*t.y-this.y*t.x},project:function(){
var t=V.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new V(t.x*e,t.y*e)},statics:{min:function(){var t=V.read(arguments),e=V.read(arguments);return new V(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=V.read(arguments),e=V.read(arguments);return new V(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new V(Math.random(),Math.random())},isCollinear:function(t,e,n,i){return Math.abs(t*i-e*n)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))},isOrthogonal:function(t,e,n,i){return Math.abs(t*n+e*i)<=1e-8*Math.sqrt((t*t+e*e)*(n*n+i*i))}}},B.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new V(e(this.x),e(this.y))}},{})),h=V.extend({initialize:function(t,e,n,i){this._x=t,this._y=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),U=B.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t,i=this.__read,r=0;if("number"===n){var o="number"==typeof e;this._set(t,o?e:t),i&&(r=o?2:1)}else if("undefined"===n||null===t)this._set(0,0),i&&(r=null===t?1:0);else{var s="string"===n?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(1<s.length?s[1]:s[0])):"width"in s?this._set(s.width||0,s.height||0):"x"in s?this._set(s.x||0,s.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new U(this.width,this.height)},toString:function(){var t=b.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=U.read(arguments);return new U(this.width+t.width,this.height+t.height)},subtract:function(){var t=U.read(arguments);return new U(this.width-t.width,this.height-t.height)},multiply:function(){var t=U.read(arguments);return new U(this.width*t.width,this.height*t.height)},divide:function(){var t=U.read(arguments);return new U(this.width/t.width,this.height/t.height)},modulo:function(){var t=U.read(arguments);return new U(this.width%t.width,this.height%t.height)},negate:function(){return new U(-this.width,-this.height)},isZero:function(){var t=W.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new U(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new U(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new U(Math.random(),Math.random())}}},B.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new U(e(this.width),e(this.height))}},{})),n=U.extend({initialize:function(t,e,n,i){this._width=t,this._height=e,this._owner=n,this._setter=i},_set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),A=B.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,n,i){var r,o=typeof t;if("number"===o?(this._set(t,e,n,i),r=4):"undefined"===o||null===t?(this._set(0,0,0,0),r=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),r=1):t.x!==j||t.width!==j?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),r=1):t.from===j&&t.to===j&&(this._set(0,0,0,0),B.filter(this,t),r=1)),r===j){var s,a,l=V.readNamed(arguments,"from"),u=B.peek(arguments),c=l.x,h=l.y;if(u&&u.x!==j||B.hasNamed(arguments,"to")){var d=V.readNamed(arguments,"to");s=d.x-c,a=d.y-h,s<0&&(c=d.x,s=-s),a<0&&(h=d.y,a=-a)}else{var f=U.read(arguments);s=f.width,a=f.height}this._set(c,h,s,a),r=arguments.__index;var p=arguments.__filtered;p&&(this.__filtered=p)}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(t,e,n,i){return this.x=t,this.y=e,this.width=n,this.height=i,this},clone:function(){return new A(this.x,this.y,this.width,this.height)},equals:function(t){var e=B.isPlainValue(t)?A.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=b.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?V:h)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=V.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?U:n)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=U.read(arguments),e=this._sx,n=this._sy,i=t.width,r=t.height;e&&(this.x+=(this.width-i)*e),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?V:h)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=V.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==j||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(A.read(arguments)):this._containsPoint(V.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=A.read(arguments),e=B.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=A.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new A(e,n,i-e,r-n)},unite:function(){var t=A.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new A(e,n,i-e,r-n)},include:function(){var t=V.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new A(e,n,i-e,r-n)},expand:function(){var t=U.read(arguments),e=t.width,n=t.height;return new A(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===j?t:e)-this.height)}},B.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),i=/^[RL]/.test(n);4<=e&&(t[1]+=i?"Y":"X");var r=t[i?0:1],o=t[i?1:0],s="get"+r,a="get"+o,l="set"+r,u="set"+o,c="set"+n;this["get"+n]=function(t){return new(t?V:h)(this[s](),this[a](),this,c)},this[c]=function(){var t=V.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),o=A.extend({initialize:function(t,e,n,i,r,o){this._set(t,e,n,i,!0),this._owner=r,this._setter=o},_set:function(t,e,n,i,r){return this._x=t,this._y=e,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var n=A.prototype;return B.each(["x","y","width","height"],function(t){var e=B.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._dontNotify||this._owner[this._setter](this)}},B.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var e="set"+t;this[e]=function(){this._dontNotify=!0,n[e].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),X=B.extend({_class:"Matrix",initialize:function C(t,e){var n=arguments.length,i=!0;if(6<=n?this._set.apply(this,arguments):1===n||2===n?t instanceof C?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):i=!1:n?i=!1:this.reset(),!i)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,n,i,r,o,s){return this._a=t,this._b=e,this._c=n,this._d=i,this._tx=r,this._ty=o,s||this._changed(),this},_serialize:function(t,e){return B.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new X(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=b.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var n=this._owner;return!!n&&(n.transform(null,!0,B.pick(t,!0),e),this.isIdentity())},translate:function(){var t=V.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._c,this._ty+=e*this._b+n*this._d,this._changed(),this},scale:function(){var t=V.read(arguments),e=V.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=V.read(arguments,1),n=e.x,i=e.y,r=Math.cos(t),o=Math.sin(t),s=n-n*r+i*o,a=i-n*o-i*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+o*c,this._b=r*u+o*h,this._c=-o*l+r*c,this._d=-o*u+r*h,this._tx+=s*l+a*c,this._ty+=s*u+a*h,this._changed(),this},shear:function(){var t=V.read(arguments),e=V.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*i,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=V.read(arguments),e=V.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new V(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(i,e)},append:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,o=this._d,s=t._a,a=t._c,l=t._b,u=t._d,c=t._tx,h=t._ty;this._a=s*n+l*r,this._c=a*n+u*r,this._b=s*i+l*o,this._d=a*i+u*o,this._tx+=c*n+h*r,this._ty+=c*i+h*o,e||this._changed()}return this},prepend:function(t,e){if(t){var n=this._a,i=this._b,r=this._c,o=this._d,s=this._tx,a=this._ty,l=t._a,u=t._c,c=t._b,h=t._d,d=t._tx,f=t._ty;this._a=l*n+u*i,this._c=l*r+u*o,this._b=c*n+h*i,this._d=c*r+h*o,this._tx=l*s+u*a+d,this._ty=c*s+h*a+f,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,n=this._c,i=this._d,r=this._tx,o=this._ty,s=t*i-e*n,a=null;return s&&!isNaN(s)&&isFinite(r)&&isFinite(o)&&(this._a=i/s,this._b=-e/s,this._c=-n/s,this._d=t/s,this._tx=(n*o-i*r)/s,this._ty=(e*r-t*o)/s,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new X(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(V.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var i=t.x,r=t.y;return e||(e=new V),e._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var i=0,r=2*n;i<r;i+=2){var o=t[i],s=t[i+1];e[i]=o*this._a+s*this._c+this._tx,e[i+1]=o*this._b+s*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,i=e+t.width,r=n+t.height,o=[e,n,i,n,i,r,e,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var i=this._transformCorners(t),r=i.slice(0,2),o=r.slice(),s=2;s<8;s++){var a=i[s],l=1&s;a<r[l]?r[l]=a:a>o[l]&&(o[l]=a)}return e||(e=new A),e._set(r[0],r[1],o[0]-r[0],o[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(V.read(arguments))},_inverseTransform:function(t,e,n){var i=this._a,r=this._b,o=this._c,s=this._d,a=this._tx,l=this._ty,u=i*s-r*o,c=null;if(u&&!isNaN(u)&&isFinite(a)&&isFinite(l)){var h=t.x-this._tx,d=t.y-this._ty;e||(e=new V),c=e._set((h*s-d*o)/u,(d*i-h*r)/u,n)}return c},decompose:function(){var t,e,n,i=this._a,r=this._b,o=this._c,s=this._d,a=i*s-r*o,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var h=l(i*i+r*r);t=Math.acos(i/h)*(0<r?1:-1),e=[h,a/h],n=[u(i*o+r*s,h*h),0]}else if(0!==o||0!==s){var d=l(o*o+s*s);t=Math.asin(o/d)*(0<s?1:-1),e=[a/d,d],n=[0,u(i*o+r*s,d*d)]}else n=e=[t=0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new V(e),skewing:new V(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new V(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},B.each(["a","b","c","d","tx","ty"],function(t){var e=B.capitalize(t),n="_"+t;this["get"+e]=function(){return this[n]},this["set"+e]=function(t){this[n]=t,this._changed()}},{})),$=B.extend({_class:"Line",initialize:function(t,e,n,i,r){var o=!1;4<=arguments.length?(this._px=t,this._py=e,this._vx=n,this._vy=i,o=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new V(this._px,this._py)},getVector:function(){return new V(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return $.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return $.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return $.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return V.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return V.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,i,r,o,s,a,l,u){l||(n-=t,i-=e,s-=r,a-=o);var c=n*a-i*s;if(!W.isZero(c)){var h=t-r,d=e-o,f=(s*d-a*h)/c,p=(n*d-i*h)/c;if(u||-1e-12<f&&f<1+1e-12&&-1e-12<p&&p<1+1e-12)return u||(f=f<=0?0:1<=f?1:f),new V(t+f*n,e+f*i)}},getSide:function(t,e,n,i,r,o,s,a){s||(n-=t,i-=e);var l=r-t,u=l*i-(o-e)*n;return!a&&W.isZero(u)&&0<=(u=(l*n+l*n)/(n*n+i*i))&&u<=1&&(u=0),u<0?-1:0<u?1:0},getSignedDistance:function(t,e,n,i,r,o,s){return s||(n-=t,i-=e),0===n?0<i?r-t:t-r:0===i?n<0?o-e:e-o:((r-t)*i-(o-e)*n)/Math.sqrt(n*n+i*i)},getDistance:function(t,e,n,i,r,o,s){return Math.abs($.getSignedDistance(t,e,n,i,r,o,s))}}}),x=e.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){e.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new p(null,null,this),this._view=J.create(this,t||et.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return B.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&e){var r=this._changesById,o=e._id,s=r[o];s?s.flags|=t:i.push(r[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;0<=e;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function C(){return!!C.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new a({project:this,insert:!0})},getSymbolDefinitions:function(){var i=[],r={};return this.getItems({"class":s,match:function(t){var e=t._definition,n=e._id;return r[n]||(r[n]=!0,i.push(e)),!1}}),i},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var n in t){var i=t[n],r=i._selection;1&r&&i.isInserted()?e.push(i):r||this._updateSelection(i)}return e},_updateSelection:function(t){var e=t._id,n=this._selectionItems;t._selection?n[e]!==t&&(this._selectionCount++,n[e]=t):n[e]===t&&(this._selectionCount--,delete n[e])},selectAll:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(j,t)},insertLayer:function(t,e){if(e instanceof a){e._remove(!1,!0),B.splice(this._children,[e],t,0),e._setProject(this,!0);var n=e._name;n&&e.setName(n),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(j,new a(L.NO_INSERT),!0)).insertChild(t,e),n&&e.activate&&e.activate(),e},getItems:function(t){return L._getItems(this,t)},getItem:function(t){return L._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return B.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var n=e[t];if(n){for(var i in n){var r=n[i];for(var o in e){var s=e[o];s&&s!=n&&delete s[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,n){this._updateVersion++,t.save(),e.applyToContext(t);for(var i=this._children,r=new B({offset:new V(0,0),pixelRatio:n,viewMatrix:e.isIdentity()?null:e,matrices:[new X],updateMatrix:!0}),o=0,s=i.length;o<s;o++)i[o].draw(t,r);if(t.restore(),0<this._selectionCount){t.save(),t.strokeWidth=1;var a=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var c in a)a[c]._drawSelection(t,e,l,a,u);t.restore()}}}),L=B.extend(t,{statics:{extend:function C(t){return t._serializeFields&&(t._serializeFields=B.set({},this.prototype._serializeFields,t._serializeFields)),C.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new X,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return B.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var n=t&&B.isPlainObject(t),i=n&&!0===t.internal,r=this._matrix=new X,o=n&&t.project||paper.project,s=paper.settings;return this._id=i?null:u.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&s.applyMatrix,e&&r.translate(e),(r._owner=this)._style=new p(o._currentStyle,this,o),i||n&&0==t.insert||!s.insertItems&&(!n||!0!==t.insert)?this._setProject(o):(n&&t.parent||o)._insertItem(j,this,!0),n&&t!==L.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(i,r){function t(t){for(var e in t){var n=s[e];B.equals(n,"leading"===e?1.2*t.fontSize:t[e])||(o[e]=B.serialize(n,i,"data"!==e,r))}}var o={},s=this;return t(this._serializeFields),this instanceof S||t(this._style._defaults),[this._class,o]},_changed:function(t){var e=this._symbol,n=this._parent||e,i=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=j),n&&40&t&&L._clearBoundsCache(n),2&t&&L._clearBoundsCache(this),i&&i._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var n=e._children,i=e._namedChildren;(i[t]=i[t]||[]).push(this),t in n||(n[t]=this)}this._name=t||j,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},B.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=B.capitalize(e),n="_"+e,i={locked:128,visible:137};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(i[e]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;e<n;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var n=0,i=t.length;n<i;n++)if(!t[n].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,i=e.length;n<i;n++)e[n].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&((this._clipMask=t)&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?V:h;if(!e){var i=this._pivot;e=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(V.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new h(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=V.read(arguments,0,{clone:!0,readNull:!0}),this._position=j}},B.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(t,e){var n=e||t instanceof X,i=B.set({},n?e:t,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&t,i).rect;return arguments.length?r:new o(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=A.read(arguments),e=this.getBounds(),n=this._matrix,i=new X,r=t.getCenter();i.translate(r),t.width==e.width&&t.height==e.height||(n.isInvertible()||(n.set(n._backup||(new X).translate(n.getTranslation())),e=this.getBounds()),i.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(t,e){var n=this._children;return n&&n.length?(L._updateBoundsCache(this,e.cacheItem),L._getBounds(n,t,e)):new A},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,n){t=t&&t._orNullIfIdentity();var i=e.internal&&!n,r=e.cacheItem,o=i?null:this._matrix._orNullIfIdentity(),s=r&&(!t||t.equals(o))&&this._getBoundsCacheKey(e,i),a=this._bounds;if(L._updateBoundsCache(this._parent||this._symbol,r),s&&a&&s in a)return{rect:(d=a[s]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(t||o,e),u=l.rect||l,c=this._style,h=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(s){a||(this._bounds=a={});var d=a[s]={rect:u.clone(),nonscaling:h,internal:i}}return{rect:u,nonscaling:h}},_getStrokeMatrix:function(t,e){var n=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():t;return i&&i._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var n=e._id,i=t._boundsCache=t._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(e),i.ids[n]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=j;for(var n=0,i=e.list,r=i.length;n<r;n++){var o=i[n];o!==t&&(o._bounds=o._position=j,o._boundsCache&&L._clearBoundsCache(o))}}},_getBounds:function(t,e,n){var i=1/0,r=-i,o=i,s=r,a=!1;n=n||{};for(var l=0,u=t.length;l<u;l++){var c=t[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(e&&e.appended(c._matrix),n,!0),d=h.rect;i=Math.min(d.x,i),o=Math.min(d.y,o),r=Math.max(d.x+d.width,r),s=Math.max(d.y+d.height,s),h.nonscaling&&(a=!0)}}return{rect:isFinite(i)?new A(i,o,r-i,s-o):new A,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n&&(n.rotation=t,this._decomposed=n)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new h(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=V.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var n=this.getRotation(),i=this._decomposed,r=new X,o=this.getPosition(!0);r.translate(o),n&&r.rotate(n),r.scale(e.x/t.x,e.y/t.y),n&&r.rotate(-n),r.translate(o.negate()),this.transform(r),i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function C(t){C.base.call(this,t);for(var e=this._children,n=0,i=e&&e.length;n<i;n++)e[n]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof a)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return B.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(L.NO_INSERT),n=this._children,i=B.pick(t?t.insert:j,t===j||!0===t),r=B.pick(t?t.deep:j,!0);n&&e.copyAttributes(this),n&&!r||e.copyContent(this),n||e.copyAttributes(this),i&&e.insertAbove(this);var o=this._name,s=this._parent;if(o&&s){n=s._children;for(var a=o,l=1;n[o];)o=a+" "+l++;o!==a&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,n=0,i=e&&e.length;n<i;n++)this.addChild(e[n].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var o=n[i];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var s=t._data,a=t._name;this._data=s?B.clone(s):null,a&&this.setName(a)},rasterize:function(t,e){var n=this.getStrokeBounds(),i=(t||this.getView().getResolution())/72,r=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),s=new U(o.subtract(r)),a=new E(L.NO_INSERT);if(!s.isZero()){var l=et.getCanvas(s.multiply(i)),u=l.getContext("2d"),c=(new X).scale(i).translate(r.negate());u.save(),c.applyToContext(u),this.draw(u,new B({matrices:[c]})),u.restore(),a.setCanvas(l)}return a.transform((new X).translate(r.add(s.divide(2))).scale(1/i)),(e===j||e)&&a.insertAbove(this),a},contains:function(){return!!this._contains(this._matrix._inverseTransform(V.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var n=e.length-1;0<=n;n--)if(e[n].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return A.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new R.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof L&&0<this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length}},new function(){function t(){return this._hitTest(V.read(arguments),M.getOptions(arguments))}function e(){var t=V.read(arguments),e=M.getOptions(arguments),n=[];return this._hitTest(t,B.set({all:n},e)),n}function n(t,e,n,i){var r=this._children;if(r)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s!==i&&s._hitTest(t,e,n);if(a&&!e.all
)return a}return null}return x.inject({hitTest:t,hitTestAll:e,_hitTest:n}),{hitTest:t,hitTestAll:e,_hitTestChildren:n}},{_hitTest:function(i,e,t){function n(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(t,e){var n=e?u["get"+e]():f.getPosition();if(i.subtract(n).divide(l).length<=1)return new M(t,f,{name:e?B.hyphenate(e):t,point:n})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,s=t?t.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new U(R._getStrokePadding(a,o._shiftless().invert()));if(!(i=o._inverseTransform(i))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(i))return null;var u,c,h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==B.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),d=e.match,f=this,p=e.position,g=e.center,m=e.bounds;if(h&&this._parent&&(p||g||m)){if((g||m)&&(u=this.getInternalBounds()),!(c=p&&r("position")||g&&r("center","Center"))&&m)for(var v=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],y=0;y<8&&!c;y++)c=r("bounds",v[y]);c=n(c)}return c||(c=this._hitTestChildren(i,e,s)||h&&n(this._hitTestSelf(i,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),c&&c.point&&(c.point=o.transform(c.point)),c},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new M("fill",this)},matches:function(o,t){var e=typeof o;if("object"===e){for(var n in o)if(o.hasOwnProperty(n)&&!this.matches(n,o[n]))return!1;return!0}if("function"===e)return o(this);if("match"===o)return t(this);var i=/^(empty|editable)$/.test(o)?this["is"+B.capitalize(o)]():"type"===o?B.hyphenate(this._class):this[o];if("class"===o){if("function"==typeof t)return this instanceof t;i=this._class}if("function"==typeof t)return!!t(i);if(t){if(t.test)return t.test(i);if(B.isPlainObject(t))return function o(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],r=e[n];if(B.isPlainObject(i)&&B.isPlainObject(r)){if(!o(i,r))return!1}else if(!B.equals(i,r))return!1}return!0}(t,i)}return B.equals(i,t)},getItems:function(t){return L._getItems(this,t,this._matrix)},getItem:function(t){return L._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function C(t,e,n,i,r){if(!i){var o="object"==typeof e&&e,s=o&&o.overlapping,a=o&&o.inside,l=(m=s||a)&&A.read([m]);i={items:[],recursive:o&&!1!==o.recursive,inside:!!a,overlapping:!!s,rect:l,path:s&&new R.Rectangle({rectangle:l,insert:!1})},o&&(e=B.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var u=t._children,c=i.items;n=(l=i.rect)&&(n||new X);for(var h=0,d=u&&u.length;h<d;h++){var f=u[h],p=n&&n.appended(f._matrix),g=!0;if(l){var m=f.getBounds(p);if(!l.intersects(m))continue;l.contains(m)||i.overlapping&&(m.contains(l)||i.path.intersects(f,p))||(g=!1)}if(g&&f.matches(e)&&(c.push(f),r))break;if(!1!==i.recursive&&C(f,e,p,i,r),r&&0<c.length)break}return c}}},{importJSON:function(t){var e=B.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(j,t)},insertChild:function(t,e){var n=e?this.insertChildren(t,[e]):null;return n&&n[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var n=this._children;if(n&&e&&0<e.length){for(var i={},r=(e=B.slice(e)).length-1;0<=r;r--){var o=(u=e[r])&&u._id;!u||i[o]?e.splice(r,1):(u._remove(!1,!0),i[o]=!0)}B.splice(n,e,t,0);for(var s=this._project,a=s._changes,l=(r=0,e.length);r<l;r++){var u,c=(u=e[r])._name;u._parent=this,u._setProject(s,!0),c&&u.setName(c),a&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var n=t&&t._getOwner(),i=t!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(t._index+e,i)),i},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(j,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(j,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var n=e[0].reduce(t);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,n=t._namedChildren,i=this._name,r=n[i],o=r?r.indexOf(this):-1;-1!==o&&(e[i]==this&&delete e[i],r.splice(o,1),r.length?e[i]=r[0]:delete n[i])}},_remove:function(t,e){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),B.splice(n._children,null,r,1)),this._installEvents(!1),t&&i._changes&&this._changed(5),e&&n._changed(11,this),!(this._parent=null))},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=B.pick(e,this._children.length);for(var n=B.splice(this._children,null,t,e-t),i=n.length-1;0<=i;i--)n[i]._remove(!0,!1);return 0<n.length&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){for(var e=[];e.unshift(t),t=t._parent;);return e}for(var n=e(this),i=e(t),r=0,o=Math.min(n.length,i.length);r<o;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&0<this._children.length},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},B.each(["rotate","scale","shear","skew"],function(n){var i="rotate"===n;this[n]=function(){var t=(i?B:V).read(arguments),e=V.read(arguments,0,{readNull:!0});return this.transform((new X)[n](t,e||this.getPosition(!0)))}},{translate:function(){var t=new X;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,n,i){var r=this._matrix,o=t&&!t.isIdentity(),s=(e||this._applyMatrix)&&(!r.isIdentity()||o||e&&n&&this._children);if(!o&&!s)return this;if(o){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var a=this._style,l=a.getFillColor(!0),u=a.getStrokeColor(!0);l&&l.transform(t),u&&u.transform(t)}if(s&&(s=this._transformContent(r,n,i))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,d=this._position;(o||s)&&this._changed(9);var f=o&&h&&t.decompose();if(f&&f.skewing.isZero()&&f.rotation%90==0){for(var p in h){var g=h[p];if(g.nonscaling)delete h[p];else if(s||!g.internal){var m=g.rect;t._transformBounds(m,m)}}var v=(this._bounds=h)[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=v.rect.getCenter(!0))}else o&&d&&this._pivot&&(this._position=t._transformPoint(d,d));return this},_transformContent:function(t,e,n){var i=this._children;if(i){for(var r=0,o=i.length;r<o;r++)i[r].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(V.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(V.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(V.read(arguments))},localToParent:function(){return this._matrix._transformPoint(V.read(arguments))},fitBounds:function(t,e){t=A.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=t.height/t.width,o=(e?r<i:i<r)?t.width/n.width:t.height/n.height,s=new A(new V,new U(n.width*o,n.height*o));s.setCenter(t.getCenter()),this.setBounds(s)}}),{_setStyles:function(t,e,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(t.fillStyle=i.getFillColor().toCanvasStyle(t,r)),i.hasStroke()){t.strokeStyle=i.getStrokeColor().toCanvasStyle(t,r),t.lineWidth=i.getStrokeWidth();var o=i.getStrokeJoin(),s=i.getStrokeCap(),a=i.getMiterLimit();if(o&&(t.lineJoin=o),s&&(t.lineCap=s),a&&(t.miterLimit=a),paper.support.nativeDash){var l=i.getDashArray(),u=i.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=u):(t.mozDash=l,t.mozDashOffset=u))}}if(i.hasShadow()){var c=e.pixelRatio||1,h=n._shiftless().prepend((new X).scale(c,c)),d=h.transform(new V(i.getShadowBlur(),0)),f=h.transform(this.getShadowOffset());t.shadowColor=i.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}},draw:function(t,e,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,o=e.viewMatrix,s=this._matrix,a=r[r.length-1].appended(s);if(a.isInvertible()){o=o?o.appended(a):a,r.push(a),e.updateMatrix&&(a._updateVersion=i,this._globalMatrix=a);var l,u,c,h=this._blendMode,d=this._opacity,f="normal"===h,p=nt.nativeModes[h],g=f&&1===d||e.dontStart||e.clip||(p||f&&d<1)&&this._canComposite(),m=e.pixelRatio||1;if(!g){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;c=e.offset,u=e.offset=v.getTopLeft().floor(),l=t,t=et.getContext(v.getSize().ceil().add(1).multiply(m)),1!==m&&t.scale(m,m)}t.save();var y=n?n.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,_=!g&&e.clipItem,w=!y||_;if(g?(t.globalAlpha=d,p&&(t.globalCompositeOperation=h)):w&&t.translate(-u.x,-u.y),w&&(g?s:o).applyToContext(t),_&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(m,0,0,m,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,o,y),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(nt.process(h,t,l,d,u.subtract(c).multiply(m)),et.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof F)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,i,r){var o=this._selection,s=1&o,a=2&o||s&&this._selectBounds,l=4&o;if(this._drawSelected||(s=!1),(s||a||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),d=n/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",s&&this._drawSelected(t,h,i),l){var f=this.getPosition(!0),p=f.x,g=f.y;t.beginPath(),t.arc(p,g,d,0,2*Math.PI,!0),t.stroke();for(var m=[[0,-1],[1,0],[0,1],[-1,0]],v=d,y=n+1,_=0;_<4;_++){var w=m[_],b=w[0],x=w[1];t.moveTo(p+b*v,g+x*v),t.lineTo(p+b*y,g+x*y),t.stroke()}}if(a){var C=h._transformCorners(this.getInternalBounds());for(t.beginPath(),_=0;_<8;_++)t[_?"lineTo":"moveTo"](C[_],C[++_]);for(t.closePath(),t.stroke(),_=0;_<8;_++)t.fillRect(C[_]-d,C[++_]-d,n,n)}}},_canComposite:function(){return!1}},B.each(["down","drag","up","move"],function(e){this["removeOn"+B.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),S=L.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function C(t){C.base.call(this,t),1026&t&&(this._clipItem=j)},_getClipItem:function(){var t=this._clipItem;if(t===j){t=null;for(var e=this._children,n=0,i=e.length;n<i;n++)if(e[n]._clipMask){t=e[n];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function C(t,e){var n=this._getClipItem();return n?n._getCachedBounds(t&&t.appended(n._matrix),B.set({},e,{stroke:!1})):C.base.call(this,t,e)},_hitTestChildren:function C(t,e,n){var i=this._getClipItem();return(!i||i.contains(t))&&C.base.call(this,t,e,n,i)},_draw:function(t,e){var n=e.clip,i=!n&&this._getClipItem();e=e.extend({clipItem:i,clip:!1}),n?(t.beginPath(),e.dontStart=e.dontFinish=!0):i&&i.draw(t,e.extend({clip:!0}));for(var r=this._children,o=0,s=r.length;o<s;o++){var a=r[o];a!==i&&a.draw(t,e)}}}),a=S.extend({_class:"Layer",initialize:function(){S.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function C(){return this._parent?C.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),T=L.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&B.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new n(t.width,t.height,this,"setSize")},setSize:function(){var t=U.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,i=t.height;"rectangle"===e?this._radius.set(U.min(this._radius,t.divide(2))):"circle"===e?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===e&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new n(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size._set(n,n)}else if(t=U.read(arguments),this._radius){if(this._radius.equals(t))return;this._radius.set(t),"rectangle"===e?(n=U.max(this._size,t.multiply(2)),this._size.set(n)):"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(R[B.capitalize(this._type)])({center:new V,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),paper.settings.applyMatrix&&e.setApplyMatrix(!0),(t===j||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,n,i){var r=this._style,o=r.hasFill(),s=r.hasStroke(),a=e.dontFinish||e.clip,l=!i;if(o||s||a){var u=this._type,c=this._radius,h="circle"===u;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var d=h?c:c.width,f=h?c:c.height,p=this._size,g=p.width,m=p.height;if(l&&"rectangle"===u&&0===d&&0===f)t.rect(-g/2,-m/2,g,m);else{var v=g/2,y=m/2,_=.44771525016920644,w=d*_,b=f*_,x=[-v,-y+f,-v,-y+b,-v+w,-y,-v+d,-y,v-d,-y,v-w,-y,v,-y+b,v,-y+f,v,y-f,v,y-b,v-w,y,v-d,y,-v+d,y,-v+w,y,-v,y-b,-v,y-f];i&&i.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),y!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==d&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}a||!o&&!s||(this._setStyles(t,e,n),o&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),s&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new A(this._size).setCenter(0,0),i=this._style,r=e.stroke&&i.hasStroke()&&i.getStrokeWidth();return t&&(n=t._transformBounds(n)),r?n.expand(R._getStrokePadding(r,this._getStrokeMatrix(t,e))):n}},new function(){function v(t,e,n){var i=t._radius;if(!i.isZero())for(var r=t._size.divide(2),o=1;o<=4;o++){var s=new V(1<o&&o<4?-1:1,2<o?-1:1),a=s.multiply(r),l=a.subtract(s.multiply(i));if(new A(n?a.add(s.multiply(n)):a,l).contains(e))return{point:l,quadrant:o}}}function y(t,e,n,i){var r=t.divide(e);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(e).divide(n).length<=1}return{_contains:function y(t){if("rectangle"!==this._type)return t.divide(this.size).getLength()<=.5;var e=v(this,t);return e?t.subtract(e.point).divide(this._radius).getLength()<=1:y.base.call(this,t)},_hitTestSelf:function _(t,e,n,i){var r=!1,o=this._style,s=e.stroke&&o.hasStroke(),a=e.fill&&o.hasFill();if(s||a){var l=this._type,u=this._radius,c=s?o.getStrokeWidth()/2:0,h=e._tolerancePadding.add(R._getStrokePadding(c,!o.getStrokeScaling()&&i));if("rectangle"===l){var d=h.multiply(2),f=v(this,t,d);if(f)r=y(t.subtract(f.point),u,h,f.quadrant);else{var p=new A(this._size).setCenter(0,0),g=p.expand(d),m=p.expand(d.negate());r=g._containsPoint(t)&&!m._containsPoint(t)}}else r=y(t,u,h)}return r?new M(s?"stroke":"fill",this):_.base.apply(this,arguments)}}},{statics:new function(){function n(t,e,n,i,r){var o=new T(B.getNamed(r),e);return o._type=t,o._size=n,o._radius=i,o}return{Circle:function(){var t=V.readNamed(arguments,"center"),e=B.readNamed(arguments,"radius");return n("circle",t,new U(2*e),e,arguments)},Rectangle:function(){var t=A.readNamed(arguments,"rectangle"),e=U.min(U.readNamed(arguments,"radius"),t.getSize(!0).divide(2));return n("rectangle",t.getCenter(!0),t.getSize(!0),e,arguments)},Ellipse:function(){var t=T._readEllipse(arguments),e=t.radius;return n("ellipse",t.center,e.multiply(2),e,arguments)},_readEllipse:function(t){var e,n;if(B.hasNamed(t,"radius"))e=V.readNamed(t,"center"),n=U.readNamed(t,"radius");else{var i=A.readNamed(t,"rectangle");e=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:e,radius:n}}}}}),E=L.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==j&&V.read(arguments,1))){var n="string"==typeof t?I.getElementById(t):t;n?this.setImage(n):this.setSource(t)}this._size||(this._size=new U,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,n=t._canvas;if(e)this._setImage(e);else if(n){var i=et.getCanvas(t._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new n(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=U.read(arguments);if(!t.equals(this._size))if(0<t.width&&0<t.height){var e=this.getElement();this._setImage(et.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&et.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new V(0,0).transform(t),n=new V(1,0).transform(t).subtract(e),i=new V(0,1).transform(t).subtract(e);return new U(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){function n(t){var e=i.getView(),n=t&&t.type||"load";e&&i.responds(n)&&(paper=e._scope,i.emit(n,new g(t)))}var i=this;this._setImage(e),this._loaded?setTimeout(n,0):e&&Z.add(e,{load:function(t){i._setImage(e),n(t)},error:n})},_setImage:function(t){this._canvas&&et.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new U(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=et.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(j){et.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new C.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=A.read(arguments),e=et.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=A.read(arguments),e=new E(L.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(t){var e=V.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,n;if(t?t instanceof z?e=(n=t).getBounds():"object"==typeof t&&("width"in t?e=new A(t):"x"in t&&(e=new A(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var i=Math.min(e.width,32),r=Math.min(e.height,32),o=E._sampleContext;o?o.clearRect(0,0,33,33):o=E._sampleContext=et.getContext(new U(32)),o.save();var s=(new X).scale(i/e.width,r/e.height).translate(-e.x,-e.y);s.applyToContext(o),n&&n.draw(o,new B({clip:!0,matrices:[s]})),this._matrix.applyToContext(o);var a=this.getElement(),l=this._size;a&&o.drawImage(a,-l.width/2,-l.height/2),o.restore();for(var u=o.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,c=[0,0,0],h=0,d=0,f=u.length;d<f;d+=4){var p=u[d+3];h+=p,p/=255,c[0]+=u[d]*p,c[1]+=u[d+1]*p,c[2]+=u[d+2]*p}for(d=0;d<3;d++)c[d]/=h;return h?N.read(c):null},getPixel:function(){var t=V.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new N("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=V.read(arguments),e=N.read(arguments),n=e._convert("rgb"),i=e._alpha,r=this.getContext(!0),o=r.createImageData(1,1),s=o.data;s[0]=255*n[0],s[1]=255*n[1],s[2]=255*n[2],s[3]=null!=i?255*i:255,r.putImageData(o,t.x,t.y)},createImageData:function(){var t=U.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=A.read(arguments);return t.isEmpty()&&(t=new A(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=V.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t){var e=new A(this._size).setCenter(0,0);return t?t._transformBounds(e):e},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new M("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),s=L.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==j&&V.read(arguments,1))||this.setDefinition(t instanceof k?t:new k(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(t),e)},_hitTestSelf:function(t,e,n){var i=this._definition._item._hitTest(t,e,n);return i&&(i.item=this),i},_draw:function(t,e){this._definition._item.draw(t,e)}}),k=B.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=u.get(),this.project=paper.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return B.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&L._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),(this._item=t).remove(),t.setSelected(!1),e||t.setPosition(new V),(t._symbol=this)._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new s(this,t)},clone:function(){return new k(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),M=B.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&B.read(t);return B.set({type:null,tolerance:paper.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Y=B.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,n,i,r,o){var s,a,l,u,c=arguments.length;0<c&&(null==t||"object"==typeof t?1===c&&t&&"point"in t?(s=t.point,a=t.handleIn,l=t.handleOut,u=t.selection):(s=t,a=e,l=n,u=i):(s=[t,e],a=n!==j?[n,i]:null,l=r!==j?[r,o]:null)),new d(s,this,"_point"),new d(a,this,"_handleIn"),new d(l,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(t,e){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),B.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var n,i=e._curves,r=this._index;i&&(t&&t!==this._point&&t!==this._handleIn||!(n=0<r?i[r-1]:e._closed?i[i.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=i[r])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(V.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(V.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(V.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,n=this._path;this._selection=t=t||0,n&&t!==e&&(n._updateSelection(this,e,t),n._changed(129))},_changeSelection:function(t,e){var n=this._selection;this.setSelection(e?n|t:n&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==j?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(0<e&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new q(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,n){var i=t||{},r=i.type,o=i.factor,s=this.getPrevious(),a=this.getNext(),l=(s||this)._point,u=this._point,c=(a||this)._point,h=l.getDistance(u),d=u.getDistance(c);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(s&&a){var f=l.subtract(c),p=o===j?.4:o,g=p*h/(h+d);e||this.setHandleIn(f.multiply(g)),n||this.setHandleOut(f.multiply(g-p))}}else{var m=o===j?.5:o,v=Math.pow(h,m),y=v*v,_=Math.pow(d,m),w=_*_;if(!e&&s){var b=2*w+3*_*v+y,x=3*_*(_+v);this.setHandleIn(0!==x?new V((w*l._x+b*u._x-y*c._x)/x-u._x,(w*l._y+b*u._y-y*c._y)/x-u._y):new V)}!n&&a&&(b=2*y+3*v*_+w,x=3*v*(v+_),this.setHandleOut(0!==x?new V((y*c._x+b*u._x-w*l._x)/x-u._x,(y*c._y+b*u._y-w*l._y)/x-u._y):new V))}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t.clone();t.set(e),e.set(n)},reversed:function(){return new Y(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Y(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,n){var i=1-n,r=n,o=t._point,s=e._point,a=t._handleIn,l=e._handleIn,u=e._handleOut,c=t._handleOut;this._point._set(i*o._x+r*s._x,i*o._y+r*s._y,!0),this._handleIn._set(i*a._x+r*l._x,i*a._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(t,e,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,s=i._x,a=i._y,l=2;return e[0]=s,e[1]=a,r&&(e[l++]=r._x+s,e[l++]=r._y+a),o&&(e[l++]=o._x+s,e[l++]=o._y+a),t&&(t._transformCoordinates(e,e,l/2),s=e[0],a=e[1],n?(i._x=s,i._y=a,l=2,r&&(r._x=e[l++]-s,r._y=e[l++]-a),o&&(o._x=e[l++]-s,o._y=e[l++]-a)):(r||(e[l++]=s,e[l++]=a),o||(e[l++]=s,e[l++]=a))),e}}),d=V.extend({initialize:function(t,e,n){var i,r,o;if(t)if((i=t[0])!==j)r=t[1];else{var s=t;(i=s.x)===j&&(i=(s=V.read(arguments)).x),r=s.y,o=s.selected}else i=r=0;this._x=i,this._y=r,(this._owner=e)[n]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=W.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),G=B.extend({_class:"Curve",beans:!0,initialize:function(t,e,n,i,r,o,s,a){var l,u,c,h,d,f,p=arguments.length;3===p?(this._path=t,l=e,u=n):p?1===p?"segment1"in t?(l=new Y(t.segment1),u=new Y(t.segment2)):"point1"in t?(c=t.point1,d=t.handle1,f=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new Y(t),u=new Y(e)):4===p?(c=t,d=e,f=n,h=i):8===p&&(c=[t,e],h=[s,a],d=[n-t,i-e],f=[r-s,o-a]):(l=new Y,u=new Y),this._segment1=l||new Y(c,null,d),this._segment2=u||new Y(h,f,null)},_serialize:function(t,e){return B.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=j},clone:function(){return new G(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push(
"handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return G.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(n)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(V.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(V.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(V.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(V.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return G.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;n<8;n+=2)e.push(new V(t[n],t[n+1]));return e}},{getLength:function(){return null==this._length&&(this._length=G.getLength(this.getValues(),0,1)),this._length},getArea:function(){return G.getArea(this.getValues())},getLine:function(){return new $(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new G(G.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return G.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var n=null;if(1e-8<=t&&t<=1-1e-8){var i=G.subdivide(this.getValues(),t),r=i[0],o=i[1],s=e||this.hasHandles(),a=this._segment1,l=this._segment2,u=this._path;s&&(a._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(o[4]-o[6],o[5]-o[7]));var c=r[6],h=r[7],d=new Y(new V(c,h),s&&new V(r[4]-c,r[5]-h),s&&new V(o[2]-c,o[3]-h));u?(u.insert(a._index+1,d),n=this.getNext()):(this._segment2=d,this._changed(),n=new G(d,l))}return n},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===j?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===j?.5:e?t:this.getTimeAt(t))},reversed:function(){return new G(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,n,i){var r=t._point,o=t._handleOut,s=e._handleIn,a=e._point,l=r.x,u=r.y,c=a.x,h=a.y,d=i?[l,u,l,u,c,h,c,h]:[l,u,l+o._x,u+o._y,c+s._x,h+s._y,c,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7];e===j&&(e=.5);var c=1-e,h=c*n+e*r,d=c*i+e*o,f=c*r+e*s,p=c*o+e*a,g=c*s+e*l,m=c*a+e*u,v=c*h+e*f,y=c*d+e*p,_=c*f+e*g,w=c*p+e*m,b=c*v+e*_,x=c*y+e*w;return[[n,i,h,d,v,y,b,x],[b,x,_,w,g,m,l,u]]},getMonoCurves:function(t,e){var n=[],i=e?0:1,r=t[i+0],o=t[i+2],s=t[i+4],a=t[i+6];if(o<=r==s<=o&&s<=o==a<=s||G.isStraight(t))n.push(t);else{var l=3*(o-s)-r+a,u=2*(r+s)-4*o,c=o-r,h=[],d=W.solveQuadratic(l,u,c,h,1e-8,1-1e-8);if(d){h.sort();var f=h[0],p=G.subdivide(t,f);n.push(p[0]),1<d&&(f=(h[1]-f)/(1-f),p=G.subdivide(p[1],f),n.push(p[0])),n.push(p[1])}else n.push(t)}return n},solveCubic:function(t,e,n,i,r,o){var s=t[e],a=t[e+2],l=t[e+4],u=t[e+6],c=0;if(!(s<n&&u<n&&a<n&&l<n||n<s&&n<u&&n<a&&n<l)){var h=3*(a-s),d=3*(l-a)-h,f=u-s-h-d;c=W.solveCubic(f,d,h,s-n,i,r,o)}return c},getTimeOf:function(t,e){var n=new V(t[0],t[1]),i=new V(t[6],t[7]);if(null===(e.isClose(n,1e-12)?0:e.isClose(i,1e-12)?1:null))for(var r=[e.x,e.y],o=[],s=0;s<2;s++)for(var a=G.solveCubic(t,s,r[s],o,0,1),l=0;l<a;l++){var u=o[l];if(e.isClose(G.getPoint(t,u),1e-7))return u}return e.isClose(n,1e-7)?0:e.isClose(i,1e-7)?1:null},getNearestTime:function(n,i){function t(t){if(0<=t&&t<=1){var e=i.getDistance(G.getPoint(n,t),!0);if(e<u)return u=e,c=t,!0}}if(G.isStraight(n)){var e=n[0],r=n[1],o=n[6]-e,s=n[7]-r,a=o*o+s*s;if(0===a)return 0;var l=((i.x-e)*o+(i.y-r)*s)/a;return l<1e-12?0:.999999999999<l?1:G.getTimeOf(n,new V(e+l*o,r+l*s))}for(var u=1/0,c=0,h=0;h<=100;h++)t(h/100);for(var d=.005;1e-8<d;)t(c-d)||t(c+d)||(d/=2);return c},getPart:function(t,e,n){var i=n<e;if(i){var r=e;e=n,n=r}return 0<e&&(t=G.subdivide(t,e)[1]),n<1&&(t=G.subdivide(t,(n-e)/(1-e))[0]),i?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=3*r-2*n-l,h=3*o-2*i-u,d=3*s-2*l-n,f=3*a-2*u-i;return Math.max(c*c,d*d)+Math.max(h*h,f*f)<=16*e*e},getArea:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7];return 3*((l-n)*(i+o)-(a-e)*(r+s)+r*(e-o)-i*(n-s)+l*(o+e/3)-a*(s+n/3))/20},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),i=[0,0],r=0;r<2;r++)G._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,n,i);return new A(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,i,r,o,s,a,l){function u(t,e){var n=t-e,i=t+e;n<s[r]&&(s[r]=n),i>a[r]&&(a[r]=i)}o/=2;var c=s[r]-o,h=a[r]+o;if(t<c||e<c||n<c||i<c||h<t||h<e||h<n||h<i)if(e<t!=e<i&&n<t!=n<i)u(t,o),u(i,o);else{var d=3*(e-n)-t+i,f=2*(t+n)-4*e,p=e-t,g=W.solveQuadratic(d,f,p,l);u(i,0);for(var m=0;m<g;m++){var v=l[m],y=1-v;1e-8<=v&&v<=1-1e-8&&u(y*y*y*t+3*y*y*v*e+3*y*v*v*n+v*v*v*i,o)}}}}},B.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=R[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),B.each({isStraight:function(t,e,n,i){if(e.isZero()&&n.isZero())return!0;var r=i.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(n)){var o=new $(t,i);if(o.getDistance(t.add(e))<1e-7&&o.getDistance(i.add(n))<1e-7){var s=r.dot(r),a=r.dot(e)/s,l=r.dot(n)/s;return 0<=a&&a<=1&&l<=0&&-1<=l}}return!1},isLinear:function(t,e,n,i){var r=i.subtract(t).divide(3);return e.equals(r)&&n.negate().equals(r)}},function(s,t){this[t]=function(t){var e=this._segment1,n=this._segment2;return s(e._point,e._handleOut,n._handleIn,n._point,t)},this.statics[t]=function(t,e){var n=t[0],i=t[1],r=t[6],o=t[7];return s(new V(n,i),new V(t[2]-n,t[3]-i),new V(t[4]-r,t[5]-o),new V(r,o),e)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&0<=t&&t<=1?new q(this,t):null},getTimeAt:function(t,e){return G.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(V.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return G.getTimeOf(this.getValues(),V.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=V.read(arguments),e=this.getValues(),n=G.getNearestTime(e,t),i=G.getPoint(e,n);return new q(this,n,i,null,t.getDistance(i))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return B.each(t,function(i){this[i+"At"]=function(t,e){var n=this.getValues();return G[i](n,e?t:G.getTimeAt(n,t))},this[i+"AtTime"]=function(t){return G[i](this.getValues(),t)}},{statics:{_evaluateMethods:t}})},new function(){function d(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=9*(i-o)+3*(a-e),c=6*(e+o)-12*i,h=3*(i-e),d=9*(r-s)+3*(l-n),f=6*(n+s)-12*r,p=3*(r-n);return function(t){var e=(u*t+c)*t+h,n=(d*t+f)*t+p;return Math.sqrt(e*e+n*n)}}function f(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function n(t,e,n,i){if(null==e||e<0||1<e)return null;var r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=W.isZero;d(s-r)&&d(a-o)&&(s=r,a=o),d(l-c)&&d(u-h)&&(l=c,u=h);var f,p,g=3*(s-r),m=3*(l-s)-g,v=c-r-g-m,y=3*(a-o),_=3*(u-a)-y,w=h-o-y-_;if(0===n)f=0===e?r:1===e?c:((v*e+m)*e+g)*e+r,p=0===e?o:1===e?h:((w*e+_)*e+y)*e+o;else{if(e<1e-8?(f=g,p=y):1-1e-8<e?(f=3*(c-l),p=3*(h-u)):(f=(3*v*e+2*m)*e+g,p=(3*w*e+2*_)*e+y),i){0===f&&0===p&&(e<1e-8||1-1e-8<e)&&(f=l-s,p=u-a);var b=Math.sqrt(f*f+p*p);b&&(f/=b,p/=b)}if(3===n){l=6*v*e+2*m,u=6*w*e+2*_;var x=Math.pow(f*f+p*p,1.5);f=0!==x?(f*u-p*l)/x:0,p=0}}return 2===n?new V(p,-f):new V(f,p)}return{statics:{classify:function(t){function e(t,e,n){var i=e!==j,r=i&&0<e&&e<1,o=i&&0<n&&n<1;return!i||(r||o)&&("loop"!==t||r&&o)||(r=o=!(t="arch")),{type:t,roots:r||o?r&&o?e<n?[e,n]:[n,e]:[r?e:n]:null}}var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=r*(i-u)+o*(l-n)+n*u-i*l,h=3*(s*(o-i)+a*(n-r)+r*i-o*n),d=h-c,f=d-c+(n*(u-a)+i*(s-l)+l*a-u*s),p=Math.sqrt(f*f+d*d+h*h),g=0!==p?1/p:0,m=W.isZero;if(d*=g,h*=g,m(f*=g))return m(d)?e(m(h)?"line":"quadratic"):e("serpentine",h/(3*d));var v=3*d*d-4*f*h;if(m(v))return e("cusp",d/(2*f));var y=0<v?Math.sqrt(v/3):Math.sqrt(-v),_=2*f;return e(0<v?"serpentine":"loop",(d+y)/_,(d-y)/_)},getLength:function(t,e,n,i){if(e===j&&(e=0),n===j&&(n=1),G.isStraight(t)){var r=t;n<1&&(r=G.subdivide(r,n)[0],e/=n),0<e&&(r=G.subdivide(r,e)[1]);var o=r[6]-r[0],s=r[7]-r[1];return Math.sqrt(o*o+s*s)}return W.integrate(i||d(t),e,n,f(e,n))},getTimeAt:function(t,e,n){if(n===j&&(n=e<0?1:0),0===e)return n;var i=Math.abs,r=0<e,o=r?n:0,s=r?1:n,a=d(t),l=G.getLength(t,o,s,a),u=i(e)-l;if(i(u)<1e-12)return r?s:o;if(1e-12<u)return null;var c=e/l,h=0;return W.findRoot(function(t){return h+=W.integrate(a,n,t,f(n,t)),n=t,h-e},a,n+c,o,s,32,1e-12)},getPoint:function(t,e){return n(t,e,0,!1)},getTangent:function(t,e){return n(t,e,1,!0)},getWeightedTangent:function(t,e){return n(t,e,1,!1)},getNormal:function(t,e){return n(t,e,2,!0)},getWeightedNormal:function(t,e){return n(t,e,2,!1)},getCurvature:function(t,e){return n(t,e,3,!1).x},getPeaks:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=3*i-e-3*o+t[6],l=3*e-6*i+3*o,u=-3*e+3*i,c=3*r-n-3*s+t[7],h=3*n-6*r+3*s,d=-3*n+3*r,f=[];return W.solveCubic(9*(a*a+c*c),9*(a*l+h*c),2*(l*l+h*h)+3*(u*a+d*c),u*l+h*d,f,1e-8,1-1e-8),f.sort()}}}},new function(){function R(t,e,n,i,r,o,s){var a=!s&&n.getPrevious()===r,l=!s&&n!==r&&n.getNext()===r;if(null!==i&&(a?1e-8:0)<=i&&i<=(l?1-1e-8:1)&&null!==o&&(l?1e-8:0)<=o&&o<=(a?1-1e-8:1)){var u=new q(n,i,null,s),c=new q(r,o,null,s);(u._intersection=c)._intersection=u,e&&!e(u)||q.insert(t,u,!0)}}function F(t,e,n,i){return t[0][1]<n?r(t,!0,n):e[0][1]>i?r(e,!1,i):t[0][0]}function r(t,e,n){for(var i=t[0][0],r=t[0][1],o=1,s=t.length;o<s;o++){var a=t[o][0],l=t[o][1];if(e?n<=l:l<=n)return l===n?a:i+(n-r)*(a-i)/(l-r);i=a,r=l}return null}function b(t,e,n,i,r){var o=W.isZero;if(o(i)&&o(r)){var s=G.getTimeOf(t,new V(e,n));return null===s?[]:[s]}for(var a=Math.atan2(-r,i),l=Math.sin(a),u=Math.cos(a),c=[],h=[],d=0;d<8;d+=2){var f=t[d]-e,p=t[d+1]-n;c.push(f*u-p*l,f*l+p*u)}return G.solveCubic(c,1,0,h,0,1),h}function _(q,t,e,n,i,r){var o=Math.min,s=Math.max;if(s(q[0],q[2],q[4],q[6])+1e-12>o(t[0],t[2],t[4],t[6])&&o(q[0],q[2],q[4],q[6])-1e-12<s(t[0],t[2],t[4],t[6])&&s(q[1],q[3],q[5],q[7])+1e-12>o(t[1],t[3],t[5],t[7])&&o(q[1],q[3],q[5],q[7])-1e-12<s(t[1],t[3],t[5],t[7])){var a=x(q,t);if(a)for(var l=0;l<2;l++){var u=a[l];R(i,r,e,u[0],n,u[1],!0)}else{var c=G.isStraight(q),h=G.isStraight(t),d=c&&h,f=c&&!h,p=i.length;if((d?function(t,e,n,i,r,o){var s=$.intersect(t[0],t[1],t[6],t[7],e[0],e[1],e[6],e[7]);s&&R(r,o,n,G.getTimeOf(t,s),i,G.getTimeOf(e,s))}:c||h?function(t,e,n,i,r,o,s){for(var a=e[0],l=e[1],u=b(t,a,l,e[6]-a,e[7]-l),c=0,h=u.length;c<h;c++){var d=u[c],f=G.getPoint(t,d),p=G.getTimeOf(e,f);null!==p&&R(r,o,s?i:n,s?p:d,s?n:i,s?d:p)}}:function q(t,e,n,i,r,o,s,a,l,u,c,h,d){if(4096<=++l||40<=++a)return l;var f,p,g=e[0],m=e[1],v=e[6],y=e[7],_=$.getSignedDistance,w=_(g,m,v,y,e[2],e[3]),b=_(g,m,v,y,e[4],e[5]),x=0<w*b?.75:4/9,C=x*Math.min(0,w,b),S=x*Math.max(0,w,b),T=_(g,m,v,y,t[0],t[1]),E=_(g,m,v,y,t[2],t[3]),k=_(g,m,v,y,t[4],t[5]),A=_(g,m,v,y,t[6],t[7]),P=function(){var t,e=[0,T],n=[1/3,E],i=[2/3,k],r=[1,A],o=E-(2*T+A)/3,s=k-(T+2*A)/3;if(o*s<0)t=[[e,n,r],[e,i,r]];else{var a=o/s;t=[2<=a?[e,n,r]:a<=.5?[e,i,r]:[e,n,i,r],[e,r]]}return(o||s)<0?t.reverse():t}(),I=P[0],L=P[1];if(0===w&&0===b&&0===T&&0===E&&0===k&&0===A||null==(f=F(I,L,C,S))||null==(p=F(I.reverse(),L.reverse(),C,S)))return l;var M=u+(c-u)*f,z=u+(c-u)*p;if(Math.max(d-h,z-M)<1e-9){var N=(M+z)/2,O=(h+d)/2;R(r,o,s?i:n,s?O:N,s?n:i,s?N:O)}else if(t=G.getPart(t,f,p),.8<p-f)if(d-h<z-M)N=(M+z)/2,l=q(e,(D=G.subdivide(t,.5))[0],i,n,r,o,!s,a,l,h,d,M,N),l=q(e,D[1],i,n,r,o,!s,a,l,h,d,N,z);else{var D;O=(h+d)/2,l=q((D=G.subdivide(e,.5))[0],t,i,n,r,o,!s,a,l,h,O,M,z),l=q(D[1],t,i,n,r,o,!s,a,l,O,d,M,z)}else l=1e-9<=d-h?q(e,t,i,n,r,o,!s,a,l,h,d,M,z):q(t,e,n,i,r,o,s,a,l,M,z,h,d);return l})(f?t:q,f?q:t,f?n:e,f?e:n,i,r,f,0,0,0,1,0,1),!d||i.length===p)for(l=0;l<4;l++){var g=l>>1,m=1&l,v=6*g,y=6*m,_=new V(q[v],q[v+1]),w=new V(t[y],t[y+1]);_.isClose(w,1e-12)&&R(i,r,e,g,n,m)}}}return i}function w(t,e,n,i){var r=G.classify(t);if("loop"===r.type){var o=r.roots;R(n,i,e,o[0],e,o[1])}return n}function x(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var i=Math.abs,r=$.getDistance,o=G.isStraight(t),s=G.isStraight(e),a=o&&s,l=n(t)<n(e),u=l?e:t,c=l?t:e,h=u[0],d=u[1],f=u[6]-h,p=u[7]-d;if(r(h,d,f,p,c[0],c[1],!0)<1e-7&&r(h,d,f,p,c[6],c[7],!0)<1e-7)!a&&r(h,d,f,p,u[2],u[3],!0)<1e-7&&r(h,d,f,p,u[4],u[5],!0)<1e-7&&r(h,d,f,p,c[2],c[3],!0)<1e-7&&r(h,d,f,p,c[4],c[5],!0)<1e-7&&(o=s=a=!0);else if(a)return null;if(o^s)return null;for(var g=[t,e],m=[],v=0;v<4&&m.length<2;v++){var y=1&v,_=1^y,w=v>>1,b=G.getTimeOf(g[y],new V(g[_][w?6:0],g[_][w?7:1]));if(null!=b){var x=y?[w,b]:[b,w];(!m.length||1e-8<i(x[0]-m[0][0])&&1e-8<i(x[1]-m[0][1]))&&m.push(x)}if(2<v&&!m.length)break}if(2!==m.length)m=null;else if(!a){var C=G.getPart(t,m[0][0],m[1][0]),S=G.getPart(e,m[0][1],m[1][1]);(1e-7<i(S[2]-C[2])||1e-7<i(S[3]-C[3])||1e-7<i(S[4]-C[4])||1e-7<i(S[5]-C[5]))&&(m=null)}return m}return{getIntersections:function(t){var e=this.getValues(),n=t&&t!==this&&t.getValues();return n?_(e,n,this,t,[]):w(e,this,[])},statics:{getOverlaps:x,getIntersections:function(t,e,n,i,r,o){var s=!e;s&&(e=t);for(var a,l,u=t.length,c=e.length,h=[],d=[],f=0;f<c;f++)h[f]=e[f].getValues(r);for(f=0;f<u;f++){var p=t[f],g=s?h[f]:p.getValues(i),m=p.getPath();m!==l&&(l=m,a=[],d.push(a)),s&&w(g,p,a,n);for(var v=s?f+1:0;v<c;v++){if(o&&a.length)return a;_(g,h[v],p,e[v],a,n)}}a=[],f=0;for(var y=d.length;f<y;f++)a.push.apply(a,d[f]);return a},getCurveLineIntersections:b}}}),q=B.extend({_class:"CurveLocation",initialize:function(t,e,n,i,r){if(.99999999<=e){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=n||t.getPointAtTime(e),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),n=this.getTime();0===n?t=e._segment1:1===n?t=e._segment2:null!=n&&(t=e.getPartLength(0,n)<e.getPartLength(n,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(n._time=e.getTimeOf(n._point)))return n._setCurve(e),e}var e=this._path,n=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var i=e.getCurves(),r=0;r<n;r++)t+=i[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),n=this.getTime();this._curveOffset=t=null!=n&&e&&e.getPartLength(0,n)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,n=t&&t.splitAtTime(this.getTime());return n&&this._setSegment(e.getLastSegment()),n},equals:function(t,e){var n=this===t;if(!n&&t instanceof q){var i=this.getCurve(),r=t.getCurve(),o=i._path;if(o===r._path){var s=Math.abs,a=s(this.getOffset()-t.getOffset()),l=!e&&this._intersection,u=!e&&t._intersection;n=(a<1e-7||o&&s(o.getLength()-a)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var t=[],e=this.getPoint(),n=b.instance;e&&t.push("point: "+e);var i=this.getIndex();null!=i&&t.push("index: "+i);var r=this.getTime();return null!=r&&t.push("time: "+n.number(r)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e){var n=t.getValues(),i=G.classify(n).roots||G.getPeaks(n),r=i.length,o=e&&1<r?i[r-1]:0<r?i[0]:.5;h.push(G.getLength(n,e?o:0,e?1:o)/2)}function e(t,e,n){return e<n?e<t&&t<n:e<t||t<n}var n=this._intersection;if(!n)return!1;var i=this.getTime(),r=n.getTime(),o=1e-8<=i&&i<=1-1e-8,s=1e-8<=r&&r<=1-1e-8;if(o&&s)return!this.isTouching();var a=this.getCurve(),l=i<1e-8?a.getPrevious():a,u=n.getCurve(),c=r<1e-8?u.getPrevious():u;if(1-1e-8<i&&(a=a.getNext()),1-1e-8<r&&(u=u.getNext()),!(l&&a&&c&&u))return!1;var h=[];o||(t(l,!0),t(a,!1)),s||(t(c,!0),t(u,!1));var d=this.getPoint(),f=Math.min.apply(Math,h),p=o?a.getTangentAtTime(i):a.getPointAt(f).subtract(d),g=o?p.negate():l.getPointAt(-f).subtract(d),m=s?u.getTangentAtTime(r):u.getPointAt(f).subtract(d),v=s?m.negate():c.getPointAt(-f).subtract(d),y=g.getAngle(),_=p.getAngle(),w=v.getAngle(),b=m.getAngle();return!!(o?e(y,w,b)^e(_,w,b)&&e(y,b,w)^e(_,b,w):e(w,y,_)^e(b,y,_)&&e(w,_,y)^e(b,_,y))},hasOverlap:function(){return!!this._overlap}},B.each(G._evaluateMethods,function(t){var n=t+"At";this[t]=function(){var t=this.getCurve(),e=this.getTime();return null!=e&&t&&t[n](e,!0)}},{preserve:!0}),new function(){function i(r,o,t){function e(t,e){for(var n=t+e;-1<=n&&n<=s;n+=e){var i=r[(n%s+s)%s];if(!o.getPoint().isClose(i.getPoint(),1e-7))break;if(o.equals(i))return i}return null}for(var s=r.length,n=0,i=s-1;n<=i;){var a,l=n+i>>>1,u=r[l];if(t&&(a=o.equals(u)?u:e(l,-1)||e(l,1)))return o._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=o.getPath(),h=u.getPath();(c!==h?c._id-h._id:o.getIndex()+o.getTime()-(u.getIndex()+u.getTime()))<0?i=l-1:n=l+1}return r.splice(n,0,o),o}return{statics:{insert:i,expand:function(t){for(var e=t.slice(),n=t.length-1;0<=n;n--)i(e,t[n]._intersection,!1);return e}}}}),z=L.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,n,i;if(B.isPlainObject(t)?(n=t.segments,e=t.pathData):Array.isArray(t)?n=t:"string"==typeof t&&(e=t),n){var r=n[0];i=r&&Array.isArray(r[0])}else e&&(i=1<(e.match(/m/gi)||[]).length||/z\s*\S+/i.test(e));return new(i?F:R)(t)}},_asPathItem:function(){return this},isClockwise:function(){return 0<=this.getArea()},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var n=+i[t];return a&&(n+=l[e]),n}function n(t){return new V(e(t,"x"),e(t+1,"y"))}var i,r,o,s=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,l=new V,u=new V;this.clear();for(var c=0,h=s&&s.length;c<h;c++){var d=s[c],f=d[0],p=f.toLowerCase(),g=(i=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&i.length;switch(a=f===p,"z"!==r||/[mz]/.test(p)||this.moveTo(l),p){case"m":case"l":for(var m="m"===p,v=0;v<g;v+=2)this[m?"moveTo":"lineTo"](l=n(v)),m&&(u=l,m=!1);o=l;break;case"h":case"v":var y="h"===p?"x":"y";for(l=l.clone(),v=0;v<g;v++)l[y]=e(v,y),this.lineTo(l);o=l;break;case"c":for(v=0;v<g;v+=6)this.cubicCurveTo(n(v),o=n(v+2),l=n(v+4));break;case"s":for(v=0;v<g;v+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(o):l,o=n(v),l=n(v+2)),r=p;break;case"q":for(v=0;v<g;v+=4)this.quadraticCurveTo(o=n(v),l=n(v+2));break;case"t":for(v=0;v<g;v+=2)this.quadraticCurveTo(o=/[qt]/.test(r)?l.multiply(2).subtract(o):l,l=n(v)),r=p;break;case"a":for(v=0;v<g;v+=7)this.arcTo(l=n(v+5),new U(+i[v],+i[v+1]),+i[v+2],+i[v+4],+i[v+3]);break;case"z":this.closePath(1e-12),l=u}r=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,n,i){var r=this===t||!t,o=this._matrix._orNullIfIdentity(),s=r?o:(n||t._matrix)._orNullIfIdentity();return r||this.getBounds(o).intersects(t.getBounds(s),1e-12)?G.getIntersections(this.getCurves(),!r&&t.getCurves(),e,o,s,i):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=V.read(arguments),e=this.getCurves(),n=1/0,i=null,r=0,o=e.length;r<o;r++){var s=e[r].getNearestLocation(t);s._distance<n&&(n=s._distance,i=s)}return i},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,n){var i=!this._children,r=i?"_segments":"_children",o=t[r],s=e[r],a=this[r];if(!o||!s||o.length!==s.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=a.length,u=s.length;if(l<u)for(var c=i?Y:R,h=l;h<u;h++)this.add(new c);else u<l&&this[i?"removeSegments":"removeChildren"](u,l);for(h=0;h<u;h++)a[h].interpolate(o[h],s[h],n);i&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var n=this._children||[this],i=t._children?t._children.slice():[t],r=n.length,o=i.length,s=[],a=0;e=!0;for(var l=r-1;0<=l&&e;l--){var u=n[l];e=!1;for(var c=o-1;0<=c&&!e;c--)u.compare(i[c])&&(s[c]||(s[c]=!0,a++),e=!0)}e=e&&a===o}return e}}),R=z.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==j||t.x===j&&t.point===j?null:arguments;e&&0<e.length?this.setSegments(e):(this._curves=j,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&B.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function C(t){if(C.base.call(this,t),8&t){if(this._length=this._area=j,16&t)this._version++;else if(this._curves)for(var e=0,n=this._curves.length;e<n;e++)this._curves[e]._changed()}else 32&t&&(this._bounds=j)},getStyle:function(){var t=this._parent;return(t instanceof F?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),n=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=j,n){var i=t[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(Y.readList(t,0,{},n))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var i=0;i<n;i++)t[i]=new G(this,e[i],e[i+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new G(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(r,t){function e(t,e){if(t._transformCoordinates(r,p),o=p[0],s=p[1],g)m.push("M"+f.pair(o,s)),g=!1;else if(u=p[2],c=p[3],u===o&&c===s&&h===a&&d===l){if(!e){var n=o-a,i=s-l;m.push(0===n?"v"+f.number(i):0===i?"h"+f.number(n):"l"+f.pair(n,i))}}else m.push("c"+f.pair(h-a,d-l)+" "+f.pair(u-a,c-l)+" "+f.pair(o-a,s-l));a=o,l=s,h=p[4],d=p[5]}var o,s,a,l,u,c,h,d,n=this._segments,i=n.length,f=new b(t),p=new Array(6),g=!0,m=[];if(!i)return"";for(var v=0;v<i;v++)e(n[v]);return this._closed&&0<i&&(e(n[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,n=new Array(6),i=0,r=e.length;i<r;i++)e[i]._transformCoordinates(t,n,!0);return!0},_add:function(t,e){for(var n=this._segments,i=this._curves,r=t.length,o=null==e,s=(e=o?n.length:e,0);s<r;s++){var a=t[s];a._path&&(a=t[s]=a.clone()),a._path=this,a._index=e+s,a._selection&&this._updateSelection(a,0,a._selection)}if(o)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t)),s=e+r;for(var l=n.length;s<l;s++)n[s]._index=s}if(i){var u=this._countCurves(),c=0<e&&e+r-1===u?e-1:e,h=c,d=Math.min(c+r,u);for(t._curves&&(i.splice.apply(i,[c,0].concat(t._curves)),h+=t._curves.length),s=h;s<d;s++)i.splice(s,0,new G(this,null,null));this._adjustCurves(c,d)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,i=this._segments,r=this._curves,o=t;o<e;o++)(n=r[o])._path=this,n._segment1=i[o],n._segment2=i[o+1]||i[0],n._changed();(n=r[this._closed&&!t?i.length-1:t-1])&&(n._segment2=i[t]||i[0],n._changed()),(n=r[e])&&(n._segment1=i[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&0<t?t-1:t},add:function(t){return 1<arguments.length&&"number"!=typeof t?this._add(Y.readList(arguments)):this._add([Y.read(arguments)])[0]},insert:function(t,e){return 2<arguments.length&&"number"!=typeof e?this._add(Y.readList(arguments,1),t):this._add([Y.read(arguments,1)],t)[0]},addSegment:function(){return this._add([Y.read(arguments)])[0]},insertSegment:function(t){return this._add([Y.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Y.readList(t))},insertSegments:function(t,e){return this._add(Y.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,n){t=t||0,e=B.pick(e,this._segments.length);var i=this._segments,r=this._curves,o=i.length,s=i.splice(t,e-t),a=s.length;if(!a)return s;for(var l=0;l<a;l++){var u=s[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}l=t;for(var c=i.length;l<c;l++)i[l]._index=l;if(r){var h=0<t&&e===o+(this._closed?1:0)?t-1:t;for(l=(r=r.splice(h,a)).length-1;0<=l;l--)r[l]._path=null;n&&(s._curves=r.slice(1)),this._adjustCurves(h,h)}return this._changed(25),s},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;e<n;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){for(var e=this._segments,n=this._closed,i=t=0,r=e.length;i<r;i++){var o=i+1===r;t+=G.getArea(G.getValues(e[i],e[o?0:i+1],null,o&&!n))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&0<t&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function C(t){1&t||this._selectSegments(!1),C.base.call(this,t)},_selectSegments:function(t){var e=this._segments,n=e.length,i=t?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)e[r]._selection=i},_updateSelection:function(t,e,n){t._selection=n,0<(this._segmentSelection+=n-e)&&this.setSelected(!0)},divideAt:function(t){var e,n=this.getLocationAt(t);return n&&(e=n.getCurve().divideAt(n.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),n=e&&e.index,i=e&&e.time;1-1e-8<i&&(n++,i=0);var r=this.getCurves();if(0<=n&&n<r.length){1e-8<=i&&r[n++].divideAtTime(i);var o,s=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):((o=new R(L.NO_INSERT)).insertAbove(this),o.copyAttributes(this)),o._add(s,0),this.addSegment(s[0]),o}return null},split:function(t,e){var n,i=e===j?t:(n=this.getCurves()[t])&&n.getLocationAtTime(e);return null!=i?this.splitAt(i):null},join:function(t,e){var n=e||0;if(t&&t!==this){var i=t._segments,r=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;r&&r._point.isClose(o._point,n)&&t.reverse();var s=t.getFirstSegment();if(r&&r._point.isClose(s._point,n))r.setHandleOut(s._handleOut),this._add(i.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(s._point,n)&&t.reverse(),o=t.getLastSegment(),a&&a._point.isClose(o._point,n)?(a.setHandleIn(o._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}t._closed&&this._add([i[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),n=t&&t.simplify,i=n?1e-7:0,r=e.length-1;0<=r;r--){var o=e[r];!o.hasHandles()&&(!o.hasLength(i)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var n=this._segments[t],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new y(this,t||.25,256,!0).parts,n=e.length,i=[],r=0;r<n;r++)i.push(new Y(e[r].curve.slice(0,2)));!this._closed&&0<n&&i.push(new Y(e[n-1].curve.slice(6))),this.setSegments(i)},simplify:function(t){var e=new i(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var n=t&&t.index;if(null!=n){var i=t.path;if(i&&i!==r)throw new Error(t._class+" "+n+" of "+i+" is not part of "+r);e&&t instanceof G&&n++}else n="number"==typeof t?t:e;return Math.min(n<0&&a?n%s:n<0?n+s:n,s-1)}var r=this,n=t||{},i=n.type||"asymmetric",o=this._segments,s=o.length,a=this._closed,l=a&&n.from===j&&n.to===j,u=e(n.from,0),c=e(n.to,s-1);if(c<u)if(a)u-=s;else{var h=u;u=c,c=h}if(/^(?:asymmetric|continuous)$/.test(i)){var d="asymmetric"===i,f=Math.min,p=c-u+1,g=p-1,m=l?f(p,4):1,v=m,y=m,_=[];if(a||(v=f(1,u),y=f(1,s-c-1)),(g+=v+y)<=1)return;for(var w=0,b=u-v;w<=g;w++,b++)_[w]=o[(b<0?b+s:b)%s]._point;var x=_[0]._x+2*_[1]._x,C=_[0]._y+2*_[1]._y,S=2,T=g-1,E=[x],k=[C],A=[S],P=[],I=[];for(w=1;w<g;w++){var L=w<T,M=L?4:d?2:7,z=L?4:d?3:8,N=L?2:d?0:1,O=(L?1:d?1:2)/S;S=A[w]=M-O,x=E[w]=z*_[w]._x+N*_[w+1]._x-O*x,C=k[w]=z*_[w]._y+N*_[w+1]._y-O*C}for(P[T]=E[T]/A[T],I[T]=k[T]/A[T],w=g-2;0<=w;w--)P[w]=(E[w]-P[w+1])/A[w],I[w]=(k[w]-I[w+1])/A[w];P[g]=(3*_[g]._x-P[T])/2,I[g]=(3*_[g]._y-I[T]
)/2,w=v;var D=g-y;for(b=u;w<=D;w++,b++){var q=o[b<0?b+s:b],R=q._point,F=P[w]-R._x,H=I[w]-R._y;(l||w<D)&&q.setHandleOut(F,H),(l||v<w)&&q.setHandleIn(-F,-H)}}else for(w=u;w<=c;w++)o[w<0?w+s:w].smooth(n,!l&&w===u,!l&&w===c)},toShape:function(t){function e(t,e){var n=h[t],i=n.getNext(),r=h[e],o=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(o._point.subtract(r._point))}function n(t){var e=h[t],n=e.getNext(),i=e._handleOut,r=n._handleIn;if(i.isOrthogonal(r)){var o=e._point,s=n._point,a=new $(o,i,!0).intersect(new $(s,r,!0),!0);return a&&W.isZero(i.getLength()/a.subtract(o).getLength()-.5522847498307936)&&W.isZero(r.getLength()/a.subtract(s).getLength()-.5522847498307936)}return!1}function i(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this._closed)return null;var r,o,s,a,l,u,c,h=this._segments;if(!this.hasHandles()&&4===h.length&&e(0,2)&&e(1,3)&&(u=(l=h[1]).getPrevious(),c=l.getNext(),u._handleOut.isZero()&&l._handleIn.isZero()&&l._handleOut.isZero()&&c._handleIn.isZero()&&l._point.subtract(u._point).isOrthogonal(c._point.subtract(l._point)))?(r=T.Rectangle,o=new U(i(0,3),i(0,1)),a=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(r=T.Rectangle,s=(o=new U(i(1,6),i(0,3))).subtract(new U(i(0,7),i(1,2))).divide(2),a=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&n(0)&&n(1)&&n(2)&&n(3)&&(W.isZero(i(0,2)-i(1,3))?(r=T.Circle,s=i(0,2)/2):(r=T.Ellipse,s=new U(i(2,0)/2,i(3,1)/2)),a=h[1]._point),r){var d=this.getPosition(!0),f=new r({center:d,size:o,radius:s,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(a.subtract(d).getAngle()+90),(t===j||t)&&f.insertAbove(this),f}return null},toPath:"#clone",compare:function C(t){if(!t||t instanceof F)return C.base.call(this,t);var e=this.getCurves(),n=t.getCurves(),i=e.length,r=n.length;if(!i||!r)return i==r;for(var o,s,a=e[0].getValues(),l=[],u=0,c=0,h=0;h<r;h++){var d=n[h].getValues();if(l.push(d),g=G.getOverlaps(a,d)){o=!h&&0<g[0][0]?r-1:h,s=g[0][1];break}}var f,p=Math.abs;for(d=l[o];a&&d;){var g;if((g=G.getOverlaps(a,d))&&p(g[0][0]-c)<1e-8){1===(c=g[1][0])&&(a=++u<i?e[u].getValues():null,c=0);var m=g[0][1];if(p(m-s)<1e-8){if(f||(f=[o,m]),1===(s=g[1][1])&&(++o>=r&&(o=0),d=l[o]||n[o].getValues(),s=0),!a)return f[0]===o&&f[1]===s;continue}}break}return!1},_hitTestSelf:function(i,r,t,o){function s(t,e){return i.subtract(t).divide(e).length<=1}function n(t,e,n){if(!r.selected||e.isSelected()){var i=t._point;if(e!==i&&(e=e.add(i)),s(e,b))return new M(n,g,{segment:t,point:e})}}function e(t,e){return(e||r.segments)&&n(t,t._point,"segment")||!e&&r.handles&&(n(t,t._handleIn,"handle-in")||n(t,t._handleOut,"handle-out"))}function a(t){d.add(t)}function l(t){var e,n=_||0<t._index&&t._index<y-1;return"round"===(n?u:c)?s(t._point,b):(d=new R({internal:!0,closed:!0}),n?t.isSmooth()||R._addBevelJoin(t,u,T,h,null,o,a,!0):"square"===c&&R._addSquareCap(t,c,T,null,o,a,!0),d.isEmpty()?void 0:d.contains(i)||(e=d.getNearestLocation(i))&&s(e.getPoint(),w))}var u,c,h,d,f,p,g=this,m=this.getStyle(),v=this._segments,y=v.length,_=this._closed,w=r._tolerancePadding,b=w,x=r.stroke&&m.hasStroke(),C=r.fill&&m.hasFill(),S=r.curves,T=x?m.getStrokeWidth()/2:C&&0<r.tolerance||S?0:null;if(null!==T&&(0<T?(u=m.getStrokeJoin(),c=m.getStrokeCap(),h=m.getMiterLimit(),b=b.add(R._getStrokePadding(T,o))):u=c="round"),!r.ends||r.segments||_){if(r.segments||r.handles)for(var E=0;E<y;E++)if(p=e(v[E]))return p}else if(p=e(v[0],!0)||e(v[y-1],!0))return p;if(null!==T){if(f=this.getNearestLocation(i)){var k=f.getTime();0===k||1===k&&1<y?l(f.getSegment())||(f=null):s(f.getPoint(),b)||(f=null)}if(!f&&"miter"===u&&1<y)for(E=0;E<y;E++){var A=v[E];if(i.getDistance(A._point)<=h*T&&l(A)){f=A.getLocation();break}}}return!f&&C&&this._contains(i)||f&&!x&&!S?new M("fill",this):f?new M(x?"stroke":"curve",this,{location:f,point:f.getPoint()}):null}},B.each(G._evaluateMethods,function(n){this[n+"At"]=function(t){var e=this.getLocationAt(t);return e&&e[n]()}},{beans:!1,getLocationOf:function(){for(var t=V.read(arguments),e=this.getCurves(),n=0,i=e.length;n<i;n++){var r=e[n].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),n=0,i=0,r=e.length;i<r;i++){var o=n,s=e[i];if((n+=s.getLength())>t)return s.getLocationAt(t-o)}if(0<e.length&&t<=this.getLength())return new q(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function v(i,t,r){function e(t){if(r)t._transformCoordinates(r,p),o=p[0],s=p[1];else{var e=t._point;o=e._x,s=e._y}if(g)i.moveTo(o,s),g=!1;else{if(r)u=p[2],c=p[3];else{var n=t._handleIn;u=o+n._x,c=s+n._y}u===o&&c===s&&h===a&&d===l?i.lineTo(o,s):i.bezierCurveTo(h,d,u,c,o,s)}a=o,l=s,r?(h=p[4],d=p[5]):(n=t._handleOut,h=a+n._x,d=l+n._y)}for(var o,s,a,l,u,c,h,d,n=t._segments,f=n.length,p=new Array(6),g=!0,m=0;m<f;m++)e(n[m]);t._closed&&0<f&&e(n[0])}return{_draw:function(t,e,n,i){function r(t){return c[(t%h+h)%h]}var o=e.dontStart,s=e.dontFinish||e.clip,a=this.getStyle(),l=a.hasFill(),u=a.hasStroke(),c=a.getDashArray(),h=!paper.support.nativeDash&&u&&c&&c.length;if(o||t.beginPath(),(l||u&&!h||s)&&(v(t,this,i),this._closed&&t.closePath()),!s&&(l||u)&&(this._setStyles(t,e,n),l&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(h){o||t.beginPath();var d,f=new y(this,.25,32,!1,i),p=f.length,g=-a.getDashOffset(),m=0;for(g%=p;0<g;)g-=r(m--)+r(m--);for(;g<p;)d=g+r(m++),(0<g||0<d)&&f.drawPart(t,Math.max(g,0),Math.max(d,0)),g=d+r(m++)}t.stroke()}},_drawSelected:function(t,e){t.beginPath(),v(t,this,e),t.stroke(),function(i,t,e,n){function r(t){var e=l[t],n=l[t+1];o==e&&s==n||(i.beginPath(),i.moveTo(o,s),i.lineTo(e,n),i.stroke(),i.beginPath(),i.arc(e,n,a,0,2*Math.PI,!0),i.fill())}for(var o,s,a=n/2,l=new Array(6),u=0,c=t.length;u<c;u++){var h=t[u],d=h._selection;if(h._transformCoordinates(e,l),o=l[0],s=l[1],2&d&&r(2),4&d&&r(4),i.fillRect(o-a,s-a,n,n),!(1&d)){var f=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(o-a+1,s-a+1,n-2,n-2),i.fillStyle=f}}}(t,this._segments,e,paper.settings.handleSize)}}},new function(){function j(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new Y(V.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Y(V.read(arguments))])},cubicCurveTo:function(){var t=V.read(arguments),e=V.read(arguments),n=V.read(arguments),i=j(this);i.setHandleOut(t.subtract(i._point)),this._add([new Y(n,e.subtract(n))])},quadraticCurveTo:function(){var t=V.read(arguments),e=V.read(arguments),n=j(this)._point;this.cubicCurveTo(t.add(n.subtract(t).multiply(1/3)),t.add(e.subtract(t).multiply(1/3)),e)},curveTo:function(){var t=V.read(arguments),e=V.read(arguments),n=B.pick(B.read(arguments),.5),i=1-n,r=j(this)._point,o=t.subtract(r.multiply(i*i)).subtract(e.multiply(n*n)).divide(2*n*i);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(o,e)},arcTo:function(){var t,e,n,i,r=Math.abs,o=Math.sqrt,s=j(this),a=s._point,l=V.read(arguments),u=B.peek(arguments);if("boolean"==typeof(p=B.pick(u,!0)))var c=(m=a.add(l).divide(2)).add(m.subtract(a).rotate(p?-90:90));else if(B.remain(arguments)<=2)c=l,l=V.read(arguments);else{var h=U.read(arguments),d=W.isZero;if(d(h.width)||d(h.height))return this.lineTo(l);var f=B.read(arguments),p=!!B.read(arguments),g=!!B.read(arguments),m=a.add(l).divide(2),v=(R=a.subtract(m).rotate(-f)).x,y=R.y,_=r(h.width),w=r(h.height),b=_*_,x=w*w,C=v*v,S=y*y,T=o(C/b+S/x);if(1<T&&(b=(_*=T)*_,x=(w*=T)*w),r(T=(b*x-b*S-x*C)/(b*S+x*C))<1e-12&&(T=0),T<0)throw new Error("Cannot create an arc with the given arguments");t=new V(_*y/w,-w*v/_).multiply((g===p?-1:1)*o(T)).rotate(f).add(m),e=(n=(i=(new X).translate(t).rotate(f).scale(_,w))._inverseTransform(a)).getDirectedAngle(i._inverseTransform(l)),!p&&0<e?e-=360:p&&e<0&&(e+=360)}if(c){var E=new $(a.add(c).divide(2),c.subtract(a).rotate(90),!0),k=new $(c.add(l).divide(2),l.subtract(c).rotate(90),!0),A=new $(a,l),P=A.getSide(c);if(!(t=E.intersect(k,!0))){if(!P)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}e=(n=a.subtract(t)).getDirectedAngle(l.subtract(t));var I=A.getSide(t);0===I?e=P*r(e):P===I&&(e+=e<0?360:-360)}for(var L=r(e),M=360<=L?4:Math.ceil((L-1e-7)/90),z=e/M,N=z*Math.PI/360,O=4/3*Math.sin(N)/(1+Math.cos(N)),D=[],q=0;q<=M;q++){var R=l,F=null;if(q<M&&(F=n.rotate(90).multiply(O),i?(R=i._transformPoint(n),F=i._transformPoint(n.add(F)).subtract(R)):R=t.add(n)),q){var H=n.rotate(-90).multiply(O);i&&(H=i._transformPoint(n.add(H)).subtract(R)),D.push(new Y(R,H,F))}else s.setHandleOut(F);n=n.rotate(z)}this._add(D)},lineBy:function(){var t=V.read(arguments),e=j(this)._point;this.lineTo(e.add(t))},curveBy:function(){var t=V.read(arguments),e=V.read(arguments),n=B.read(arguments),i=j(this)._point;this.curveTo(i.add(t),i.add(e),n)},cubicCurveBy:function(){var t=V.read(arguments),e=V.read(arguments),n=V.read(arguments),i=j(this)._point;this.cubicCurveTo(i.add(t),i.add(e),i.add(n))},quadraticCurveBy:function(){var t=V.read(arguments),e=V.read(arguments),n=j(this)._point;this.quadraticCurveTo(n.add(t),n.add(e))},arcBy:function(){var t=j(this)._point,e=t.add(V.read(arguments)),n=B.pick(B.peek(arguments),!0);"boolean"==typeof n?this.arcTo(e,n):this.arcTo(e,t.add(V.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var n=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return R[n](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,n,i,r,o){function s(t){t._transformCoordinates(i,l);for(var e=0;e<2;e++)G._addBounds(u[e],u[e+4],l[e+2],l[e],e,o?o[e]:0,c,h,d);var n=u;u=l,l=n}var a=t[0];if(!a)return new A;for(var l=new Array(6),u=a._transformCoordinates(i,new Array(6)),c=u.slice(0,2),h=c.slice(),d=new Array(2),f=1,p=t.length;f<p;f++)s(t[f]);return e&&s(a),new A(c[0],c[1],h[0]-c[0],h[1]-c[1])},getStrokeBounds:function(t,e,n,i,r){function o(t){p=p.include(t)}function s(t){p=p.unite(_.setCenter(t._point.transform(i)))}function a(t,e){"round"===e||t.isSmooth()?s(t):R._addBevelJoin(t,e,g,y,i,d,o)}function l(t,e){"round"===e?s(t):R._addSquareCap(t,e,g,i,d,o)}var u=n.getStyle(),c=u.hasStroke(),h=u.getStrokeWidth(),d=c&&n._getStrokeMatrix(i,r),f=c&&R._getStrokePadding(h,d),p=R.getBounds(t,e,n,i,r,f);if(!c)return p;for(var g=h/2,m=u.getStrokeJoin(),v=u.getStrokeCap(),y=u.getMiterLimit(),_=new A(new U(f)),w=t.length-(e?0:1),b=1;b<w;b++)a(t[b],m);return e?a(t[0],m):0<w&&(l(t[0],v),l(t[t.length-1],v)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var n=new V(t,0).transform(e),i=new V(0,t).transform(e),r=n.getAngleInRadians(),o=n.getLength(),s=i.getLength(),a=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(s*u,o),h=Math.atan2(s,u*o);return[Math.abs(o*Math.cos(c)*l+s*Math.sin(c)*a),Math.abs(s*Math.sin(h)*l+o*Math.cos(h)*a)]},_addBevelJoin:function(t,e,n,i,r,o,s,a){var l=t.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(n).transform(o),d=l.getNormalAtTime(0).multiply(n).transform(o);if(h.getDirectedAngle(d)<0&&(h=h.negate(),d=d.negate()),a&&s(c),s(c.add(h)),"miter"===e){var f=new $(c.add(h),new V(-h.y,h.x),!0).intersect(new $(c.add(d),new V(-d.y,d.x),!0),!0);f&&c.getDistance(f)<=i*n&&s(f)}s(c.add(d))},_addSquareCap:function(t,e,n,i,r,o,s){var a=t._point.transform(i),l=t.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===e&&(s&&(o(a.subtract(u)),o(a.add(u))),a=a.add(u.rotate(-90))),o(a.add(u)),o(a.subtract(u))},getHandleBounds:function(t,e,n,i,r){var o,s,a=n.getStyle();if(r.stroke&&a.hasStroke()){var l=n._getStrokeMatrix(i,r),u=a.getStrokeWidth()/2,c=u;"miter"===a.getStrokeJoin()&&(c=u*a.getMiterLimit()),"square"===a.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),o=R._getStrokePadding(u,l),s=R._getStrokePadding(c,l)}for(var h=new Array(6),d=1/0,f=-d,p=d,g=f,m=0,v=t.length;m<v;m++){t[m]._transformCoordinates(i,h);for(var y=0;y<6;y+=2){var _=y?o:s,w=_?_[0]:0,b=_?_[1]:0,x=h[y],C=h[y+1],S=x-w,T=x+w,E=C-b,k=C+b;S<d&&(d=S),f<T&&(f=T),E<p&&(p=E),g<k&&(g=k)}}return new A(d,p,f-d,g-p)}}});R.inject({statics:new function(){function h(t,e,n){var i=B.getNamed(n),r=new R(i&&0==i.insert&&L.NO_INSERT);return r._add(t),r._closed=e,r.set(i,{insert:!0})}function n(t,e,n){for(var i=new Array(4),r=0;r<4;r++){var o=s[r];i[r]=new Y(o._point.multiply(e).add(t),o._handleIn.multiply(e),o._handleOut.multiply(e))}return h(i,!0,n)}var d=.5522847498307936,s=[new Y([-1,0],[0,d],[0,-d]),new Y([0,-1],[-d,0],[d,0]),new Y([1,0],[0,-d],[0,d]),new Y([0,1],[d,0],[-d,0])];return{Line:function(){return h([new Y(V.readNamed(arguments,"from")),new Y(V.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=V.readNamed(arguments,"center"),e=B.readNamed(arguments,"radius");return n(t,new U(e),arguments)},Rectangle:function(){var t,e=A.readNamed(arguments,"rectangle"),n=U.readNamed(arguments,"radius",0,{readNull:!0}),i=e.getBottomLeft(!0),r=e.getTopLeft(!0),o=e.getTopRight(!0),s=e.getBottomRight(!0);if(!n||n.isZero())t=[new Y(i),new Y(r),new Y(o),new Y(s)];else{var a=(n=U.min(n,e.getSize(!0).divide(2))).width,l=n.height,u=a*d,c=l*d;t=[new Y(i.add(a,0),null,[-u,0]),new Y(i.subtract(0,l),[0,c]),new Y(r.add(0,l),null,[0,-c]),new Y(r.add(a,0),[-u,0],null),new Y(o.subtract(a,0),null,[u,0]),new Y(o.add(0,l),[0,-c],null),new Y(s.subtract(0,l),null,[0,c]),new Y(s.subtract(a,0),[u,0])]}return h(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=T._readEllipse(arguments);return n(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=V.readNamed(arguments,"from"),e=V.readNamed(arguments,"through"),n=V.readNamed(arguments,"to"),i=B.getNamed(arguments),r=new R(i&&0==i.insert&&L.NO_INSERT);return r.moveTo(t),r.arcTo(e,n),r.set(i)},RegularPolygon:function(){for(var t=V.readNamed(arguments,"center"),e=B.readNamed(arguments,"sides"),n=B.readNamed(arguments,"radius"),i=360/e,r=e%3==0,o=new V(0,r?-n:n),s=r?-1:.5,a=new Array(e),l=0;l<e;l++)a[l]=new Y(t.add(o.rotate((l+s)*i)));return h(a,!0,arguments)},Star:function(){for(var t=V.readNamed(arguments,"center"),e=2*B.readNamed(arguments,"points"),n=B.readNamed(arguments,"radius1"),i=B.readNamed(arguments,"radius2"),r=360/e,o=new V(0,-1),s=new Array(e),a=0;a<e;a++)s[a]=new Y(t.add(o.rotate(r*a).multiply(a%2?i:n)));return h(s,!0,arguments)}}}});var F=z.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function C(t,e){var n=e,i=n[0];i&&"number"==typeof i[0]&&(n=[n]);for(var r=e.length-1;0<=r;r--){var o=n[r];n!==e||o instanceof R||(n=B.slice(n)),Array.isArray(o)?n[r]=new R({segments:o,insert:!1}):o instanceof F&&(n.splice.apply(n,[r,1].concat(o.removeChildren())),o.remove())}return C.base.call(this,t,n)},reduce:function C(t){for(var e=this._children,n=e.length-1;0<=n;n--){var i;(i=e[n].reduce(t)).isEmpty()&&i.remove()}return e.length?C.base.call(this):((i=new R(L.NO_INSERT)).copyAttributes(this),i.insertAbove(this),this.remove(),i)},isClosed:function(){for(var t=this._children,e=0,n=t.length;e<n;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,i=t.length;n<i;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getArea();return e},getLength:function(){for(var t=this._children,e=0,n=0,i=t.length;n<i;n++)e+=t[n].getLength();return e},getPathData:function(t,e){for(var n=this._children,i=[],r=0,o=n.length;r<o;r++){var s=n[r],a=s._matrix;i.push(s.getPathData(t&&!a.isIdentity()?t.appended(a):t,e))}return i.join("")},_hitTestChildren:function C(t,e,n){return C.base.call(this,t,e["class"]===R||"path"===e.type?e:B.set({},e,{fill:!1}),n)},_draw:function(t,e,n,i){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,s=r.length;o<s;o++)r[o].draw(t,e,i);if(!e.clip){this._setStyles(t,e,n);var a=this._style;a.hasFill()&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){for(var i=this._children,r=0,o=i.length;r<o;r++){var s=i[r],a=s._matrix;n[s._id]||s._drawSelected(t,a.isIdentity()?e:e.appended(a))}}},new function(){function i(t,e){var n=t._children;if(e&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return B.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=i(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var t=i(this),e=t&&t.isEmpty()?t:new R(L.NO_INSERT);e!==t&&this.addChild(e),e.moveTo.apply(e,arguments)},moveBy:function(){var t=i(this,!0),e=t&&t.getLastSegment(),n=V.read(arguments);this.moveTo(e?n.add(e._point):n)},closePath:function(t){i(this,!0).closePath(t)}})},B.each(["reverse","flatten","simplify","smooth"],function(o){this[o]=function(t){for(var e,n=this._children,i=0,r=n.length;i<r;i++)e=n[i][o](t)||e;return e}},{}));z.inject(new function(){function y(t,e){var n=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function _(t,e,n,i,r){var o=new F(L.NO_INSERT);return o.addChildren(t,!0),o=o.reduce({simplify:e}),r&&0==r.insert||o.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),o.copyAttributes(n,!0),o}function n(t,e,n,i){function r(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];d.push.apply(d,i._segments),f.push.apply(f,i.getCurves()),i._overlapsOnly=!0}}if(i&&(0==i.trace||i.stroke)&&/^(subtract|intersect)$/.test(n))return w(t,e,n);var o=y(t,!0),s=e&&t!==e&&y(e,!0),a=k[n];a[n]=!0,s&&(a.subtract||a.exclude)^s.isClockwise()^o.isClockwise()&&s.reverse();var l,u=x(q.expand(o.getCrossings(s))),c=o._children||[o],h=s&&(s._children||[s]),d=[],f=[];if(u.length){r(c),h&&r(h);for(var p=0,g=u.length;p<g;p++)C(u[p]._segment,o,s,f,a);for(p=0,g=d.length;p<g;p++){var m=d[p],v=m._intersection;m._winding||C(m,o,s,f,a),v&&v._overlap||(m._path._overlapsOnly=!1)}l=E(d,a)}else l=b(h?c.concat(h):c.slice(),function(t){return!!a[t]});return _(l,!0,t,e,i)}function w(t,e,n){function i(t){if(!u[t._id]&&(l||o.contains(t.getPointAt(t.getLength()/2))^a))return c.unshift(t),u[t._id]=!0}for(var r=y(t),o=y(e),s=r.getCrossings(o),a="subtract"===n,l="divide"===n,u={},c=[],h=s.length-1;0<=h;h--){var d=s[h].split();d&&(i(d)&&d.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return i(r),_(c,!1,t,e)}function S(t,e){for(var n=t;n;){if(n===e)return;n=n._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;(t._next=e)._previous=t}}function T(t){for(var e=t.length-1;0<=e;e--)t[e].clearHandles()}function b(t,e,n){var i=t&&t.length;if(i){var r=B.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),o=t.slice().sort(function(t,e){return D(e.getArea())-D(t.getArea())}),s=o[0];null==n&&(n=s.isClockwise());for(var a=0;a<i;a++){for(var l=o[a],u=r[l._id],c=l.getInteriorPoint(),h=0,d=a-1;0<=d;d--){var f=o[d];if(f.contains(c)){var p=r[f._id];h=p.winding,u.winding+=h,u.container=p.exclude?p.container:f;break}}if(e(u.winding)===e(h))u.exclude=!0,t[u.index]=null;else{var g=u.container;l.setClockwise(g?!g.isClockwise():n)}}}return t}function x(t,e,n){function i(t){return t._path._id+"."+t._segment1._index}for(var r,o,s,a=e&&[],l=!1,u=n||[],c=n&&{},h=(n&&n.length)-1;0<=h;h--)(d=n[h])._path&&(c[i(d)]=!0);for(h=t.length-1;0<=h;h--){var d,f,p=t[h],g=p._time,m=g,v=e&&!e(p);if((d=p._curve)&&(d!==o?(l=!d.hasHandles()||c&&c[i(d)],r=[],s=null,o=d):1e-8<=s&&(g/=s)),v)r&&r.push(p);else{if(e&&a.unshift(p),s=m,g<1e-8)f=d._segment1;else if(1-1e-8<g)f=d._segment2;else{var y=d.divideAtTime(g,!0);l&&u.push(d,y),f=y._segment1;for(var _=r.length-1;0<=_;_--){var w=r[_];w._time=(w._time-g)/(1-g)}}p._setSegment(f);var b=f._intersection,x=p._intersection;if(b){S(b,x);for(var C=b;C;)S(C._intersection,b),C=C._next}else f._intersection=x}}return n||T(u),a||t}function z(d,f,p,g,m){function v(t){var e=t[w+0],n=t[w+6];if(!(x<N(e,n)||x>O(e,n))){var i=t[_+0],r=t[_+2],o=t[_+4],s=t[_+6];if(e!==n){var a=x===e?0:x===n?1:S>O(i,r,o,s)||T<N(i,r,o,s)?1:0<G.solveCubic(t,w,x,I,0,1)?I[0]:1,l=0===a?i:1===a?s:G.getPoint(t,a)[p?"y":"x"],u=n<e?1:-1,c=y[w]>y[w+6]?1:-1,h=y[_+6];return x!==e?(l<S?E+=u:T<l?k+=u:A=!0,b-C<l&&l<b+C&&(P/=2)):(u!==c?i<S?E+=u:T<i&&(k+=u):i!=h&&(h<T&&T<l?(k+=u,A=!0):S<h&&l<S&&(E+=u,A=!0)),P=0),y=t,!m&&S<l&&l<T&&0===G.getTangent(t,a)[p?"x":"y"]&&z(d,f,!p,g,!0)}(i<T&&S<s||s<T&&S<i)&&(A=!0)}}function t(t){var e=t[w+0],n=t[w+2],i=t[w+4],r=t[w+6];if(x<=O(e,n,i,r)&&x>=N(e,n,i,r))for(var o,s=t[_+0],a=t[_+2],l=t[_+4],u=t[_+6],c=S>O(s,a,l,u)||T<N(s,a,l,u)?[t]:G.getMonoCurves(t,p),h=0,d=c.length;h<d;h++)if(o=v(c[h]))return o}for(var y,e,_=p?1:0,w=1^_,n=[d.x,d.y],b=n[_],x=n[w],C=1e-6,S=b-1e-9,T=b+1e-9,i=0,r=0,E=0,k=0,A=!1,o=!1,P=1,I=[],s=0,a=f.length;s<a;s++){var l,u=f[s],c=u._path,h=u.getValues();if(!(s&&f[s-1]._path===c||(y=null,c._closed||(e=G.getValues(c.getLastCurve().getSegment2(),u.getSegment1(),null,!g))[w]!==e[w+6]&&(y=e),y))){y=h;for(var L=c.getLastCurve();L&&L!==u;){var M=L.getValues();if(M[w]!==M[w+6]){y=M;break}L=L.getPrevious()}}if(l=t(h))return l;if(s+1===a||f[s+1]._path!==c){if(e&&(l=t(e)))return l;!A||E||k||(E=k=c.isClockwise(g)^p?1:-1),i+=E,r+=k,E=k=0,A&&(A=!(o=!0)),e=null}}return i=D(i),r=D(r),{winding:O(i,r),windingL:i,windingR:r,quality:P,onPath:o}}function C(t,e,n,i,r){var o=[],s=t,a=0;do{var l=(m=t.getCurve()).getLength();o.push({segment:t,curve:m,length:l}),a+=l,t=t.getNext()}while(t&&!t._intersection&&t!==s);for(var u=[.5,.25,.75],c={winding:0,quality:-1},h=0;h<u.length&&c.quality<.5;h++){l=a*u[h];for(var d=0,f=o.length;d<f;d++){var p=o[d],g=p.length;if(l<=g){var m,v=(m=p.curve)._path,y=v._parent,_=y instanceof F?y:v,w=W.clamp(m.getTimeAt(l),1e-8,1-1e-8),b=m.getPointAtTime(w),x=D(m.getTangentAtTime(w).y)<Math.SQRT1_2,C=r.subtract&&n&&(_===e&&n._getWinding(b,x,!0).winding||_===n&&!e._getWinding(b,x,!0).winding)?{winding:0,quality:1}:z(b,i,x,!0);C.quality>c.quality&&(c=C);break}l-=g}}for(d=o.length-1;0<=d;d--)o[d].segment._winding=c}function E(t,n){function u(t){var e;return!(!t||t._visited||n&&(!n[(e=t._winding||{}).winding]||n.unite&&2===e.winding&&e.windingL&&e.windingR))}function c(t){if(t)for(var e=0,n=h.length;e<n;e++)if(t===h[e])return!0;return!1}function e(t){for(var e=t._segments,n=0,i=e.length;n<i;n++)e[n]._visited=!0}function i(s,a){function t(t,e){for(;t&&t!==e;){var n=t._segment,i=n&&n._path;if(i){var r=n.getNext()||i.getFirstSegment(),o=r._intersection;n!==s&&(c(n)||c(r)||r&&u(n)&&(u(r)||o&&u(o._segment)))&&l.push(n),a&&h.push(n)}t=t._next}}var e=s._intersection,n=e,l=[];if(a&&(h=[s]),e){for(t(e);e&&e._prev;)e=e._prev;t(e,n)}return l}var h,r=[];t.sort(function(t,e){var n=t._intersection,i=e._intersection,r=!(!n||!n._overlap),o=!(!i||!i._overlap),s=t._path,a=e._path;return r^o?r?1:-1:!n^!i?n?1:-1:s!==a?s._id-a._id:t._index-e._index});for(var o=0,s=t.length;o<s;o++){var a,l,d,f=t[o],p=u(f),g=null,m=!1,v=!0,y=[];if(p&&f._path._overlapsOnly){var _=f._path,w=f._intersection._segment._path;_.compare(w)&&(_.getArea()&&r.push(_.clone(!1)),e(_),e(w),p=!1)}for(;p;){var b=!g,x=i(f,b),C=x.shift(),S=!(m=!b&&(c(f)||c(C)))&&C;if(b&&(g=new R(L.NO_INSERT),a=null),m){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(S&&a&&(y.push(a),a=null),a||(S&&x.push(f),a={start:g._segments.length,crossings:x,visited:l=[],handleIn:d}),S&&(f=C),!u(f)){g.removeSegments(a.start);for(var T=0,E=l.length;T<E;T++)l[T]._visited=!1;for(l.length=0;(f=a&&a.crossings.shift())&&f._path||(f=null,(a=y.pop())&&(l=a.visited,d=a.handleIn)),a&&!u(f););if(!f)break}var k=f.getNext();g.add(new Y(f._point,d,k&&f._handleOut)),f._visited=!0,l.push(f),f=k||f._path.getFirstSegment(),d=k&&k._handleIn}m&&(v&&(g.getFirstSegment().setHandleIn(d),g.setClosed(v)),0!==g.getArea()&&r.push(g))}return r}var N=Math.min,O=Math.max,D=Math.abs,k={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,n){return z(t,this.getCurves(),e,n)},unite:function(t,e){return n(this,t,"unite",e)},intersect:function(t,e){return n(this,t,"intersect",e)},subtract:function(t,e){return n(this,t,"subtract",e)},exclude:function(t,e){return n(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?w(this,t,"divide"):_([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){function t(t,e){var n=t&&t._intersection;return n&&n._overlap&&n._path===e}var e=this._children,n=e||[this],i=!1,r=!1,o=this.getIntersections(null,function(t){return t.hasOverlap()&&(i=!0)||t.isCrossing()&&(r=!0)}),s=i&&r&&[];if(o=q.expand(o),i)for(var a=x(o,function(t){return t.hasOverlap()},s),l=a.length-1;0<=l;l--){var u=a[l],c=u._path,h=u._segment,d=h.getPrevious(),f=h.getNext();t(d,c)&&t(f,c)&&(h.remove(),d._handleOut._set(0,0),f._handleIn._set(0,0),d===h||d.getCurve().hasLength()||(f._handleIn.set(d._handleIn),d.remove()))}r&&(x(o,i&&function(t){var e=t.getCurve(),n=t.getSegment(),i=t._intersection,r=i._curve,o=i._segment;if(e&&r&&e._path&&r._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},s),s&&T(s),n=E(B.each(n,function(t){this.push.apply(this,t._segments)},[])));var p,g=n.length;return 1<g&&e?(n!==e&&this.setChildren(n),p=this):1!==g||e||(n[0]!==this&&this.setSegments(n[0].removeSegments()),p=this),p||((p=new F(L.NO_INSERT)).addChildren(n),(p=p.reduce()).copyAttributes(this),this.replaceWith(p)),p},reorient:function(e,t){var n=this._children;return n&&n.length?this.setChildren(b(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==j&&this.setClockwise(t),this},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var e=this.getCurves(),n=t.y,i=[],r=[],o=0,s=e.length;o<s;o++){var a=e[o].getValues(),l=a[1],u=a[3],c=a[5],h=a[7];if(n>=N(l,u,c,h)&&n<=O(l,u,c,h))for(var d=G.getMonoCurves(a),f=0,p=d.length;f<p;f++){var g=d[f],m=g[1],v=g[7];if(m!==v&&(m<=n&&n<=v||v<=n&&n<=m)){var y=n===m?g[0]:n===v?g[6]:1===G.solveCubic(g,1,n,r,0,1)?G.getPoint(g,r[0]).x:(g[0]+g[6])/2;i.push(y)}}}1<i.length&&(i.sort(function(t,e){return t-e}),t.x=(i[0]+i[1])/2)}return t}}});var y=B.extend({_class:"PathFlattener",initialize:function(t,c,e,h,n){function i(u,t){var e=G.getValues(u,t,n);o.push(e),function u(t,e,n,i){if(!(p<i-n)||h&&G.isStraight(t)||G.isFlatEnough(t,c||.25)){var r=t[6]-t[0],o=t[7]-t[1],s=Math.sqrt(r*r+o*o);0<s&&(f+=s,d.push({offset:f,curve:t,index:e,time:i}))}else{var a=G.subdivide(t,.5),l=(n+i)/2;u(a[0],e,n,l),u(a[1],e,l,i)}}(e,u._index,0,1)}for(var r,o=[],d=[],f=0,p=1/(e||32),s=t._segments,a=s[0],l=1,u=s.length;l<u;l++)i(a,r=s[l]),a=r;t._closed&&i(r,s[0]),this.curves=o,this.parts=d,this.length=f,this.index=0},_get:function(t){for(var e,n=this.parts,i=n.length,r=this.index;(e=r)&&!(n[--r].offset<t););for(;e<i;e++){var o=n[e];if(o.offset>=t){var s=n[(this.index=e)-1],a=s&&s.index===o.index?s.time:0,l=s?s.offset:0;return{index:o.index,time:a+(o.time-a)*(t-l)/(o.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(t,e,n){for(var i=this._get(e),r=this._get(n),o=i.index,s=r.index;o<=s;o++){var a=G.getPart(this.curves[o],o===i.index?i.time:0,o===r.index?r.time:1);o===i.index&&t.moveTo(a[0],a[1]),t.bezierCurveTo.apply(t,a.slice(2))}}},B.each(G._evaluateMethods,function(n){this[n+"At"]=function(t){var e=this._get(t);return G[n](this.curves[e.index],e.time)}},{})),i=B.extend({initialize:function(t){for(var e,n=this.points=[],i=t._segments,r=t._closed,o=0,s=i.length;o<s;o++){var a=i[o].point;e&&e.equals(a)||n.push(e=a.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(t){var e=this.points,n=e.length,i=null;return 0<n&&(i=[new Y(e[0])],1<n&&(this.fitCubic(i,t,0,n-1,e[1].subtract(e[0]),e[n-2].subtract(e[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(t,e,n,i,r,o){var s=this.points;if(i-n!=1){for(var a,l=this.chordLengthParameterize(n,i),u=Math.max(e,e*e),c=!0,h=0;h<=4;h++){var d=this.generateBezier(n,i,l,r,o),f=this.findMaxError(n,i,d,l);if(f.error<e&&c)return void this.addCurve(t,d);if(a=f.index,f.error>=u)break;c=this.reparameterize(n,i,l,d),u=f.error}var p=s[a-1].subtract(s[a+1]);this.fitCubic(t,e,n,a,r,p),this.fitCubic(t,e,a,i,p.negate(),o)}else{var g=s[n],m=s[i],v=g.getDistance(m)/3;this.addCurve(t,[g,g.add(r.normalize(v)),m.add(o.normalize(v)),m])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new Y(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,n,i,r){for(var o=Math.abs,s=this.points,a=s[t],l=s[e],u=[[0,0],[0,0]],c=[0,0],h=0,d=e-t+1;h<d;h++){var f=n[h],p=1-f,g=3*f*p,m=p*p*p,v=g*p,y=g*f,_=f*f*f,w=i.normalize(v),b=r.normalize(y),x=s[t+h].subtract(a.multiply(m+v)).subtract(l.multiply(y+_));u[0][0]+=w.dot(w),u[0][1]+=w.dot(b),u[1][0]=u[0][1],u[1][1]+=b.dot(b),c[0]+=w.dot(x),c[1]+=b.dot(x)}var C,S,T=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(1e-12<o(T)){var E=u[0][0]*c[1]-u[1][0]*c[0];C=(c[0]*u[1][1]-c[1]*u[0][1])/T,S=E/T}else{var k=u[0][0]+u[0][1],A=u[1][0]+u[1][1];C=S=1e-12<o(k)?c[0]/k:1e-12<o(A)?c[1]/A:0}var P,I,L=l.getDistance(a),M=1e-12*L;if(C<M||S<M)C=S=L/3;else{var z=l.subtract(a);P=i.normalize(C),I=r.normalize(S),P.dot(z)-I.dot(z)>L*L&&(C=S=L/3,P=I=null)}return[a,a.add(P||i.normalize(C)),l.add(I||r.normalize(S)),l]},reparameterize:function(t,e,n,i){for(var r=t;r<=e;r++)n[r-t]=this.findRoot(i,this.points[r],n[r-t]);r=1;for(var o=n.length;r<o;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(t,e,n){for(var i=[],r=[],o=0;o<=2;o++)i[o]=t[o+1].subtract(t[o]).multiply(3);for(o=0;o<=1;o++)r[o]=i[o+1].subtract(i[o]).multiply(2);var s=this.evaluate(3,t,n),a=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=s.subtract(e),c=a.dot(a)+u.dot(l);return W.isZero(c)?n:n-u.dot(a)/c},evaluate:function(t,e,n){for(var i=e.slice(),r=1;r<=t;r++)for(var o=0;o<=t-r;o++)i[o]=i[o].multiply(1-n).add(i[o+1].multiply(n));return i[0]},chordLengthParameterize:function(t,e){for(var n=[0],i=t+1;i<=e;i++)n[i-t]=n[i-t-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=e-t;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(t,e,n,i){for(var r=Math.floor((e-t+1)/2),o=0,s=t+1;s<e;s++){var a=this.evaluate(3,n,i[s-t]).subtract(this.points[s]),l=a.x*a.x+a.y*a.y;o<=l&&(o=l,r=s)}return{error:o,index:r}}}),l=L.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&B.isPlainObject(t)&&t.x===j&&t.y===j;this._initialize(e&&t,!e&&V.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),f=l.extend({_class:"PointText",initialize:function(){l.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new h(t.x,t.y,this,"setPoint")},setPoint:function(){var t=V.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,n){if(this._content){this._setStyles(t,e,n);var i=this._lines,r=this._style,o=r.hasFill(),s=r.hasStroke(),a=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){t.shadowColor=l;var h=i[u];o&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),s&&t.strokeText(h,0,0),t.translate(0,a)}}},_getBounds:function(t){var e=this._style,n=this._lines,i=n.length,r=e.getJustification(),o=e.getLeading(),s=this.getView().getTextWidth(e.getFontStyle(),n),a=0
;"left"!==r&&(a-=s/("center"===r?2:1));var l=new A(a,i?-.75*o:0,s,i*o);return t?t._transformBounds(l,l):l}}),N=B.extend(new function(){var m,v={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},y={},_={},w=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],n={"rgb-hsb":function(t,e,n){var i=Math.max(t,e,n),r=i-Math.min(t,e,n);return[0===r?0:60*(i==t?(e-n)/r+(e<n?6:0):i==e?(n-t)/r+2:(t-e)/r+4),0===i?0:r/i,i]},"hsb-rgb":function(t,e,n){var i,r=(t=(t/60%6+6)%6)-(i=Math.floor(t)),o=[n,n*(1-e),n*(1-e*r),n*(1-e*(1-r))];return[o[(i=w[i])[0]],o[i[1]],o[i[2]]]},"rgb-hsl":function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),o=i-r,s=0===o,a=(i+r)/2;return[s?0:60*(i==t?(e-n)/o+(e<n?6:0):i==e?(n-t)/o+2:(t-e)/o+4),s?0:a<.5?o/(i+r):o/(2-i-r),a]},"hsl-rgb":function(t,e,n){if(0===e)return[n,n,n];for(var i=[(t=(t/360%1+1)%1)+1/3,t,t-1/3],r=n<.5?n*(1+e):n+e-n*e,o=2*n-r,s=[],a=0;a<3;a++){var l=i[a];l<0&&(l+=1),1<l&&(l-=1),s[a]=6*l<1?o+6*(r-o)*l:2*l<1?r:3*l<2?o+(r-o)*(2/3-l)*6:o}return s},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return B.each(v,function(t,o){y[o]=[],B.each(t,function(t,e){var n=B.capitalize(t),i=/^(hue|saturation)$/.test(t),r=y[o][e]="gradient"===t?function(t){var e=this._components[0];return e!==(t=O.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===o?function(){return V.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+n]=function(){return this._type===o||i&&/^hs[bl]$/.test(this._type)?this._components[e]:this._convert(o)[e]},this["set"+n]=function(t){this._type===o||i&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(o),this._properties=v[o],this._type=o),this._components[e]=r.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function w(t){var e,n,i,r,o=arguments,s=this.__read,a=0;Array.isArray(t)&&(t=(o=t)[0]);var l=null!=t&&typeof t;if("string"===l&&t in v&&(e=t,t=o[1],Array.isArray(t)?(n=t,i=o[2]):(s&&(a=1),o=B.slice(o,1),l=typeof t)),!n){if(r="number"===l?o:"object"===l&&null!=t.length?t:null){e||(e=3<=r.length?"rgb":"gray");var u=v[e].length;i=r[u],s&&(a+=r===arguments?u+(null!=i?1:0):1),r.length>u&&(r=B.slice(r,0,u))}else if("string"===l)e="rgb",4===(n=function(t){var e,n=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(n){e=[0,0,0];for(var i=0;i<3;i++){var r=n[i+1];e[i]=parseInt(1==r.length?r+r:r,16)/255}}else if(n=t.match(/^rgba?\((.*)\)$/)){i=0;for(var o=(e=n[1].split(",")).length;i<o;i++)r=+e[i],e[i]=i<3?r/255:r}else if(P){var s=_[t];if(!s){m||((m=et.getContext(1,1)).globalCompositeOperation="copy"),m.fillStyle="rgba(0,0,0,0)",m.fillStyle=t,m.fillRect(0,0,1,1);var a=m.getImageData(0,0,1,1).data;s=_[t]=[a[0]/255,a[1]/255,a[2]/255]}e=s.slice()}else e=[0,0,0];return e}(t)).length&&(i=n[3],n.length--);else if("object"===l)if(t.constructor===w){if(e=t._type,n=t._components.slice(),i=t._alpha,"gradient"===e)for(var c=1,h=n.length;c<h;c++){var d=n[c];d&&(n[c]=d.clone())}}else if(t.constructor===O)e="gradient",r=o;else{var f=v[e="hue"in t?"lightness"in t?"hsl":"hsb":"gradient"in t||"stops"in t||"radial"in t?"gradient":"gray"in t?"gray":"rgb"],p=y[e];for(this._components=n=[],c=0,h=f.length;c<h;c++)null==(g=t[f[c]])&&!c&&"gradient"===e&&"stops"in t&&(g={stops:t.stops,radial:t.radial}),null!=(g=p[c].call(this,g))&&(n[c]=g);i=t.alpha}s&&e&&(a=1)}if(this._type=e||"rgb",!n)for(this._components=n=[],c=0,h=(p=y[this._type]).length;c<h;c++){var g;null!=(g=p[c].call(this,r&&r[c]))&&(n[c]=g)}return this._components=n,this._properties=v[this._type],this._alpha=i,s&&(this.__read=a),this},set:"#initialize",_serialize:function(t,e){var n=this.getComponents();return B.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=n[this._type+"-"+t])?e.apply(this,this._components):n["rgb-"+t].apply(this,n[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new N(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=v[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=B.isPlainValue(t,!0)?N.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&B.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,i=b.instance,r=0,o=t.length;r<o;r++){var s=this._components[r];null!=s&&e.push(t[r]+": "+(n?s:i.number(s)))}return null!=this._alpha&&e.push("alpha: "+i.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:1<t?1:t))}var n=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],i<1&&n.push(i<0?0:i),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],o=r._stops,s=i[1],a=i[2],l=i[3],u=e&&e.inverted();if(u&&(s=u._transformPoint(s),a=u._transformPoint(a),l&&(l=u._transformPoint(l))),r._radial){var c=a.getDistance(s);if(l){var h=l.subtract(s);h.getLength()>c&&(l=s.add(h.normalize(c-.1)))}var d=l||s;n=t.createRadialGradient(d.x,d.y,0,s.x,s.y,c)}else n=t.createLinearGradient(s.x,s.y,a.x,a.y);for(var f=0,p=o.length;f<p;f++){var g=o[f],m=g._offset;n.addColorStop(null==m?f/(p-1):m,g._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,i=e.length;n<i;n++){var r=e[n];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:v,random:function(){var t=Math.random;return new N(t(),t(),t())}}})},new function(){return B.each({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}},function(s,t){this[t]=function(t){t=N.read(arguments);for(var e=this._type,n=this._components,i=t._convert(e),r=0,o=n.length;r<o;r++)i[r]=s(n[r],i[r]);return new N(e,i,null!=this._alpha?s(this._alpha,t.getAlpha()):null)}},{})}),O=B.extend({_class:"Gradient",initialize:function(t,e){this._id=u.get(),t&&B.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return B.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=j))},clone:function(){for(var t=[],e=0,n=this._stops.length;e<n;e++)t[e]=this._stops[e].clone();return new O(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var n=0,i=e.length;n<i;n++)e[n]._owner=j;for(n=0,i=(e=this._stops=D.readList(t,0,{clone:!0})).length;n<i;n++)e[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,n=t._stops,i=e.length;if(i===n.length){for(var r=0;r<i;r++)if(!e[r].equals(n[r]))return!1;return!0}}return!1}}),D=B.extend({_class:"GradientStop",initialize:function(t,e){var n=t,i=e;"object"==typeof t&&e===j&&(Array.isArray(t)&&"number"!=typeof t[0]?(n=t[0],i=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,i=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new D(this._color.clone(),this._offset)},_serialize:function(t,e){var n=this._color,i=this._offset;return B.serialize(null==i?[n]:[n,i],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=N.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),p=B.extend(new function(){var i={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new V,selectedColor:null},r=B.set({},i,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),o=B.set({},r,{fillColor:new N}),n={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},d={beans:!0},f={_class:"Style",beans:!0,initialize:function(t,e,n){this._values={},this._owner=e,this._project=e&&e._project||n||paper.project,this._defaults=!e||e instanceof S?r:e instanceof l?o:i,t&&this.set(t)}};return B.each(r,function(t,l){var u=/Color$/.test(l),c="shadowOffset"===l,e=B.capitalize(l),s=n[l],a="set"+e,h="get"+e;f[a]=function(t){var e=this._owner,n=e&&e._children;if(n&&0<n.length&&!(e instanceof F))for(var i=0,r=n.length;i<r;i++)n[i]._style[a](t);else if(l in this._defaults){var o=this._values[l];o!==t&&(u&&(o&&o._owner!==j&&(o._owner=j),t&&t.constructor===N&&(t._owner&&(t=t.clone()),t._owner=e)),this._values[l]=t,e&&e._changed(s||65))}},f[h]=function(t){var e,n=this._owner,i=n&&n._children;if(l in this._defaults&&(!i||!i.length||t||n instanceof F))if((e=this._values[l])===j)(e=this._defaults[l])&&e.clone&&(e=e.clone());else{var r=u?N:c?V:null;!r||e&&e.constructor===r||(this._values[l]=e=r.read([e],0,{readNull:!0,clone:!0}),e&&u&&(e._owner=n))}else if(i)for(var o=0,s=i.length;o<s;o++){var a=i[o]._style[h]();if(o){if(!B.equals(e,a))return j}else e=a}return e},d[h]=function(t){return this._style[h](t)},d[a]=function(t){this._style[a](t)}}),B.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var n="get"+e,i="set"+e;f[n]=d[n]="#get"+t,f[i]=d[i]="#set"+t}),L.inject(d),f},{set:function(t){var e=t instanceof p,n=e?t._values:t;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,n){var i=t._values,r=e._values,o=e._defaults;for(var s in i){var a=i[s],l=r[s];if(!(n&&s in r||B.equals(a,l===j?o[s]:l)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&0<t.alpha},hasStroke:function(){var t=this.getStrokeColor();return!!t&&0<t.alpha&&0<this.getStrokeWidth()},hasShadow:function(){var t=this.getShadowColor();return!!t&&0<t.alpha&&(0<this.getShadowBlur()||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function C(){var t=C.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),H=new function(){function r(t,e,n,i){for(var r=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),s=0;s<6;s++){var a=r[s],l=a?a+o:e;if(l in t){if(!n)return t[l];t[l]=i;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,i=t.ownerDocument,r=i.body,o=i.documentElement;try{n=t.getBoundingClientRect()}catch(t){n={left:0,top:0,width:0,height:0}}var s=n.left-(o.clientLeft||r.clientLeft||0),a=n.top-(o.clientTop||r.clientTop||0);if(!e){var l=i.defaultView;s+=l.pageXOffset||o.scrollLeft||r.scrollLeft,a+=l.pageYOffset||o.scrollTop||r.scrollTop}return new A(s,a,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,i=e.documentElement;return new A(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(t,e){return H.getBounds(t,e).getPoint()},getSize:function(t){return H.getBounds(t,!0).getSize()},isInvisible:function(t){return H.getSize(t).equals(new U(0,0))},isInView:function(t){return!H.isInvisible(t)&&H.getViewportBounds(t).intersects(H.getBounds(t,!0))},isInserted:function(t){return I.body.contains(t)},getPrefixed:function(t,e){return t&&r(t,e)},setPrefixed:function(t,e,n){if("object"==typeof e)for(var i in e)r(t,i,!0,e[i]);else r(t,e,!0,n)}}},Z={add:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;o<s;o++)t.addEventListener(r[o],i,!1)},remove:function(t,e){if(t)for(var n in e)for(var i=e[n],r=n.split(/[\s,]+/g),o=0,s=r.length;o<s;o++)t.removeEventListener(r[o],i,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new V(e.pageX||e.clientX+I.documentElement.scrollLeft,e.pageY||e.clientY+I.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Z.getPoint(t).subtract(H.getOffset(e||Z.getTarget(t)))}};Z.requestAnimationFrame=new function(){function i(){var t=s;s=[];for(var e=0,n=t.length;e<n;e++)t[e]();(o=r&&s.length)&&r(i)}var e,r=H.getPrefixed(P,"requestAnimationFrame"),o=!1,s=[];return function(t){s.push(t),r?o||(r(i),o=!0):e||(e=setInterval(i,1e3/60))}};var J=B.extend(t,{_class:"View",initialize:function C(t,e){function n(t){return e[t]||parseInt(e.getAttribute(t),10)}function i(){var t=H.getSize(e);return t.isNaN()||t.isZero()?new U(n("width"),n("height")):t}var r;if(P&&e){if(this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+C._id++),Z.add(e,this._viewEvents),H.setPrefixed(e.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),c.hasAttribute(e,"resize")){var o=this;Z.add(P,this._windowEvents={resize:function(){o.setViewSize(i())}})}if(r=i(),c.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var s=this._stats.domElement,a=s.style,l=H.getOffset(e);a.position="absolute",a.left=l.x+"px",a.top=l.y+"px",I.body.appendChild(s)}}else r=new U(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=P&&P.devicePixelRatio||1),this._setElementSize(r.width,r.height),this._viewSize=r,C._views.push(this),((C._viewsById[this._id]=this)._matrix=new X)._owner=this,C._focused||(C._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={"native":{},virtual:{}},this._autoUpdate=!paper.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;J._focused===this&&(J._focused=null),J._views.splice(J._views.indexOf(this),1),delete J._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Z.remove(this._element,this._viewEvents),Z.remove(P,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:B.each(L._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){(this._autoUpdate=t)&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Z.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;H.getPrefixed(I,"hidden")&&"true"!==c.getAttribute(t,"keepalive")||!H.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){paper=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new B({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var n=this._frameItems[e];n.item.emit("frame",new B(t,{time:n.time+=t.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=j},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new n(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=U.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var n=this._element;n&&(n.width!==t&&(n.width=t),n.height!==e&&(n.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new A(new V,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return H.isInView(this._element)},isInserted:function(){return H.isInserted(this._element)},getPixelSize:function(t){var e,n=this._element;if(n){var i=n.parentNode,r=I.createElement("div");r.style.fontSize=t,i.appendChild(r),e=parseFloat(H.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(){return 0}},B.each(["rotate","scale","shear","skew"],function(n){var i="rotate"===n;this[n]=function(){var t=(i?B:V).read(arguments),e=V.read(arguments,0,{readNull:!0});return this.transform((new X)[n](t,e||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new X;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=V.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new X).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new h(e.x,e.y,this,"setScaling"):j},setScaling:function(){var t=this.getScaling(),e=V.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(V.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(V.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(V.read(arguments))},getEventPoint:function(t){return this.viewToProject(Z.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return I&&"string"==typeof e&&(e=I.getElementById(e)),new(P?r:J)(t,e)}}},new function(){function i(t){var e=Z.getTarget(t);return e.getAttribute&&J._viewsById[e.getAttribute("id")]}function r(){var t=J._focused;if(!t||!t.isVisible())for(var e=0,n=J._views.length;e<n;e++)if((t=J._views[e]).isVisible()){J._focused=s=t;break}}function l(t,e,n){t._handleMouseEvent("mousemove",e,n)}function g(t,i,e,r,o,s,n){function a(t,e){if(t.responds(e)){if(l||(l=new Q(e,r,o,i||t,s?o.subtract(s):null)),t.emit(e,l)&&(E=!0,l.prevented&&(k=!0),l.stopped))return u=!0}else{var n=d[e];if(n)return a(t,n)}}for(var l,u=!1;t&&t!==n&&!a(t,e);)t=t._parent;return u}function m(t,e,n,i,r,o){return t._project.removeOn(n),k=E=!1,x&&g(x,null,n,i,r,o)||e&&e!==x&&!e.isDescendant(x)&&g(e,null,n,i,r,o,x)||g(t,x||e||t,n,i,r,o)}if(P){var o,s,t,e,n,v=!1,a=!1,u=P.navigator;u.pointerEnabled||u.msPointerEnabled?(t="pointerdown MSPointerDown",e="pointermove MSPointerMove",n="pointerup pointercancel MSPointerUp MSPointerCancel"):(t="touchstart",e="touchmove",n="touchend touchcancel","ontouchstart"in P&&u.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(t+=" mousedown",e+=" mousemove",n+=" mouseup"));var c={},h={mouseout:function(t){var e=J._focused,n=Z.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var i=Z.getOffset(t,e._element),r=i.x,o=Math.abs,s=o(r),a=s-(1<<25);i.x=o(a)<s?a*(r<0?-1:1):r,l(e,t,e.viewToProject(i))}},scroll:r};c[t]=function(t){var e=J._focused=i(t);v||(v=!0,e._handleMouseEvent("mousedown",t))},h[e]=function(t){var e=J._focused;if(!a){var n=i(t);n?e!==n&&(e&&l(e,t),o||(o=e),e=J._focused=s=n):s&&s===e&&(o&&!o.isInserted()&&(o=null),e=J._focused=o,o=null,r())}e&&l(e,t)},h[t]=function(){a=!0},h[n]=function(t){var e=J._focused;e&&v&&e._handleMouseEvent("mouseup",t),a=v=!1},Z.add(I,h),Z.add(P,{load:r});var y,_,w,b,x,C,S,T,E=!1,k=!1,d={doubleclick:"click",mousedrag:"mousemove"},A=!1,f={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(t,e,n){function i(t){return r.virtual[t]||l.responds(t)||a&&a.responds(t)}var r=this._itemEvents,o=r["native"][t],s="mousemove"===t,a=this._scope.tool,l=this;s&&v&&i("mousedrag")&&(t="mousedrag"),n||(n=this.getEventPoint(e));var u=this.getBounds().contains(n),c=o&&u&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),h=c&&c.item||null,d=!1,f={};if(f[t.substr(5)]=!0,o&&h!==b&&(b&&g(b,null,"mouseleave",e,n),h&&g(h,null,"mouseenter",e,n),b=h),A^u&&(g(this,null,u?"mouseenter":"mouseleave",e,n),d=!0),!u&&!f.drag||n.equals(_)||(m(this,h,s?t:"mousemove",e,n,_),d=!0),A=u,f.down&&u||f.up&&y){if(m(this,h,t,e,n,y),f.down){if(T=h===C&&Date.now()-S<300,w=C=h,!k&&h){for(var p=h;p&&!p.responds("mousedrag");)p=p._parent;p&&(x=h)}y=n}else f.up&&(k||h!==w||(S=Date.now(),m(this,h,T?"doubleclick":"click",e,n,y),T=!1),w=x=null);d=!(A=!1)}_=n,d&&a&&(E=a._handleMouseEvent(t,e,n,f)||E),(E&&!f.move||f.down&&i("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(e,n,i,r){function t(t){t.responds(e)&&(paper=s,t.emit(e,o=o||new K(e,n,i,r)))}var o,s=this._scope,a=s.tool;this.isVisible()&&(t(this),a&&a.responds(e)&&t(a))},_countItemEvent:function(t,e){var n=this._itemEvents,i=n["native"],r=n.virtual;for(var o in f)i[o]=(i[o]||0)+(f[o][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:r}}}}),r=J.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof P.HTMLCanvasElement)){var n=U.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+B.slice(arguments,1));e=et.getCanvas(n)}var i=this._context=e.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(c.getAttribute(e,"hidpi"))){var r=P.devicePixelRatio||1,o=H.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/o}J.call(this,t,e),this._needsUpdate=!0},remove:function C(){return this._context.restore(),C.base.call(this)},_setElementSize:function C(t,e){var n=this._pixelRatio;if(C.base.call(this,t*n,e*n),1!==n){var i=this._element,r=this._context;if(!c.hasAttribute(i,"resize")){var o=i.style;o.width=t+"px",o.height=e+"px"}r.restore(),r.save(),r.scale(n,n)}},getPixelSize:function C(t){var e,n=paper.agent;if(n&&n.firefox)e=C.base.call(this,t);else{var i=this._context,r=i.font;i.font=t+" serif",e=parseFloat(i.font),i.font=r}return e},getTextWidth:function(t,e){var n=this._context,i=n.font,r=0;n.font=t;for(var o=0,s=e.length;o<s;o++)r=Math.max(r,n.measureText(e[o]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,n=this._viewSize;return e.clearRect(0,0,n.width+1,n.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),!(this._needsUpdate=!1)}}),g=B.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return m.modifiers}}),K=g.extend({_class:"KeyEvent",initialize:function(t,e,n,i){this.type=t,this.event=e,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),m=new function(){function r(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===j?String.fromCharCode(t.keyCode):e,n[e]||(1<e.length?B.hyphenate(e):e.toLowerCase())}function l(t,e,n,i){var r,o=J._focused;if((c[e]=t)?h[e]=n:delete h[e],1<e.length&&(r=B.camelize(e))in d){d[r]=t;var s=paper&&paper.agent;if("meta"===r&&s&&s.mac)if(t)u={};else{for(var a in u)a in h&&l(!1,a,u[a],i);u=null}}else t&&u&&(u[e]=n);o&&o._handleKeyEvent(t?"keydown":"keyup",i,e,n)}var u,o,n={"\t":"tab"," ":"space","\b":"backspace","\x7f":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},c={},h={},d=new B({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=paper&&paper.agent;return t&&t.mac?this.meta:this.control}}});return Z.add(I,{keydown:function(t){var e=r(t),n=paper&&paper.agent;1<e.length||n&&n.chrome&&(t.altKey||n.mac&&t.metaKey||!n.mac&&t.ctrlKey)?l(!0,e,i[e]||(1<e.length?"":e),t):o=e},keypress:function(t){if(o){var e=r(t),n=t.charCode,i=32<=n?String.fromCharCode(n):1<e.length?"":e;e!==o&&(e=i.toLowerCase()),l(!0,e,i,t),o=null}},keyup:function(t){var e=r(t);e in h&&l(!1,e,h[e],t)}}),Z.add(P,{blur:function(t){for(var e in h)l(!1,e,h[e],t)}}),{modifiers:d,isDown:function(t){return!!c[t]}}},Q=g.extend({_class:"MouseEvent",initialize:function(t,e,n,i,r){this.type=t,this.event=e,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),v=g.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)n=(e=n)._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),_=e.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){e.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){null!=(this._minDistance=t)&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,s,a){function n(t,e){var n=s,i=l?h._point:h._downPoint||n;if(l){if(h._moveCount&&n.equals(i))return!1;if(i&&(null!=t||null!=e)){var r=n.subtract(i),o=r.getLength();if(o<(t||0))return!1;e&&(n=i.add(r.normalize(Math.min(o,e))))}h._moveCount++}return h._point=n,h._lastPoint=i||n,a.down&&(h._moveCount=-1,h._downPoint=n,h._downCount++),!0}function i(){r&&(c=h.emit(t,new v(h,t,e))||c)}paper=this._scope,a.drag&&!this.responds(t)&&(t="mousemove");var l=a.move||a.drag,r=this.responds(t),o=this.minDistance,u=this.maxDistance,c=!1,h=this;if(a.down)n(),i();else if(a.up)n(null,u),i();else if(r)for(;n(o,u);)i();return c}}),tt={request:function(n){var i=new C.XMLHttpRequest;return i.open((n.method||"get").toUpperCase(),n.url,B.pick(n.async,!0)),n.mimeType&&i.overrideMimeType(n.mimeType),i.onload=function(){var t=i.status;0===t||200===t?n.onLoad&&n.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var t=i.status,e='Could not load "'+n.url+'" (Status: '+t+")";if(!n.onError)throw new Error(e);n.onError(e,t)},i.send(null)}},et={canvases:[],getCanvas:function(t,e){if(!P)return null;var n,i=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=I.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?i&&r.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),r.save(),n},getContext:function(t,e){var n=this.getCanvas(t,e);return n?n.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},nt=new function(){function c(t,e,n){return.2989*t+.587*e+.114*n}function t(t,e,n,i){var r=i-c(t,e,n),o=(i=c(C=t+r,S=e+r,T=n+r),h(C,S,T)),s=d(C,S,T);if(o<0){var a=i-o;C=i+(C-i)*i/a,S=i+(S-i)*i/a,T=i+(T-i)*i/a}if(255<s){var l=255-i,u=s-i;C=i+(C-i)*l/u,S=i+(S-i)*l/u,T=i+(T-i)*l/u}}function e(t,e,n){return d(t,e,n)-h(t,e,n)}function n(t,e,n,i){var r,o=[t,e,n],s=d(t,e,n),a=h(t,e,n);r=0===h(a=a===t?0:a===e?1:2,s=s===t?0:s===e?1:2)?1===d(a,s)?2:1:0,o[s]>o[a]?(o[r]=(o[r]-o[a])*i/(o[s]-o[a]),o[s]=i):o[r]=o[s]=0,o[a]=0,C=o[0],S=o[1],T=o[2]}var g,m,v,y,_,w,b,x,C,S,T,h=Math.min,d=Math.max,i=Math.abs,E={multiply:function(){C=_*g/255,S=w*m/255,T=b*v/255},screen:function(){C=_+g-_*g/255,S=w+m-w*m/255,T=b+v-b*v/255},overlay:function(){C=_<128?2*_*g/255:255-2*(255-_)*(255-g)/255,S=w<128?2*w*m/255:255-2*(255-w)*(255-m)/255,T=b<128?2*b*v/255:255-2*(255-b)*(255-v)/255},"soft-light":function(){var t=g*_/255;C=t+_*(255-(255-_)*(255-g)/255-t)/255,S=(t=m*w/255)+w*(255-(255-w)*(255-m)/255-t)/255,T=(t=v*b/255)+b*(255-(255-b)*(255-v)/255-t)/255},"hard-light":function(){C=g<128?2*g*_/255:255-2*(255-g)*(255-_)/255,S=m<128?2*m*w/255:255-2*(255-m)*(255-w)/255,T=v<128?2*v*b/255:255-2*(255-v)*(255-b)/255},"color-dodge":function(){C=0===_?0:255===g?255:h(255,255*_/(
255-g)),S=0===w?0:255===m?255:h(255,255*w/(255-m)),T=0===b?0:255===v?255:h(255,255*b/(255-v))},"color-burn":function(){C=255===_?255:0===g?0:d(0,255-255*(255-_)/g),S=255===w?255:0===m?0:d(0,255-255*(255-w)/m),T=255===b?255:0===v?0:d(0,255-255*(255-b)/v)},darken:function(){C=_<g?_:g,S=w<m?w:m,T=b<v?b:v},lighten:function(){C=g<_?_:g,S=m<w?w:m,T=v<b?b:v},difference:function(){(C=_-g)<0&&(C=-C),(S=w-m)<0&&(S=-S),(T=b-v)<0&&(T=-T)},exclusion:function(){C=_+g*(255-_-_)/255,S=w+m*(255-w-w)/255,T=b+v*(255-b-b)/255},hue:function(){n(g,m,v,e(_,w,b)),t(C,S,T,c(_,w,b))},saturation:function(){n(_,w,b,e(g,m,v)),t(C,S,T,c(_,w,b))},luminosity:function(){t(_,w,b,c(g,m,v))},color:function(){t(g,m,v,c(_,w,b))},add:function(){C=h(_+g,255),S=h(w+m,255),T=h(b+v,255)},subtract:function(){C=d(_-g,0),S=d(w-m,0),T=d(b-v,0)},average:function(){C=(_+g)/2,S=(w+m)/2,T=(b+v)/2},negation:function(){C=255-i(255-g-_),S=255-i(255-m-w),T=255-i(255-v-b)}},k=this.nativeModes=B.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),r=et.getContext(1,1);r&&(B.each(E,function(t,e){var n="darken"===e,i=!1;r.save();try{r.fillStyle=n?"#300":"#a00",r.fillRect(0,0,1,1),r.globalCompositeOperation=e,r.globalCompositeOperation===e&&(r.fillStyle=n?"#a00":"#300",r.fillRect(0,0,1,1),i=r.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(t){}r.restore(),k[e]=i}),et.release(r)),this.process=function(t,e,n,i,r){var o=e.canvas,s="normal"===t;if(s||k[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=i,s||(n.globalCompositeOperation=t),n.drawImage(o,r.x,r.y),n.restore();else{var a=E[t];if(!a)return;for(var l=n.getImageData(r.x,r.y,o.width,o.height),u=l.data,c=e.getImageData(0,0,o.width,o.height).data,h=0,d=u.length;h<d;h+=4){g=c[h],_=u[h],m=c[h+1],w=u[h+1],v=c[h+2],b=u[h+2],y=c[h+3],x=u[h+3],a();var f=y*i/255,p=1-f;u[h]=f*C+p*_,u[h+1]=f*S+p*w,u[h+2]=f*T+p*b,u[h+3]=y*i+p*x}n.putImageData(l,r.x,r.y)}}},it=new function(){function i(t,e,n){for(var i in e){var r=e[i],o=s[i];"number"==typeof r&&n&&(r=n.number(r)),o?t.setAttributeNS(o,i,r):t.setAttribute(i,r)}return t}var r="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",e="http://www.w3.org/1999/xlink",s={href:e,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};return{svg:r,xmlns:t,xlink:e,create:function(t,e,n){return i(I.createElementNS(r,t),e,n)},get:function(t,e){var n=s[e],i=n?t.getAttributeNS(n,e):t.getAttribute(e);return"null"===i?null:i},set:i}},rt=B.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof z||t instanceof T||t instanceof l)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var n=B.capitalize(e),i=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:i,fromSVG:i&&B.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+n,set:"set"+n}},{});return new function(){function d(t,e,n){var i=new B,r=t.getTranslation();if(e){var o=(t=t._shiftless())._inverseTransform(r);i[n?"cx":"x"]=o.x,i[n?"cy":"y"]=o.y,r=null}if(!t.isIdentity()){var s=t.decompose();if(s){var a=[],l=s.rotation,u=s.scaling,c=s.skewing;r&&!r.isZero()&&a.push("translate("+_.point(r)+")"),l&&a.push("rotate("+_.number(l)+")"),W.isZero(u.x-1)&&W.isZero(u.y-1)||a.push("scale("+_.point(u)+")"),c.x&&a.push("skewX("+_.number(c.x)+")"),c.y&&a.push("skewY("+_.number(c.y)+")"),i.transform=a.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function t(t,e){for(var n=d(t._matrix),i=t._children,r=it.create("g",n,_),o=0,s=i.length;o<s;o++){var a=i[o],l=v(a,e);if(l)if(a.isClipMask()){var u=it.create("clipPath");u.appendChild(l),m(a,u,"clip"),it.set(r,{"clip-path":"url(#"+u.id+")"})}else r.appendChild(l)}return r}function f(t){var e=t._type,n=t._radius,i=d(t._matrix,!0,"rectangle"!==e);if("rectangle"===e){e="rect";var r=t._size,o=r.width,s=r.height;i.x-=o/2,i.y-=s/2,i.width=o,i.height=s,n.isZero()&&(n=null)}return n&&("circle"===e?i.r=n:(i.rx=n.width,i.ry=n.height)),it.create(e,i,_)}function a(o,t,e){var s={},a=!e&&o.getParent(),l=[];return null!=o._name&&(s.id=o._name),B.each(rt,function(t){var e=t.get,n=t.type,i=o[e]();if(t.exportFilter?t.exportFilter(o,i):!a||!B.equals(a[e](),i)){if("color"===n&&null!=i){var r=i.getAlpha();r<1&&(s[t.attribute+"-opacity"]=r)}"style"===n?l.push(t.attribute+": "+i):s[t.attribute]=null==i?"none":"color"===n?i.gradient?function(t){var e=g(t,"color");if(!e){var n,i=t.getGradient(),r=i._radial,o=t.getOrigin(),s=t.getDestination();if(r){n={cx:o.x,cy:o.y,r:o.getDistance(s)};var a=t.getHighlight();a&&(n.fx=a.x,n.fy=a.y)}else n={x1:o.x,y1:o.y,x2:s.x,y2:s.y};n.gradientUnits="userSpaceOnUse",e=it.create((r?"radial":"linear")+"Gradient",n,_);for(var l=i._stops,u=0,c=l.length;u<c;u++){var h=l[u],d=h._color,f=d.getAlpha(),p=h._offset;n={offset:null==p?u/(c-1):p},d&&(n["stop-color"]=d.toCSS(!0)),f<1&&(n["stop-opacity"]=f),e.appendChild(it.create("stop",n,_))}m(t,e,"color")}return"url(#"+e.id+")"}(i):i.toCSS(!0):"array"===n?i.join(","):"lookup"===n?t.toSVG[i]:i}}),l.length&&(s.style=l.join(";")),1===s.opacity&&delete s.opacity,o._visible||(s.visibility="hidden"),it.set(t,s,_)}function g(t,e){return o||(o={ids:{},svgs:{}}),t&&o.svgs[e+"-"+(t._id||t.__id||(t.__id=u.get("svg")))]}function m(t,e,n){o||g();var i=o.ids[n]=(o.ids[n]||0)+1;e.id=n+"-"+i,o.svgs[n+"-"+(t._id||t.__id)]=e}function p(t,e){var n=t,i=null;if(o){for(var r in n="svg"===t.nodeName.toLowerCase()&&t,o.svgs)i||(n||(n=it.create("svg")).appendChild(t),i=n.insertBefore(it.create("defs"),n.firstChild)),i.appendChild(o.svgs[r]);o=null}return e.asString?(new C.XMLSerializer).serializeToString(n):n}function v(t,e,n){var i=l[t._class],r=i&&i(t,e);if(r){var o=e.onExport;o&&(r=o(t,r,e)||r);var s=JSON.stringify(t._data);s&&"{}"!==s&&"null"!==s&&r.setAttribute("data-paper-data",s)}return r&&a(t,r,n)}function y(t){return t||(t={}),_=new b(t.precision),t}var _,o,l={Group:t,Layer:t,Raster:function(t,e){var n=d(t._matrix,!0),i=t.getSize(),r=t.getImage();return n.x-=i.width/2,n.y-=i.height/2,n.width=i.width,n.height=i.height,n.href=0==e.embedImages&&r&&r.src||t.toDataURL(),it.create("image",n,_)},Path:function(t,e){var n=e.matchShapes;if(n){var i=t.toShape(!1);if(i)return f(i)}var r,o=t._segments,s=o.length,a=d(t._matrix);if(n&&2<=s&&!t.hasHandles())if(2<s){r=t._closed?"polygon":"polyline";for(var l=[],u=0;u<s;u++)l.push(_.point(o[u]._point));a.points=l.join(" ")}else{r="line";var c=o[0]._point,h=o[1]._point;a.set({x1:c.x,y1:c.y,x2:h.x,y2:h.y})}else r="path",a.d=t.getPathData(null,e.precision);return it.create(r,a,_)},Shape:f,CompoundPath:function(t,e){var n=d(t._matrix),i=t.getPathData(null,e.precision);return i&&(n.d=i),it.create("path",n,_)},SymbolItem:function(t,e){var n=d(t._matrix,!0),i=t._definition,r=g(i,"symbol"),o=i._item,s=o.getBounds();return r||((r=it.create("symbol",{viewBox:_.rectangle(s)})).appendChild(v(o,e)),m(i,r,"symbol")),n.href="#"+r.id,n.x+=s.x,n.y+=s.y,n.width=s.width,n.height=s.height,n.overflow="visible",it.create("use",n,_)},PointText:function(t){var e=it.create("text",d(t._matrix,!0),_);return e.textContent=t._content,e}};L.inject({exportSVG:function(t){return p(v(this,t=y(t),!0),t)}}),x.inject({exportSVG:function(t){t=y(t);var e=this._children,n=this.getView(),i=B.pick(t.bounds,"view"),r=t.matrix||"view"===i&&n._matrix,o=r&&X.read([r]),s="view"===i?new A([0,0],n.getViewSize()):"content"===i?L._getBounds(e,o,{stroke:!0}).rect:A.read([i],0,{readNull:!0}),a={version:"1.1",xmlns:it.svg,"xmlns:xlink":it.xlink};s&&(a.width=s.width,a.height=s.height,(s.x||s.y)&&(a.viewBox=_.rectangle(s)));var l=it.create("svg",a,_),u=l;o&&!o.isIdentity()&&(u=l.appendChild(it.create("g",d(o),_)));for(var c=0,h=e.length;c<h;c++)u.appendChild(v(e[c],t,!0));return p(l,t)}})},new function(){function p(t,e,n,i,r){var o=it.get(t,e),s=null==o?i?null:n?"":0:n?o:parseFloat(o);return/%\s*$/.test(o)?s/100*(r?1:_[/x|^width/.test(e)?"width":"height"]):s}function g(t,e,n,i,r){return e=p(t,e||"x",!1,i,r),n=p(t,n||"y",!1,i,r),!i||null!=e&&null!=n?new V(e,n):null}function m(t,e,n,i,r){return e=p(t,e||"width",!1,i,r),n=p(t,n||"height",!1,i,r),!i||null!=e&&null!=n?new U(e,n):null}function h(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?o(t)||t:"lookup"===e?n[t]:t}function r(t,e,n,i){var r=t.childNodes,o="clippath"===e,s="defs"===e,a=new S,l=a._project,u=l._currentStyle,c=[];if(o||s||(a=v(a,t,i),l._currentStyle=a._style.clone()),i)for(var h=t.querySelectorAll("defs"),d=0,f=h.length;d<f;d++)y(h[d],n,!1);for(d=0,f=r.length;d<f;d++){var p,g=r[d];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=y(g,n,!1))||p instanceof k||c.push(p)}return a.addChildren(c),o&&(a=v(a.reduce(),t,i)),l._currentStyle=u,(o||s)&&(a.remove(),a=null),a}function t(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,o=n.length;r<o;r+=2)i.push(new V(parseFloat(n[r]),parseFloat(n[r+1])));var s=new R(i);return"polygon"===e&&s.closePath(),s}function e(t,e){var n,i=(p(t,"href",!0)||"").substring(1),r="radialgradient"===e;if(i)(n=w[i].getGradient())._radial^r&&((n=n.clone())._radial=r);else{for(var o=t.childNodes,s=[],a=0,l=o.length;a<l;a++){var u=o[a];1===u.nodeType&&s.push(v(new D,u))}n=new O(s,r)}var c,h,d,f="userSpaceOnUse"!==p(t,"gradientUnits",!0);return r?(h=(c=g(t,"cx","cy",!1,f)).add(p(t,"r",!1,!1,f),0),d=g(t,"fx","fy",!0,f)):(c=g(t,"x1","y1",!1,f),h=g(t,"x2","y2",!1,f)),v(new N(n,c,h,d),t)._scaleToBounds=f,null}function n(t,e,n,i){if(t.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),o=new X,s=0,a=r.length;s<a;s++){var l=r[s];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),d=0,f=h.length;d<f;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":o.append(new X(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1],h[2]);break;case"translate":o.translate(h[0],h[1]);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}t.transform(o)}}function i(t,e,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=t[i]&&t[i]();r&&r.setAlpha(parseFloat(e))}function d(t,e,n){var i=t.attributes[e],r=i&&i.value;if(!r){var o=B.camelize(e);(r=t.style[o])||n.node[o]===n.parent[o]||(r=n.node[o])}return r?"none"===r?null:r:j}function v(i,r,t){if(r.style){var e=r.parentNode,o={node:H.getStyles(r)||{},parent:!t&&!/^defs$/i.test(e.tagName)&&H.getStyles(e)||{}};B.each(a,function(t,e){var n=d(r,e,o);i=n!==j&&t(i,n,e,r,o)||i})}return i}function o(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),n=e&&e[1],i=n&&w[P?n.replace(P.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&((i=i.clone())._scaleToBounds=!0),i}function y(t,e,n){var i,r,o,s=t.nodeName.toLowerCase(),a="#document"!==s,l=I.body;n&&a&&(_=paper.getView().getSize(),_=m(t,null,null,!0)||_,i=it.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),r=t.parentNode,o=t.nextSibling,i.appendChild(t),l.appendChild(i));var u=paper.settings,c=u.applyMatrix,h=u.insertItems;u.applyMatrix=!1,u.insertItems=!1;var d=b[s],f=d&&d(t,s,e,n)||null;if(u.insertItems=h,u.applyMatrix=c,f){!a||f instanceof S||(f=v(f,t,n));var p=e.onImport,g=a&&t.getAttribute("data-paper-data");p&&(f=p(t,f,e)||f),e.expandShapes&&f instanceof T&&(f.remove(),f=f.toPath()),g&&(f._data=JSON.parse(g))}return i&&(l.removeChild(i),r&&(o?r.insertBefore(t,o):r.appendChild(t))),n&&(w={},f&&B.pick(e.applyMatrix,c)&&f.matrix.apply(!0,!0)),f}function s(i,r,o){function t(t){try{var e="object"==typeof t?t:(new C.DOMParser).parseFromString(t,"image/svg+xml");if(!e.nodeName)throw e=null,new Error("Unsupported SVG source: "+i);paper=a,l=y(e,r,!0),r&&!1===r.insert||o._insertItem(j,l);var n=r.onLoad;n&&n(l,t)}catch(C){s(C)}}function s(t,e){var n=r.onError;if(!n)throw new Error(t);n(t,e)}if(!i)return null;r="function"==typeof r?{onLoad:r}:r||{};var a=paper,l=null;if("string"!=typeof i||/^.*</.test(i)){if("undefined"!=typeof File&&i instanceof File){var e=new FileReader;return e.onload=function(){t(e.result)},e.onerror=function(){s(e.error)},e.readAsText(i)}t(i)}else{var n=I.getElementById(i);n?t(n):tt.request({url:i,async:!0,onLoad:t,onError:s})}return l}var _,w={},b={"#document":function(t,e,n,i){for(var r=t.childNodes,o=0,s=r.length;o<s;o++){var a=r[o];if(1===a.nodeType)return y(a,n,i)}},g:r,svg:r,clippath:r,polygon:t,polyline:t,path:function(t){return z.create(t.getAttribute("d"))},lineargradient:e,radialgradient:e,image:function(n){var t=new E(p(n,"href",!0));return t.on("load",function(){var t=m(n);this.setSize(t);var e=this._matrix._transformPoint(g(n).add(t.divide(2)));this.translate(e)}),t},symbol:function(t,e,n,i){return new k(r(t,e,n,i),!0)},defs:r,use:function(t){var e=(p(t,"href",!0)||"").substring(1),n=w[e],i=g(t);return n?n instanceof k?n.place(i):n.clone().translate(i):null},circle:function(t){return new T.Circle(g(t,"cx","cy"),p(t,"r"))},ellipse:function(t){return new T.Ellipse({center:g(t,"cx","cy"),radius:m(t,"rx","ry")})},rect:function(t){return new T.Rectangle(new A(g(t),m(t)),m(t,"rx","ry"))},line:function(t){return new R.Line(g(t,"x1","y1"),g(t,"x2","y2"))},text:function(t){var e=new f(g(t).add(g(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e}},a=B.set(B.each(rt,function(r){this[r.attribute]=function(t,e){if(t[r.set]&&(t[r.set](h(e,r.type,r.fromSVG)),"color"===r.type)){var n=t[r.get]();if(n&&n._scaleToBounds){var i=t.getBounds();n.transform((new X).translate(i.getPoint()).scale(i.getSize()))}}}},{}),{id:function(t,e){(w[e]=t).setName&&t.setName(e)},"clip-path":function(t,e){var n=o(e);if(n){if((n=n.clone()).setClipMask(!0),!(t instanceof S))return new S(n,t);t.insertChild(0,n)}},gradientTransform:n,transform:n,"fill-opacity":i,"stroke-opacity":i,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var n=e.match(/(.*)%$/);t.setOffset(n?n[1]/100:parseFloat(e))}},viewBox:function(t,e,n,i,r){var o,s=new A(h(e,"array")),a=m(i,null,null,!0);if(t instanceof S){var l=a?a.divide(s.getSize()):1,u=(new X).scale(l).translate(s.getPoint().negate());o=t}else t instanceof k&&(a&&s.setSize(a),o=t._item);if(o){if("visible"!==d(i,"overflow",r)){var c=new T.Rectangle(s);c.setClipMask(!0),o.addChild(c)}u&&o.transform(u)}}});L.inject({importSVG:function(t,e){return s(t,e,this)}}),x.inject({importSVG:function(t,e){return this.activate(),s(t,e,this)}})},B.exports.PaperScript=function(){function f(t,e){return(a.acorn||l).parse(t,e)}function m(t,e,n){var i=b[e];if(t&&t[i]){var r=t[i](n);return"!="===e?!r:r}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function v(t,e){var n=x[t];if(e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function y(m,t){function v(t){for(var e=0,n=s.length;e<n;e++){var i=s[e];if(i[0]>=t)break;t+=i[1]}return t}function y(t){return m.substring(v(t.range[0]),v(t.range[1]))}function _(t,e){for(var n=v(t.range[0]),i=v(t.range[1]),r=0,o=s.length-1;0<=o;o--)if(n>s[o][0]){r=o+1;break}s.splice(r,0,[n,e.length-i+n]),m=m.substring(0,n)+e+m.substring(i)}if(!m)return"";var e,s=[],n=(t=t||{}).url||"",i=paper.agent,r=i.versionNumber,o=!1,a=t.sourceMaps,l=t.source||m,u=/\r\n|\n|\r/gm,c=t.offset||0;if(a&&(i.chrome&&30<=r||i.webkit&&537.76<=r||i.firefox&&23<=r||i.node)){if(i.node)c-=2;else if(P&&n&&!P.location.href.indexOf(n)){var h=I.getElementsByTagName("html")[0].innerHTML;c=h.substr(0,h.indexOf(m)+1).match(u).length+1}var d=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var n=31&t;(t>>=5)&&(n|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return e}((o=0<c&&!(i.chrome&&36<=r||i.safari&&600<=r||i.firefox&&40<=r||i.node))?0:c)+"A"];d.length=(m.match(u)||[]).length+1+(o?c:0),e={version:3,file:n,names:[],mappings:d.join(";AACA"),sourceRoot:"",sources:[n],sourcesContent:[l]}}return function w(t,e){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var i=t[n];if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)w(i[r],t);else i&&"object"==typeof i&&w(i,t)}switch(t.type){case"UnaryExpression":if(t.operator in x&&"Literal"!==t.argument.type){var s=y(t.argument);_(t,'$__("'+t.operator+'", '+s+")")}break;case"BinaryExpression":if(t.operator in b&&"Literal"!==t.left.type){var a=y(t.left),l=y(t.right),u=(p=t.left,g=t.right,m.substring(v(p.range[1]),v(g.range[0]))),c=t.operator;_(t,"__$__("+a+","+u.replace(new RegExp("\\"+c),'"'+c+'"')+", "+l+")")}break;case"UpdateExpression":case"AssignmentExpression":var h=e&&e.type;if(!("ForStatement"===h||"BinaryExpression"===h&&/^[=!<>]/.test(e.operator)||"MemberExpression"===h&&e.computed))if("UpdateExpression"===t.type){var d=(s=y(t.argument))+" = "+(f="__$__("+s+', "'+t.operator[0]+'", 1)');t.prefix||"AssignmentExpression"!==h&&"VariableDeclarator"!==h||(y(e.left||e.id)===s&&(d=f),d=s+"; "+d),_(t,d)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){a=y(t.left),l=y(t.right);var f=a+" = __$__("+a+', "'+t.operator[0]+'", '+l+")";_(t,/^\(.*\)$/.test(y(t))?"("+f+")":f)}}}var p,g}(f(m,{ranges:!0,preserveParens:!0})),e&&(o&&(m=new Array(c+1).join("\n")+m),/^(inline|both)$/.test(a)&&(m+="\n//# sourceMappingURL=data:application/json;base64,"+C.btoa(unescape(encodeURIComponent(JSON.stringify(e))))),m+="\n//# sourceURL="+(n||"paperscript")),{url:n,source:l,code:m,map:e}}function s(i,t,e){function n(t,e){for(var n in t)!e&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(u.push(n),c.push(t[n]))}var r,o=(paper=t).getView(),s=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)&&!/\bnew\s+Tool\b/.test(i)?new _:null,a=s?s._events:[],l=["onFrame","onResize"].concat(a),u=[],c=[],h="object"==typeof i?i:y(i,e);i=h.code,n({__$__:m,$__:v,paper:t,view:o,tool:s},!0),n(t),(l=B.each(l,function(t){new RegExp("\\s+"+t+"\\b").test(i)&&(u.push(t),this.push(t+": "+t))},[]).join(", "))&&(i+="\nreturn { "+l+" };");var d=paper.agent;if(I&&(d.chrome||d.firefox&&d.versionNumber<40)){var f=I.createElement("script"),p=I.head||I.getElementsByTagName("head")[0];d.firefox&&(i="\n"+i),f.appendChild(I.createTextNode("paper._execute = function("+u+") {"+i+"\n}")),p.appendChild(f),r=paper._execute,delete paper._execute,p.removeChild(f)}else r=Function(u,i);var g=r.apply(t,c)||{};return B.each(a,function(t){var e=g[t];e&&(s[t]=e)}),o&&(g.onResize&&o.setOnResize(g.onResize),o.emit("resize",{size:o.size,delta:new V}),g.onFrame&&o.setOnFrame(g.onFrame),o.requestUpdate()),h}function e(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==c.getAttribute(t,"ignore")){var e=c.getAttribute(t,"canvas"),n=I.getElementById(e),i=t.src||t.getAttribute("data-src"),r=c.hasAttribute(t,"async");if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var o=c.get(n.getAttribute("data-paper-scope"))||(new c).setup(n);return n.setAttribute("data-paper-scope",o._id),i?tt.request({url:i,async:r,mimeType:"text/plain",onLoad:function(t){s(t,o,i)}}):s(t.innerHTML,o,t.baseURI),t.setAttribute("data-paper-ignore","true"),o}}function n(){B.each(I&&I.getElementsByTagName("script"),e)}var t,i,r,o,a=this,l=a.acorn;if(!l&&"undefined"!=typeof require)try{l=require("acorn")}catch(C){}l||(l=t=i={},r=this,o=function(t){"use strict";function r(t){for(var e in Y=t||{},pt)Object.prototype.hasOwnProperty.call(Y,e)||(Y[e]=pt[e]);J=Y.sourceFile||null}function f(t,e){var n=gt(G,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=K,i}function e(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t=t.split(" ");var n="",i=[];t:for(var r=0;r<t.length;++r){for(var o=0;o<i.length;++o)if(i[o][0].length==t[r].length){i[o].push(t[r]);continue t}i.push([t[r]])}if(3<i.length){for(i.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){",r=0;r<i.length;++r){var s=i[r];n+="case "+s[0].length+":",e(s)}n+="}"}else e(t);return new Function("str",n)}function o(){this.line=st,this.column=K-at}function s(){st=1,K=at=0,ot=!0,g()}function d(t,e){tt=K,Y.locations&&(nt=new o),it=t,g(),rt=e,ot=t.beforeExpr}function n(){var t,e=Y.onComment&&Y.locations&&new o,n=K,i=G.indexOf("*/",K+=2);if(-1===i&&f(K-2,"Unterminated comment"),K=i+2,Y.locations)for(Me.lastIndex=n;(t=Me.exec(G))&&t.index<K;)++st,at=t.index+t[0].length;Y.onComment&&Y.onComment(!0,G.slice(n+2,i),n,K,e,Y.locations&&new o)}function p(){for(var t=K,e=Y.onComment&&Y.locations&&new o,n=G.charCodeAt(K+=2);K<Z&&10!==n&&13!==n&&8232!==n&&8233!==n;)++K,n=G.charCodeAt(K);Y.onComment&&Y.onComment(!1,G.slice(t+2,K),t,K,e,Y.locations&&new o)}function g(){for(;K<Z;){var t=G.charCodeAt(K);if(32===t)++K;else if(13===t)++K,10===(e=G.charCodeAt(K))&&++K,Y.locations&&(++st,at=K);else if(10===t||8232===t||8233===t)++K,Y.locations&&(++st,at=K);else if(8<t&&t<14)++K;else if(47===t){var e;if(42===(e=G.charCodeAt(K+1)))n();else{if(47!==e)break;p()}}else if(160===t)++K;else{if(!(5760<=t&&ke.test(String.fromCharCode(t))))break;++K}}}function a(t){switch(t){case 46:return 48<=(h=G.charCodeAt(K+1))&&h<=57?w(!0):(++K,d(ie));case 40:return++K,d(Kt);case 41:return++K,d(Qt);case 59:return++K,d(ee);case 44:return++K,d(te);case 91:return++K,d(Yt);case 93:return++K,d(Gt);case 123:return++K,d(Zt);case 125:return++K,d(Jt);case 58:return++K,d(ne);case 63:return++K,d(re);case 48:var e=G.charCodeAt(K+1);if(120===e||88===e)return function(){K+=2;var t=_(16);return null==t&&f(Q+2,"Expected hexadecimal number"),ze(G.charCodeAt(K))&&f(K,"Identifier directly after number"),d(vt,t)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return w(!1);case 34:case 39:return function(t){K++;for(var e="";;){Z<=K&&f(Q,"Unterminated string constant");var n=G.charCodeAt(K);if(n===t)return++K,d(_t,e);if(92===n){n=G.charCodeAt(++K);var i=/^[0-7]+/.exec(G.slice(K,K+3));for(i&&(i=i[0]);i&&255<parseInt(i,8);)i=i.slice(0,-1);if("0"===i&&(i=null),++K,i)ft&&f(K-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(i,8)),K+=i.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(b(2));break;case 117:e+=String.fromCharCode(b(4));break;case 85:e+=String.fromCharCode(b(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===G.charCodeAt(K)&&++K;case 10:Y.locations&&(at=K,++st);break;default:e+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||f(Q,"Unterminated string constant"),e+=String.fromCharCode(n),++K}}(t);case 47:return c=G.charCodeAt(K+1),ot?(++K,y()):61===c?v(ae,2):v(oe,1);case 37:case 42:return 61===G.charCodeAt(K+1)?v(ae,2):v(_e,1);case 124:case 38:return l=t,(u=G.charCodeAt(K+1))===l?v(124===l?ce:he,2):61===u?v(ae,2):v(124===l?de:pe,1);case 94:return 61===G.charCodeAt(K+1)?v(ae,2):v(fe,1);case 43:case 45:return s=t,(a=G.charCodeAt(K+1))===s?45==a&&62==G.charCodeAt(K+2)&&Le.test(G.slice(ut,K))?(K+=3,p(),g(),m()):v(le,2):61===a?v(ae,2):v(ye,1);case 60:case 62:return i=t,r=G.charCodeAt(K+1),o=1,r===i?(o=62===i&&62===G.charCodeAt(K+2)?3:2,61===G.charCodeAt(K+o)?v(ae,o+1):v(ve,o)):33==r&&60==i&&45==G.charCodeAt(K+2)&&45==G.charCodeAt(K+3)?(K+=4,p(),g(),m()):(61===r&&(o=61===G.charCodeAt(K+2)?3:2),v(me,o));case 61:case 33:return n=t,61===G.charCodeAt(K+1)?v(ge,61===G.charCodeAt(K+2)?3:2):v(61===n?se:ue,1);case 126:return v(ue,1)}var n,i,r,o,s,a,l,u,c,h;return!1}function m(t){if(t?K=Q+1:Q=K,Y.locations&&(et=new o),t)return y();if(Z<=K)return d(bt);var e=G.charCodeAt(K);if(ze(e)||92===e)return u();var n=a(e);if(!1===n){var i=String.fromCharCode(e);if("\\"===i||Pe.test(i))return u();f(K,"Unexpected character '"+i+"'")}return n}function v(t,e){var n=G.slice(K,K+e);K+=e,d(t,n)}function y(){for(var t,e,n=K;;){Z<=K&&f(n,"Unterminated regular expression");var i=G.charAt(K);if(Le.test(i)&&f(n,"Unterminated regular expression"),t)t=!1;else{if("["===i)e=!0;else if("]"===i&&e)e=!1;else if("/"===i&&!e)break;t="\\"===i}++K}var r=G.slice(n,K);++K;var o=l();o&&!/^[gmsiy]*$/.test(o)&&f(n,"Invalid regexp flag");try{var s=new RegExp(r,o)}catch(t){t instanceof SyntaxError&&f(n,t.message),f(t)}return d(yt,s)}function _(t,e){for(var n=K,i=0,r=0,o=null==e?1/0:e;r<o;++r){var s,a=G.charCodeAt(K);if((s=97<=a?a-97+10:65<=a?a-65+10:48<=a&&a<=57?a-48:1/0)>=t)break;++K,i=i*t+s}return K===n||null!=e&&K-n!==e?null:i}function w(t){var e=K,n=!1,i=48===G.charCodeAt(K);t||null!==_(10)||f(e,"Invalid number"),46===G.charCodeAt(K)&&(++K,_(10),n=!0);var r=G.charCodeAt(K);69!==r&&101!==r||(43!==(r=G.charCodeAt(++K))&&45!==r||++K,null===_(10)&&f(e,"Invalid number"),n=!0),ze(G.charCodeAt(K))&&f(K,"Identifier directly after number");var o,s=G.slice(e,K);return n?o=parseFloat(s):i&&1!==s.length?/[89]/.test(s)||ft?f(e,"Invalid number"):o=parseInt(s,8):o=parseInt(s,10),d(vt,o)}function b(t){var e=_(16,t);return null===e&&f(Q,"Bad character escape sequence"),e}function l(){for(var t,e=!(be=!1),n=K;;){var i=G.charCodeAt(K);if(Ne(i))be&&(t+=G.charAt(K)),++K;else{if(92!==i)break;be||(t=G.slice(n,K)),be=!0,117!=G.charCodeAt(++K)&&f(K,"Expecting Unicode escape sequence \\uXXXX"),++K;var r=b(4),o=String.fromCharCode(r);o||f(K-1,"Invalid Unicode escape"),(e?ze(r):Ne(r))||f(K-4,"Invalid Unicode escape"),t+=o}e=!1}return be?t:G.slice(n,K)}function u(){var t=l(),e=wt;return!be&&Ee(t)&&(e=$t[t]),d(e,t)}function x(){lt=Q,ut=tt,ct=nt,m()}function c(t){if(ft=t,K=Q,Y.locations)for(;K<at;)at=G.lastIndexOf("\n",at-2)+1,--st;g(),m()}function i(){this.type=null,this.start=Q,this.end=null}function h(){this.start=et,(this.end=null)!==J&&(this.source=J)}function C(){var t=new i;return Y.locations&&(t.loc=new h),Y.directSourceFile&&(t.sourceFile=Y.directSourceFile),Y.ranges&&(t.range=[Q,0]),t}function S(t){var e=new i;return e.start=t.start,Y.locations&&(e.loc=new h,e.loc.start=t.loc.start),Y.ranges&&(e.range=[t.range[0],0]),e}function T(t,e){return t.type=e,t.end=ut,Y.locations&&(t.loc.end=ct),Y.ranges&&(t.range[1]=ut),t}function E(t){return 5<=Y.ecmaVersion&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function k(t){if(it===t)return x(),!0}function A(){return!Y.strictSemicolons&&(it===bt||it===Jt||Le.test(G.slice(ut,Q)))}function P(){k(ee)||A()||L()}function I(t){it===t?x():L()}function L(){f(Q,"Unexpected token")}function M(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&f(t.start,"Assigning to rvalue"),ft&&"Identifier"===t.type&&Te(t.name)&&f(t.start,"Assigning to "+t.name+" in strict mode")}function z(){(it===oe||it===ae&&"/="==rt)&&m(!0);var t=it,e=C();switch(t){case xt:case Tt:x();var n=t===xt;k(ee)||A()?e.label=null:it!==wt?L():(e.label=$(),P());for(var i=0;i<dt.length;++i){var r=dt[i];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return i===dt.length&&f(e.start,"Unsyntactic "+t.keyword),T(e,n?"BreakStatement":"ContinueStatement");case Et:return x(),P(),T(e,"DebuggerStatement");case At:return x(),dt.push(Oe),e.body=z(),dt.pop(),I(Ft),e.test=N(),P(),T(e,"DoWhileStatement");case Lt:if(x(),dt.push(Oe),I(Kt),it===ee)return D(e,null);if(it!==Rt)return o=F(!1,!0),k(Xt)?(M(o),q(e,o)):D(e,o);var o=C();return x(),R(o,!0),T(o,"VariableDeclaration"),1===o.declarations.length&&k(Xt)?q(e,o):D(e,o);case Mt:return x(),U(e,!0);case zt:return x(),e.test=N(),e.consequent=z(),e.alternate=k(Pt)?z():null,T(e,"IfStatement");case Nt:return ht||Y.allowReturnOutsideFunction||f(Q,"'return' outside of function"),x(),k(ee)||A()?e.argument=null:(e.argument=F(),P()),T(e,"ReturnStatement");case Ot:x(),e.discriminant=N(),e.cases=[],I(Zt),dt.push(De);for(var s,a;it!=Jt;)if(it===Ct||it===kt){var l=it===Ct;s&&T(s,"SwitchCase"),e.cases.push(s=C()),s.consequent=[],x(),l?s.test=F():(a&&f(lt,"Multiple default clauses"),a=!0,s.test=null),I(ne)}else s||L(),s.consequent.push(z());return s&&T(s,"SwitchCase"),x(),dt.pop(),T(e,"SwitchStatement");case Dt:return x(),Le.test(G.slice(ut,Q))&&f(ut,"Illegal newline after throw"),e.argument=F(),P(),T(e,"ThrowStatement");case qt:if(x(),e.block=O(),e.handler=null,it===St){var u=C();x(),I(Kt),u.param=$(),ft&&Te(u.param.name)&&f(u.param.start,"Binding "+u.param.name+" in strict mode"),I(Qt),u.guard=null,u.body=O(),e.handler=T(u,"CatchClause")}return e.guardedHandlers=mt,e.finalizer=k(It)?O():null,e.handler||e.finalizer||f(e.start,"Missing catch or finally clause"),T(e,"TryStatement");case Rt:return x(),R(e),P(),T(e,"VariableDeclaration");case Ft:return x(),e.test=N(),dt.push(Oe),e.body=z(),dt.pop(),T(e,"WhileStatement");case Ht:return ft&&f(Q,"'with' in strict mode"),x(),e.object=N(),e.body=z(),T(e,"WithStatement");case Zt:return O();case ee:return x(),T(e,"EmptyStatement");default:var c=rt,h=F();if(t===wt&&"Identifier"===h.type&&k(ne)){for(i=0;i<dt.length;++i)dt[i].name===c&&f(h.start,"Label '"+c+"' is already declared");var d=it.isLoop?"loop":it===Ot?"switch":null;return dt.push({name:c,kind:d}),e.body=z(),dt.pop(),e.label=h,T(e,"LabeledStatement")}return e.expression=h,P(),T(e,"ExpressionStatement")}}function N(){I(Kt);var t=F();return I(Qt),t}function O(t){var e,n=C(),i=!0,r=!1;for(n.body=[],I(Zt);!k(Jt);){var o=z();n.body.push(o),i&&t&&E(o)&&(e=r,c(r=!0)),i=!1}return r&&!e&&c(!1),T(n,"BlockStatement")}function D(t,e){return t.init=e,I(ee),t.test=it===ee?null:F(),I(ee),t.update=it===Qt?null:F(),I(Qt),t.body=z(),dt.pop(),T(t,"ForStatement")}function q(t,e){return t.left=e,t.right=F(),I(Qt),t.body=z(),dt.pop(),T(t,"ForInStatement")}function R(t,e){for(t.declarations=[],t.kind="var";;){var n=C();if(n.id=$(),ft&&Te(n.id.name)&&f(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=k(se)?F(!0,e):null,t.declarations.push(T(n,"VariableDeclarator")),!k(te))break}return t}function F(t,e){var n=H(e);if(t||it!==te)return n;var i=S(n);for(i.expressions=[n];k(te);)i.expressions.push(H(e));return T(i,"SequenceExpression")}function H(t){var e=function(t){var a,e=(a=t,function a(t,e,n){var i=it.binop;if(null==i||n&&it===Xt||!(e<i))return t;var r=S(t);r.left=t,r.operator=rt;var o=it;x(),r.right=a(j(),i,n);var s=T(r,o===ce||o===he?"LogicalExpression":"BinaryExpression");return a(s,e,n)}(j(),-1,a));if(k(re)){var n=S(e);return n.test=e,n.consequent=F(!0),I(ne),n.alternate=F(!0,t),T(n,"ConditionalExpression")}return e}(t);if(it.isAssign){var n=S(e);return n.operator=rt,n.left=e,x(),n.right=H(t),M(e),T(n,"AssignmentExpression")}return e}function j(){if(it.prefix){var t=C(),e=it.isUpdate;return t.operator=rt,t.prefix=!0,ot=!0,x(),t.argument=j(),e?M(t.argument):ft&&"delete"===t.operator&&"Identifier"===t.argument.type&&f(t.start,"Deleting local variable in strict mode"),T(t,e?"UpdateExpression":"UnaryExpression")}for(var n=B(W());it.postfix&&!A();)(t=S(n)).operator=rt,t.prefix=!1,M(t.argument=n),x(),n=T(t,"UpdateExpression");return n}function B(t,e){var n;return k(ie)?((n=S(t)).object=t,n.property=$(!0),n.computed=!1,B(T(n,"MemberExpression"),e)):k(Yt)?((n=S(t)).object=t,n.property=F(),n.computed=!0,I(Gt),B(T(n,"MemberExpression"),e)):!e&&k(Kt)?((n=S(t)).callee=t,n.arguments=X(Qt,!1),B(T(n,"CallExpression"),e)):t}function W(){switch(it){case Bt:var t=C();return x(),T(t,"ThisExpression");case wt:return $();case vt:case _t:case yt:return(t=C()).value=rt,t.raw=G.slice(Q,tt),x(),T(t,"Literal");case Wt:case Vt:case Ut:return(t=C()).value=it.atomValue,t.raw=it.keyword,x(),T(t,"Literal");case Kt:var e=et,n=Q;x();var i=F();return i.start=n,i.end=tt,Y.locations&&(i.loc.start=e,i.loc.end=nt),Y.ranges&&(i.range=[n,tt]),I(Qt),i;case Yt:return t=C(),x(),t.elements=X(Gt,!0,!0),T(t,"ArrayExpression");case Zt:return function(){var t=C(),e=!0,n=!1;for(t.properties=[],x();!k(Jt);){if(e)e=!1;else if(I(te),Y.allowTrailingCommas&&k(Jt))break;var i,r={key:V()},o=!1;if(k(ne)?(r.value=F(!0),i=r.kind="init"):5<=Y.ecmaVersion&&"Identifier"===r.key.type&&("get"===r.key.name||"set"===r.key.name)?(o=n=!0,i=r.kind=r.key.name,r.key=V(),it!==Kt&&L(),r.value=U(C(),!1)):L(),
"Identifier"===r.key.type&&(ft||n))for(var s=0;s<t.properties.length;++s){var a=t.properties[s];if(a.key.name===r.key.name){var l=i==a.kind||o&&"init"===a.kind||"init"===i&&("get"===a.kind||"set"===a.kind);l&&!ft&&"init"===i&&"init"===a.kind&&(l=!1),l&&f(r.key.start,"Redefinition of property")}}t.properties.push(r)}return T(t,"ObjectExpression")}();case Mt:return t=C(),x(),U(t,!1);case jt:return r=C(),x(),r.callee=B(W(),!0),k(Kt)?r.arguments=X(Qt,!1):r.arguments=mt,T(r,"NewExpression");default:L()}var r}function V(){return it===vt||it===_t?W():$(!0)}function U(t,e){it===wt?t.id=$():e?L():t.id=null,t.params=[];var n=!0;for(I(Kt);!k(Qt);)n?n=!1:I(te),t.params.push($());var i=ht,r=dt;if(ht=!0,dt=[],t.body=O(!0),ht=i,dt=r,ft||t.body.body.length&&E(t.body.body[0]))for(var o=t.id?-1:0;o<t.params.length;++o){var s=o<0?t.id:t.params[o];if((Se(s.name)||Te(s.name))&&f(s.start,"Defining '"+s.name+"' in strict mode"),0<=o)for(var a=0;a<o;++a)s.name===t.params[a].name&&f(s.start,"Argument name clash in strict mode")}return T(t,e?"FunctionDeclaration":"FunctionExpression")}function X(t,e,n){for(var i=[],r=!0;!k(t);){if(r)r=!1;else if(I(te),e&&Y.allowTrailingCommas&&k(t))break;n&&it===te?i.push(null):i.push(F(!0))}return i}function $(t){var e=C();return t&&"everywhere"==Y.forbidReserved&&(t=!1),it===wt?(!t&&(Y.forbidReserved&&(3===Y.ecmaVersion?xe:Ce)(rt)||ft&&Se(rt))&&-1==G.slice(Q,tt).indexOf("\\")&&f(Q,"The keyword '"+rt+"' is reserved"),e.name=rt):t&&it.keyword?e.name=it.keyword:L(),ot=!1,x(),T(e,"Identifier")}var Y,G,Z,J;t.version="0.5.0",t.parse=function(t,e){return G=String(t),Z=G.length,r(e),s(),function(t){lt=ut=K,Y.locations&&(ct=new o),ht=ft=null,dt=[],m();var e=t||C(),n=!0;for(t||(e.body=[]);it!==bt;){var i=z();e.body.push(i),n&&E(i)&&c(!0),n=!1}return T(e,"Program")}(Y.program)};var K,Q,tt,et,nt,it,rt,ot,st,at,lt,ut,ct,ht,dt,ft,pt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},gt=t.getLineInfo=function(t,e){for(var n=1,i=0;;){Me.lastIndex=i;var r=Me.exec(t);if(!(r&&r.index<e))break;++n,i=r.index+r[0].length}return{line:n,column:e-i}};t.tokenize=function(t,e){function n(t){return ut=tt,m(t),i.start=Q,i.end=tt,i.startLoc=et,i.endLoc=nt,i.type=it,i.value=rt,i}G=String(t),Z=G.length,r(e),s();var i={};return n.jumpTo=function(t,e){var n;if(K=t,Y.locations)for(st=1,at=Me.lastIndex=0;(n=Me.exec(G))&&n.index<t;)++st,at=n.index+n[0].length;ot=e,g()},n};var mt=[],vt={type:"num"},yt={type:"regexp"},_t={type:"string"},wt={type:"name"},bt={type:"eof"},xt={keyword:"break"},Ct={keyword:"case",beforeExpr:!0},St={keyword:"catch"},Tt={keyword:"continue"},Et={keyword:"debugger"},kt={keyword:"default"},At={keyword:"do",isLoop:!0},Pt={keyword:"else",beforeExpr:!0},It={keyword:"finally"},Lt={keyword:"for",isLoop:!0},Mt={keyword:"function"},zt={keyword:"if"},Nt={keyword:"return",beforeExpr:!0},Ot={keyword:"switch"},Dt={keyword:"throw",beforeExpr:!0},qt={keyword:"try"},Rt={keyword:"var"},Ft={keyword:"while",isLoop:!0},Ht={keyword:"with"},jt={keyword:"new",beforeExpr:!0},Bt={keyword:"this"},Wt={keyword:"null",atomValue:null},Vt={keyword:"true",atomValue:!0},Ut={keyword:"false",atomValue:!1},Xt={keyword:"in",binop:7,beforeExpr:!0},$t={"break":xt,"case":Ct,"catch":St,"continue":Tt,"debugger":Et,"default":kt,"do":At,"else":Pt,"finally":It,"for":Lt,"function":Mt,"if":zt,"return":Nt,"switch":Ot,"throw":Dt,"try":qt,"var":Rt,"while":Ft,"with":Ht,"null":Wt,"true":Vt,"false":Ut,"new":jt,"in":Xt,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":Bt,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},Yt={type:"[",beforeExpr:!0},Gt={type:"]"},Zt={type:"{",beforeExpr:!0},Jt={type:"}"},Kt={type:"(",beforeExpr:!0},Qt={type:")"},te={type:",",beforeExpr:!0},ee={type:";",beforeExpr:!0},ne={type:":",beforeExpr:!0},ie={type:"."},re={type:"?",beforeExpr:!0},oe={binop:10,beforeExpr:!0},se={isAssign:!0,beforeExpr:!0},ae={isAssign:!0,beforeExpr:!0},le={postfix:!0,prefix:!0,isUpdate:!0},ue={prefix:!0,beforeExpr:!0},ce={binop:1,beforeExpr:!0},he={binop:2,beforeExpr:!0},de={binop:3,beforeExpr:!0},fe={binop:4,beforeExpr:!0},pe={binop:5,beforeExpr:!0},ge={binop:6,beforeExpr:!0},me={binop:7,beforeExpr:!0},ve={binop:8,beforeExpr:!0},ye={binop:9,prefix:!0,beforeExpr:!0},_e={binop:10,beforeExpr:!0};for(var we in t.tokTypes={bracketL:Yt,bracketR:Gt,braceL:Zt,braceR:Jt,parenL:Kt,parenR:Qt,comma:te,semi:ee,colon:ne,dot:ie,question:re,slash:oe,eq:se,name:wt,eof:bt,num:vt,regexp:yt,string:_t},$t)t.tokTypes["_"+we]=$t[we];var be,xe=e("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ce=e("class enum extends super const export import"),Se=e("implements interface let package private protected public static yield"),Te=e("eval arguments"),Ee=e("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),ke=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ae="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",Pe=new RegExp("["+Ae+"]"),Ie=new RegExp("["+Ae+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]"),Le=/[\n\r\u2028\u2029]/,Me=/\r\n|[\n\r\u2028\u2029]/g,ze=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||170<=t&&Pe.test(String.fromCharCode(t)))},Ne=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||170<=t&&Ie.test(String.fromCharCode(t))))},Oe={kind:"loop"},De={kind:"switch"}},"object"==typeof t&&"object"==typeof i?o(t):"function"==typeof define&&define.amd?define(["exports"],o):o(r.acorn||(r.acorn={})),l.version||(l=null));var b={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},x={"-":"__negate","+":"__self"},u=B.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});return V.inject(u),U.inject(u),N.inject(u),P&&("complete"===I.readyState?setTimeout(n):Z.add(P,{load:n})),{compile:y,execute:s,load:function(t){return t?e(t):n()},parse:f}}.call(this),(paper=new(c.inject(B.exports,{Base:B,Numerical:W,Key:m,DomEvent:Z,DomElement:H,document:I,window:P,Symbol:k,PlacedSymbol:s}))).agent.node&&require("./node/extend.js")(paper),"function"==typeof define&&define.amd?define("paper",paper):"object"==typeof module&&module&&(module.exports=paper),paper}.call(this,"object"==typeof self?self:null);!function t(s,a,l){function u(e,n){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!n&&i)return i(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return u(s[e][1][t]||t)},o,o.exports,t,s,a,l)}return a[e].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(){},{}],2:[function(t,e,n){"use strict";function l(t){var e=400,n=0,i=0,r="linear",o="onFrame";return void 0===t&&(t={}),void 0===t.duration?t.duration=e:(t.duration=Number(t.duration),t.duration<0&&(t.duration=e)),void 0===t.delay?t.delay=n:(t.delay=Number(t.delay),t.delay<1&&(t.delay=n)),void 0===t.repeat?t.repeat=i:"function"==typeof t.repeat||!0!==t.repeat&&(t.repeat=Number(t.repeat),t.repeat<0&&(t.repeat=i)),void 0===t.easing&&(t.easing=r),"function"==typeof t.easing?t.easingFunction=t.easing:void 0!==s.easing[t.easing]&&s.easing.hasOwnProperty(t.easing)?t.easingFunction=s.easing[t.easing]:(t.easing=r,t.easingFunction=s.easing[r]),"function"!=typeof t.complete&&(t.complete=void 0),"function"!=typeof t.step&&(t.step=void 0),-1===["onFrame","timeout"].indexOf(t.mode)&&(t.mode=o),t}n.__esModule=!0;var u=(t("./getPaper"),t("./tween")),c=t("./frameManager"),s=t("./easing"),i=function(){function a(e,n,i,r){var t=this;if(this.stopped=!1,this.startTime=(new Date).getTime(),this.settings=l(i),this.item=e,this.itemForAnimations=this.settings.parentItem||this.item,this.repeat=this.settings.repeat||0,"function"==typeof this.settings.repeat){var o=this.settings.repeat;this.repeatCallback=function(){return o(e,t)?new a(e,n,i,r):null}}else(!0===this.repeat||0<this.repeat)&&(this.repeatCallback=function(t){return i.repeat=t,new a(e,n,i,r)});for(var s in this.tweens=[],this.ticker=null,this._continue=r,void 0===this.itemForAnimations.data&&(this.itemForAnimations.data={}),void 0===this.itemForAnimations.data._animatePaperAnims&&(this.itemForAnimations.data._animatePaperAnims=[]),this._dataIndex=this.itemForAnimations.data._animatePaperAnims.length,this.itemForAnimations.data._animatePaperAnims[this._dataIndex]=this,n)n.hasOwnProperty(s)&&this.tweens.push(new u.Tween(s,n[s],this));"onFrame"===this.settings.mode&&(this.ticker=c.add(this.itemForAnimations,"_animate"+this.startTime+(Math.floor(999*Math.random())+1),function(){t.tick()}))}return a.prototype.tick=function(){var t=this;if(t.stopped)return!1;var e=(new Date).getTime();if(t.startTime+t.settings.delay>e)return!1;for(var n=Math.max(0,t.startTime+t.settings.delay+t.settings.duration-e),i=1-(n/t.settings.duration||0),r=0,o=t.tweens.length;r<o;r++)t.tweens[r].run(i);return void 0!==t.settings.step&&t.settings.step.call(t.item,{percent:i,remaining:n}),void 0!==t.settings.parentItem?t.settings.parentItem.project.view.draw():t.item.project.view.draw(),t.settings.mode,i<1&&o?n:(t.end(),!1)},a.prototype.stop=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var n=this,i=0,r=t?n.tweens.length:0;if(n.stopped)return n;for(n.stopped=!0;i<r;i++)n.tweens[i].run(1);t&&(n._continue&&(n._continue=null),n.end(e))},a.prototype.end=function(t){void 0===t&&(t=!1);var e=this;if("onFrame"===e.settings.mode&&c.remove(e.itemForAnimations,e.ticker),void 0!==e.settings.complete&&e.settings.complete.call(e.item,this),e.settings.mode,"function"==typeof e._continue&&e._continue.call(e.item),e.itemForAnimations.data._animatePaperAnims[e._dataIndex]=null,!t&&"function"==typeof e.repeatCallback){var n=e.repeat;return!0!==e.repeat&&(n=e.repeat-1),e.repeatCallback(n)}e=null},a}();n.Animation=i},{"./easing":3,"./frameManager":7,"./getPaper":8,"./tween":10}],3:[function(t,e,n){"use strict";n.__esModule=!0,n.easing={extendEasing:function(t){for(var e in t)t.hasOwnProperty(e)&&(n.easing[e]=t[e])},linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}};for(var i=["Quad","Cubic","Quart","Quint","Expo"],r=0,o=i.length;r<o;r++)n.easing[i[r]]=function(t){return Math.pow(t,r+2)};for(var s in i=null,n.easing)if(n.easing.hasOwnProperty(s)){var a=n.easing[s];n.easing["easeIn"+s]=a,n.easing["easeOut"+s]=function(t){return 1-a(1-t)},n.easing["easeInOut"+s]=function(t){return t<.5?a(2*t)/2:1-a(-2*t+2)/2}}},{}],4:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./animation"),u=function(t,e){var n=[];e instanceof Array?n=e:n.push(e);var i=0;return new r.Animation(t,n[i].properties,n[i].settings,function e(){void 0!==n[++i]&&new r.Animation(t,n[i].properties,n[i].settings,e)}),t};n.grow=function(t){return console.log("segmentGrow was buggy and has been removed, sorry :/"),t},n.shake=function(t,e){for(var n=2*Math.floor(e&&e.nb||2),i=Math.floor(e&&e.movement||40),r=[],o=!0;0<n;n--){var s=n%2?"+":"-",a=i,l=null;1===n&&e&&void 0!==e.complete&&(l=e.complete),(o||1===n)&&(a/=2,o=!1),r.push({properties:{position:{x:s+a}},settings:{duration:100,easing:"swing",complete:l}})}u(t,r)},n.fadeIn=function(t,e){var n=500,i=void 0,r="swing";void 0!==e&&(void 0!==e.duration&&(n=Number(e.duration)),"function"==typeof e.complete&&(i=e.complete),void 0!==e.easing&&(r=e.easing)),u(t,{properties:{opacity:1},settings:{duration:n,easing:r,complete:i}})},n.fadeOut=function(t,e){var n=500,i=void 0,r="swing";void 0!==e&&(void 0!==e.duration&&(n=Number(e.duration)),"function"==typeof e.complete&&(i=e.complete),void 0!==e.easing&&(r=e.easing)),u(t,{properties:{opacity:0},settings:{duration:n,easing:r,complete:i}})},n.slideUp=function(t,e){var n=500,i=void 0,r=50,o="swing";void 0!==e&&(void 0!==e.duration&&(n=Number(e.duration)),"function"==typeof e.complete&&(i=e.complete),void 0!==e.easing&&(o=e.easing),void 0!==e.distance&&(r=e.distance)),u(t,{properties:{opacity:1,position:{y:"-"+r}},settings:{duration:n,easing:o,complete:i}})},n.slideDown=function(t,e){var n=500,i=void 0,r=50,o="swing";void 0!==e&&(void 0!==e.duration&&(n=Number(e.duration)),"function"==typeof e.complete&&(i=e.complete),void 0!==e.easing&&(o=e.easing),void 0!==e.distance&&(r=e.distance)),u(t,{properties:{opacity:0,position:{y:"+"+r}},settings:{duration:n,easing:o,complete:i}})},n.splash=function(t,e){var n=500,i=void 0,r="swing";void 0!==e&&(void 0!==e.duration&&(n=Number(e.duration)),"function"==typeof e.complete&&(i=e.complete),void 0!==e.easing&&(r=e.easing)),u(t,{properties:{opacity:1,scale:3,rotate:360},settings:{duration:n,easing:r,complete:i}})},void 0!==e&&(e.exports={grow:function(t){return console.log("segmentGrow was buggy and has been removed, sorry :/"),t},shake:n.shake,fadeIn:n.fadeIn,fadeOut:n.fadeOut,slideUp:n.slideUp,slideDown:n.slideDown,splash:n.splash})},{"./animation":2}],5:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("./export");window.animatePaper=i},{"./export":6}],6:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./animation"),i=t("./effects"),o=t("./easing"),s=t("./frameManager"),a=t("./prophooks"),l=t("./getPaper");n.animate=function(t,e){var n=[];e instanceof Array?n=e:n.push(e);var i=0;return new r.Animation(t,n[i].properties,n[i].settings,function e(){void 0!==n[++i]&&new r.Animation(t,n[i].properties,n[i].settings,e)}),t},n.stop=function(t,e,n){if(t.data._animatePaperAnims)for(var i=0,r=t.data._animatePaperAnims.length;i<r;i++)t.data._animatePaperAnims[i]&&t.data._animatePaperAnims[i].stop(e,n);return t},n.extendEasing=o.easing.extendEasing,n.frameManager=s,n.fx=i,l.Item.prototype.animate||(l.Item.prototype.animate=function(t){return n.animate(this,t)}),l.Item.prototype.stop||(l.Item.prototype.stop=function(t,e){return n.stop(this,t,e)}),void 0!==e&&(e.exports={animate:n.animate,stop:n.stop,frameManager:n.frameManager,fx:n.fx,extendEasing:n.extendEasing,extendPropHooks:a.extendPropHooks})},{"./animation":2,"./easing":3,"./effects":4,"./frameManager":7,"./getPaper":8,"./prophooks":9}],7:[function(t,e,n){"use strict";function r(t){var e=this;if(void 0===e.data&&(e.data={}),void 0!==e.data._customHandlers&&0<e.data._customHandlersCount)for(var n in e.data._customHandlers)e.data._customHandlers.hasOwnProperty(n)&&"function"==typeof e.data._customHandlers[n]&&e.data._customHandlers[n].call(e,t)}n.__esModule=!0,n.add=function(t,e,n,i){return void 0===t.data._customHandlers&&(t.data._customHandlers={},t.data._customHandlersCount=0),t.data._customHandlers[e]=n,t.data._customHandlersCount+=1,0<t.data._customHandlersCount&&(void 0!==i?i.onFrame=r:t.onFrame=r),e},n.remove=function(t,e){void 0!==t.data._customHandlers&&(t.data._customHandlers[e]=null,t.data._customHandlersCount-=1,t.data._customHandlersCount<=0&&(t.data._customHandlersCount=0))}},{}],8:[function(t,e){var n=t("paper");"undefined"!=typeof window&&void 0!==window.paper&&(n=window.paper),e.exports=n},{paper:1}],9:[function(t,e,n){"use strict";function u(t){var e=null,n="";if(e=Number(t),"string"==typeof t){var i=t.match(r);n=i[1],e=Number(i[2])}return{value:e,direction:n}}function c(t){var e,n,i;if(t._properties)e=t._properties;else switch(n=t,n.type?i=n.type:(n.red,i="rgb"),i){case"gray":e=["gray"];break;case"rgb":e=["red","green","blue"];break;case"hsl":e=["hue","saturation","lightness"];break;case"hsb":e=["hue","brightness","saturation"]}return e}n.__esModule=!0;for(var r=/^([+\-])(.+)/,i=function(t,e,n){if(-1!==["+","-"].indexOf(n)&&void 0!==t&&void 0!==e){if(t.x,e.x,t.y,e.y,"+"===n)return t.add(e);if("-"===n)return t.subtract(e);throw new Error("Unknown operator")}},o={_default:{get:function(t){var e;return null!==t.item[t.prop]&&(e=t.item[t.prop]),e},set:function(t){var e={};e[t.prop]=t.now,t.item.set(e)}},scale:{get:function(t){return t.item.data._animatePaperVals||(t.item.data._animatePaperVals={}),void 0===t.item.data._animatePaperVals.scale&&(t.item.data._animatePaperVals.scale=1),t.item.data._animatePaperVals.scale},set:function(t){var e=t.item.data._animatePaperVals.scale,n=t.now/e;t.item.data._animatePaperVals.scale=t.now;var i=!1;void 0!==t.A.settings.center&&(i=t.A.settings.center),void 0!==t.A.settings.scaleCenter&&(i=t.A.settings.scaleCenter),!1!==i?t.item.scale(n,i):t.item.scale(n)}},rotate:{get:function(t){return t.item.data._animatePaperVals||(t.item.data._animatePaperVals={}),void 0===t.item.data._animatePaperVals.rotate&&(t.item.data._animatePaperVals.rotate=-0),t.item.data._animatePaperVals.rotate},set:function(t){var e=t.item.data._animatePaperVals.rotate,n=t.now-e;t.item.data._animatePaperVals.rotate=t.now;var i=!1;void 0!==t.A.settings.center&&(i=t.A.settings.center),void 0!==t.A.settings.rotateCenter&&(i=t.A.settings.rotateCenter),!1!==i?t.item.rotate(n,i):t.item.rotate(n)}},translate:{get:function(t){return t.item.data._animatePaperVals||(t.item.data._animatePaperVals={}),void 0===t.item.data._animatePaperVals.translate&&(t.item.data._animatePaperVals.translate=new paper.Point(0,0)),t.item.data._animatePaperVals.translate},set:function(t){var e=t.item.data._animatePaperVals.translate,n=i(t.now,e,"-");t.item.data._animatePaperVals.translate=t.now,t.item.translate(n)},ease:function(t,e){var n=i(t.end,t.start,"-");return n.x=n.x*e,n.y=n.y*e,t.now=i(n,t.start,"+"),t.now}},position:{get:function(t){return{x:t.item.position.x,y:t.item.position.y}},set:function(t){t.item.position.x+=t.now.x,t.item.position.y+=t.now.y},ease:function(t,e){void 0===t._easePositionCache&&(t._easePositionCache={x:0,y:0});var n=u(t.end.x||0),i=n.value,r=n.direction,o=u(t.end.y||0),s=o.value,a=o.direction,l=function(t){return(t||0)*e};return void 0!==t.end.x?"+"===r?(t.now.x=l(i)-t._easePositionCache.x,t._easePositionCache.x+=t.now.x):"-"===r?(t.now.x=l(i)-t._easePositionCache.x,t._easePositionCache.x+=t.now.x,t.now.x=-t.now.x):(t.now.x=(i-t.start.x)*e-t._easePositionCache.x,t._easePositionCache.x+=t.now.x):t.now.x=0,void 0!==t.end.y?"+"===a?(t.now.y=l(s)-t._easePositionCache.y,t._easePositionCache.y+=t.now.y):"-"===a?(t.now.y=l(s)-t._easePositionCache.y,t._easePositionCache.y+=t.now.y,t.now.y=-t.now.y):(t.now.y=(s-t.start.y)*e-t._easePositionCache.y,t._easePositionCache.y+=t.now.y):t.now.y=0,t.now}},pointPosition:{get:function(t){return{x:t.item.x,y:t.item.y}},set:function(t){t.item.x+=t.now.x,t.item.y+=t.now.y},ease:function(t,e){void 0===t._easePositionCache&&(t._easePositionCache={x:0,y:0});var n=u(t.end.x||0),i=n.value,r=n.direction,o=u(t.end.y||0),s=o.value,a=o.direction,l=function(t){return(t||0)*e};return void 0!==t.end.x?"+"===r?(t.now.x=l(i)-t._easePositionCache.x,t._easePositionCache.x+=t.now.x):"-"===r?(t.now.x=l(i)-t._easePositionCache.x,t._easePositionCache.x+=t.now.x,t.now.x=-t.now.x):(t.now.x=(i-t.start.x)*e-t._easePositionCache.x,t._easePositionCache.x+=t.now.x):t.now.x=0,void 0!==t.end.y?"+"===a?(t.now.y=l(s)-t._easePositionCache.y,t._easePositionCache.y+=t.now.y):"-"===a?(t.now.y=l(s)-t._easePositionCache.y,t._easePositionCache.y+=t.now.y,t.now.y=-t.now.y):(t.now.y=(s-t.start.y)*e-t._easePositionCache.y,t._easePositionCache.y+=t.now.y):t.now.y=0,t.now}},Color:{get:function(t){for(var e=t.item[t.prop],n={},i=0,r=c(e);i<r.length;i++){var o=r[i];n[o]=e[o]}return n},set:function(t){for(var e=c(t.item[t.prop]),n=t.item[t.prop],i={},r=0,o=e;r<o.length;r++){var s=o[r];i[s]=n[s]+t.now[s]}t.item[t.prop]=i},ease:function(t,e){for(var n=function(t){return(t||0)*e},i=0,r=c(t.item[t.prop]);i<r.length;i++){var o=r[i];void 0===t._easeColorCache&&(t._easeColorCache={}),void 0===t._easeColorCache[o]&&(t._easeColorCache[o]=0);var s=u(t.end[o]||0),a=s.value,l=s.direction;void 0!==t.end[o]?"+"===l?(t.now[o]=n(a)-t._easeColorCache[o],t._easeColorCache[o]+=t.now[o]):"-"===l?(t.now[o]=n(a)-t._easeColorCache[o],t._easeColorCache[o]+=t.now[o],t.now[o]=-t.now[o]):(t.now[o]=(a-t.start[o])*e-t._easeColorCache[o],t._easeColorCache[o]+=t.now[o]):t.now[o]=0}return t.now}}},s=["fill","stroke"],a=0,l=s.length;a<l;a++)o[s[a]+"Color"]=o.Color;n._tweenPropHooks=o,n._pointDiff=i,n.extendPropHooks=function(t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])},void 0!==e&&(e.exports={_tweenPropHooks:o,__pointDiff:i,extendPropHooks:n.extendPropHooks})},{}],10:[function(t,e,n){"use strict";n.__esModule=!0;var s=t("./prophooks"),a=t("./easing"),i=function(){function t(t,e,n){var i=this;i.A=n,i.item=n.item,i.prop=t,i.end=e,i.start=i.cur(),"string"==typeof i.end&&"+"===i.end.charAt(0)?i.end=i.start+parseFloat(i.end):"string"==typeof i.end&&"-"===i.end.charAt(0)&&(i.end=i.start+parseFloat(i.end)),i.now=i.cur(),i.direction=i.end>i.start?"+":"-"}return t.prototype.cur=function(){var t=this,e=s._tweenPropHooks[t.prop];return e&&e.get?e.get(t):s._tweenPropHooks._default.get(t)},t.prototype.run=function(t){var e,n=this,i=s._tweenPropHooks[n.prop],r=n.A.settings;if(r.duration){var o=void 0;o="function"==typeof r.easing?r.easing:a.easing[r.easing],n.pos=e=o(t,r.duration*t,0,1,n.duration)}else n.pos=e=t;return i&&i.ease?i.ease(n,e):n.now=(n.end-n.start)*e+n.start,i&&i.set?i.set(n):s._tweenPropHooks._default.set(n),n},t}();n.Tween=i},{"./easing":3,"./prophooks":9}]},{},[5]),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function n(s,t){var e;t=function s(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var e,n,i,r=t||{};for(n=1;n<arguments.length;n++){var o=arguments[n]||{};for(e in o)"object"!=typeof r[e]||(i=r[e])&&"undefined"!=typeof window&&(i===window||i.nodeType)?r[e]=r[e]||o[e]:r[e]=s(r[e],o[e])}return r}(t,n.options),this.lastKnownScrollY=0,this.elem=s,this.tolerance=(e=t.tolerance)===Object(e)?e:{down:e,up:e},this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop,this.onBottom=t.onBottom,this.onNotBottom=t.onNotBottom}var e={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){if(n.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;for(var e in this.initialised=!1,t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),
e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==e&&e.rAF&&e.bind&&e.classList,n}),function(){var t,e,n;t=function(){function i(t,e){var n,i;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(n in t)i=t[n],this.options[n]=i;this.context=null!=e?e:this,this.unique=this._genKey()}return i.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&0<this.context.nextUrl.length},i.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},i.prototype.run=function(t){var e,n;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((n=document.createElement("script")).id="instafeed-fetcher",n.src=t||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(n),e="instafeedCache"+this.unique,window[e]=new i(this.options,this),window[e].unique=this.unique),!0},i.prototype.parse=function(t){var e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,_,w,b,x,C,S,T,E,k,A;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(T="least"===(E="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"))[0],E[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",T);break;case"liked":t.data=this._sortBy(t.data,"likes.count",T);break;case"commented":t.data=this._sortBy(t.data,"comments.count",T);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(d=t.data,S=parseInt(this.options.limit,10),null!=this.options.limit&&d.length>S&&(d=d.slice(0,S)),s=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(d=this._filter(d,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(a="",A=document.createElement("div"),l=0,w=d.length;l<w;l++){if("object"!=typeof(c=(u=d[l]).images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);g="square",(m=c.width)>(p=c.height)&&(g="landscape"),m<p&&(g="portrait"),h=c.url,0<=window.location.protocol.indexOf("http")&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),a+=this._makeTemplate(this.options.template,{model:u,id:u.id,link:u.link,type:u.type,image:h,width:m,height:p,orientation:g,caption:this._getObjectProperty(u,"caption.text"),likes:u.likes.count,comments:u.comments.count,location:this._getObjectProperty(u,"location.name")})}for(A.innerHTML=a,r=[],i=0,n=A.childNodes.length;i<n;)r.push(A.childNodes[i]),i+=1;for(y=0,b=r.length;y<b;y++)C=r[y],s.appendChild(C)}else for(_=0,x=d.length;_<x;_++){if(u=d[_],f=document.createElement("img"),"object"!=typeof(c=u.images[this.options.resolution]))throw o="No image found for resolution: "+this.options.resolution+".",new Error(o);h=c.url,0<=window.location.protocol.indexOf("http")&&!this.options.useHttp&&(h=h.replace(/https?:\/\//,"//")),f.src=h,!0===this.options.links?((e=document.createElement("a")).href=u.link,e.appendChild(f),s.appendChild(e)):s.appendChild(f)}if("string"==typeof(k=this.options.target)&&(k=document.getElementById(k)),null==k)throw o='No element with id="'+this.options.target+'" on page.',new Error(o);k.appendChild(s),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),v="instafeedCache"+this.unique,window[v]=void 0;try{delete window[v]}catch(t){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},i.prototype._buildUrl=function(){var t,e;switch(this.options.get){case"popular":t="media/popular";break;case"tagged":if(!this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");t="tags/"+this.options.tagName+"/media/recent";break;case"location":if(!this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");t="locations/"+this.options.locationId+"/media/recent";break;case"user":if(!this.options.userId)throw new Error("No user specified. Use the 'userId' option.");t="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return e="https://api.instagram.com/v1/"+t,null!=this.options.accessToken?e+="?access_token="+this.options.accessToken:e+="?client_id="+this.options.clientId,null!=this.options.limit&&(e+="&count="+this.options.limit),e+"&callback=instafeedCache"+this.unique+".parse"},i.prototype._genKey=function(){var t;return""+(t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+t()+t()+t()},i.prototype._makeTemplate=function(t,e){var n,i,r,o,s;for(i=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,n=t;i.test(n);)o=n.match(i)[1],s=null!=(r=this._getObjectProperty(e,o))?r:"",n=n.replace(i,function(){return""+s});return n},i.prototype._getObjectProperty=function(t,e){var n,i;for(i=(e=e.replace(/\[(\w+)\]/g,".$1")).split(".");i.length;){if(n=i.shift(),!(null!=t&&n in t))return null;t=t[n]}return t},i.prototype._sortBy=function(t,r,o){var e;return e=function(t,e){var n,i;return n=this._getObjectProperty(t,r),i=this._getObjectProperty(e,r),o?i<n?1:-1:n<i?1:-1},t.sort(e.bind(this)),t},i.prototype._filter=function(t,e){var n,i,r,o;for(n=[],i=function(t){if(e(t))return n.push(t)},r=0,o=t.length;r<o;r++)i(t[r]);return n},i}(),e=this,n=function(){return t},"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.Instafeed=n()}.call(this),function(o,a,t,b){"use strict";function l(t,e,n){return setTimeout(r(t,n),e)}function i(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==b)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function e(i,t,e){var r="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,r,e),i.apply(this,arguments)}}function n(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&J(i,n)}function r(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==tt?t.apply(e&&e[0]||b,e):t}function c(t,e){return t===b?e:t}function h(e,t,n){s(p(t),function(t){e.addEventListener(t,n,!1)})}function d(e,t,n){s(p(t),function(t){e.removeEventListener(t,n,!1)})}function x(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function f(t,e){return-1<t.indexOf(e)}function p(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function m(t){return Array.prototype.slice.call(t,0)}function v(t,n,e){for(var i=[],r=[],o=0;o<t.length;){var s=n?t[o][n]:t[o];g(r,s)<0&&i.push(t[o]),r[o]=s,o++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}function y(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<K.length;){if((i=(n=K[o])?n+r:e)in t)return i;o++}return b}function _(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}function w(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&n.handler(t)},this.init()}function C(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&ht&&i-r==0,s=e&(ft|pt)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=S(e)),1<r&&!n.firstMultiple?n.firstMultiple=S(e):1===r&&(n.firstMultiple=!1);var o,s,a,l,u,c,h=n.firstInput,d=n.firstMultiple,f=d?d.center:h.center,p=e.center=T(i);e.timeStamp=it(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=P(f,p),e.distance=A(f,p),o=n,a=(s=e).center,l=o.offsetDelta||{},u=o.prevDelta||{},c=o.prevInput||{},s.eventType!==ht&&c.eventType!==ft||(u=o.prevDelta={x:c.deltaX||0,y:c.deltaY||0},l=o.offsetDelta={x:a.x,y:a.y}),s.deltaX=u.x+(a.x-l.x),s.deltaY=u.y+(a.y-l.y),e.offsetDirection=k(e.deltaX,e.deltaY);var g,m,v,y,_=E(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=_.x,e.overallVelocityY=_.y,e.overallVelocity=nt(_.x)>nt(_.y)?_.x:_.y,e.scale=d?(v=d.pointers,A((y=i)[0],y[1],St)/A(v[0],v[1],St)):1,e.rotation=d?(g=d.pointers,P((m=i)[1],m[0],St)+P(g[1],g[0],St)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!=pt&&(ct<a||s.velocity===b)){var l=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,c=E(a,l,u);i=c.x,r=c.y,n=nt(c.x)>nt(c.y)?c.x:c.y,o=k(l,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var w=t.element;x(e.srcEvent.target,w)&&(w=e.srcEvent.target),e.target=w}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function S(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:et(t.pointers[n].clientX),clientY:et(t.pointers[n].clientY)},n++;return{timeStamp:it(),pointers:e,center:T(e),deltaX:t.deltaX,deltaY:t.deltaY}}function T(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:et(n/e),y:et(i/e)}}function E(t,e,n){return{x:e/t||0,y:n/t||0}}function k(t,e){return t===e?gt:nt(t)>=nt(e)?t<0?mt:vt:e<0?yt:_t}function A(t,e,n){n||(n=Ct);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function P(t,e,n){n||(n=Ct);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function I(){this.evEl=Et,this.evWin=kt,this.pressed=!1,w.apply(this,arguments)}function L(){this.evEl=It,this.evWin=Lt,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function M(){this.evTarget=zt,this.evWin=Nt,this.started=!1,w.apply(this,arguments)}function z(){this.evTarget=Dt,this.targetIds={},w.apply(this,arguments)}function N(){w.apply(this,arguments);var t=r(this.handler,this);this.touch=new z(this.manager,t),this.mouse=new I(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function O(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},qt)}}function D(t,e){this.manager=t,this.set(e)}function q(t){this.options=J({},this.defaults,t||{}),this.id=st++,this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=$t,this.simultaneous={},this.requireFail=[]}function R(t){return t&Kt?"cancel":t&Zt?"end":t&Gt?"move":t&Yt?"start":""}function F(t){return t==_t?"down":t==yt?"up":t==mt?"left":t==vt?"right":""}function H(t,e){var n=e.manager;return n?n.get(t):t}function j(){q.apply(this,arguments)}function B(){j.apply(this,arguments),this.pX=null,this.pY=null}function W(){j.apply(this,arguments)}function V(){q.apply(this,arguments),this._timer=null,this._input=null}function U(){j.apply(this,arguments)}function X(){j.apply(this,arguments)}function $(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Y(t,e){return(e=e||{}).recognizers=c(e.recognizers,Y.defaults.preset),new G(t,e)}function G(t,e){var n;this.options=J({},Y.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(lt?L:ut?z:at?N:I))(n,C),this.touchAction=new D(this,this.options.touchAction),Z(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Z(n,i){var r,o=n.element;o.style&&(s(n.options.cssProps,function(t,e){r=y(o.style,e),i?(n.oldCssProps[r]=o.style[r],o.style[r]=t):o.style[r]=n.oldCssProps[r]||""}),i||(n.oldCssProps={}))}var J,K=["","webkit","Moz","MS","ms","o"],Q=a.createElement("div"),tt="function",et=Math.round,nt=Math.abs,it=Date.now;J="function"!=typeof Object.assign?function(t){if(t===b||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==b&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var rt=e(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===b)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),ot=e(function(t,e){return rt(t,e,!0)},"merge","Use `assign`."),st=1,at="ontouchstart"in o,lt=y(o,"PointerEvent")!==b,ut=at&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ct=25,ht=1,dt=2,ft=4,pt=8,gt=1,mt=2,vt=4,yt=8,_t=16,wt=mt|vt,bt=yt|_t,xt=wt|bt,Ct=["x","y"],St=["clientX","clientY"];w.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(_(this.element),this.evWin,this.domHandler)}};var Tt={mousedown:ht,mousemove:dt,mouseup:ft},Et="mousedown",kt="mousemove mouseup";n(I,w,{handler:function(t){var e=Tt[t.type];e&ht&&0===t.button&&(this.pressed=!0),e&dt&&1!==t.which&&(e=ft),this.pressed&&(e&ft&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var At={pointerdown:ht,pointermove:dt,pointerup:ft,pointercancel:pt,pointerout:pt},Pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},It="pointerdown",Lt="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(It="MSPointerDown",Lt="MSPointerMove MSPointerUp MSPointerCancel"),n(L,w,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=At[i],o=Pt[t.pointerType]||t.pointerType,s="touch"==o,a=g(e,t.pointerId,"pointerId");r&ht&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(ft|pt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Mt={touchstart:ht,touchmove:dt,touchend:ft,touchcancel:pt},zt="touchstart",Nt="touchstart touchmove touchend touchcancel";n(M,w,{handler:function(t){var e=Mt[t.type];if(e===ht&&(this.started=!0),this.started){var n=function(t,e){var n=m(t.touches),i=m(t.changedTouches);return e&(ft|pt)&&(n=v(n.concat(i),"identifier",!0)),[n,i]}.call(this,t,e);e&(ft|pt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Ot={touchstart:ht,touchmove:dt,touchend:ft,touchcancel:pt},Dt="touchstart touchmove touchend touchcancel";n(z,w,{handler:function(t){var e=Ot[t.type],n=function(t,e){var n=m(t.touches),i=this.targetIds;if(e&(ht|dt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=m(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return x(t.target,l)}),e===ht)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(ft|pt)&&delete i[s[r].identifier],r++;return a.length?[v(o.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var qt=2500,Rt=25;n(N,w,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&ht?(this.primaryTouch=e.changedPointers[0].identifier,O.call(this,e)):t&(ft|pt)&&O.call(this,e)}).call(this,e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=Rt&&s<=Rt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ft=y(Q.style,"touchAction"),Ht=Ft!==b,jt="auto",Bt="manipulation",Wt="none",Vt="pan-x",Ut="pan-y",Xt=function(){if(!Ht)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();D.prototype={set:function(t){"compute"==t&&(t=this.compute()),Ht&&this.manager.element.style&&Xt[t]&&(this.manager.element.style[Ft]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(f(t,Wt))return Wt;var e=f(t,Vt),n=f(t,Ut);return e&&n?Wt:e||n?e?Vt:Ut:f(t,Bt)?Bt:jt}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=f(i,Wt)&&!Xt[Wt],o=f(i,Ut)&&!Xt[Ut],s=f(i,Vt)&&!Xt[Vt];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&wt||s&&n&bt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var $t=1,Yt=2,Gt=4,Zt=8,Jt=Zt,Kt=16;q.prototype={defaults:{},set:function(t){return J(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=H(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=H(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===g(e,t=H(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=H(t,this);var e=g(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<Zt&&t(n.options.event+R(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),Zt<=i&&t(n.options.event+R(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|$t)))return!1;t++}return!0},recognize:function(t){var e=J({},t);if(!u(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Jt|Kt|32)&&(this.state=$t),this.state=this.process(e),this.state&(Yt|Gt|Zt|Kt)&&this.tryEmit(e)},process:function(){},getTouchAction:function(){},reset:function(){}},n(j,q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Yt|Gt),r=this.attrTest(t);return i&&(n&pt||!r)?e|Kt:i||r?n&ft?e|Zt:e&Yt?e|Gt:Yt:32}}),n(B,j,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var t=this.options.direction,e=[];return t&wt&&e.push(Ut),t&bt&&e.push(Vt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&wt?(r=0===o?gt:o<0?mt:vt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?gt:s<0?yt:_t,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return j.prototype.attrTest.call(this,t)&&(this.state&Yt||!(this.state&Yt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=F(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),n(W,j,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Yt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),n(V,q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(ft|pt)&&!r)this.reset();else if(t.eventType&ht)this.reset(),this._timer=l(function(){this.state=Jt,this.tryEmit()},e.time,this);else if(t.eventType&ft)return Jt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Jt&&(t&&t.eventType&ft?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),n(U,j,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Wt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Yt)}}),n(X,j,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:wt|bt,pointers:1},getTouchAction:function(){return B.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(wt|bt)?e=t.overallVelocity:n&wt?e=t.overallVelocityX:n&bt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&nt(e)>this.options.velocity&&t.eventType&ft},emit:function(t){var e=F(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),n($,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Bt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&ht&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=ft)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=Jt,this.tryEmit()},e.interval,this),Yt):Jt}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Jt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Y.VERSION="2.0.7",Y.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[U,{enable:!1}],[W,{enable:!1},["rotate"]],[X,{direction:wt}],[B,{direction:wt},["swipe"]],[$],[$,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},G.prototype={set:function(t){return J(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Jt)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Yt|Gt|Zt)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof q)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==b&&e!==b){var n=this.handlers;return s(p(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==b){var n=this.handlers;return s(p(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,i,r;this.options.domEvents&&(n=t,i=e,(r=a.createEvent("Event")).initEvent(n,!0,!0),(r.gesture=i).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},destroy:function(){this.element&&Z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},J(Y,{INPUT_START:ht,INPUT_MOVE:dt,INPUT_END:ft,INPUT_CANCEL:pt,STATE_POSSIBLE:$t,STATE_BEGAN:Yt,STATE_CHANGED:Gt,STATE_ENDED:Zt,STATE_RECOGNIZED:Jt,STATE_CANCELLED:Kt,STATE_FAILED:32,DIRECTION_NONE:gt,DIRECTION_LEFT:mt,DIRECTION_RIGHT:vt,DIRECTION_UP:yt,DIRECTION_DOWN:_t,DIRECTION_HORIZONTAL:wt,DIRECTION_VERTICAL:bt,DIRECTION_ALL:xt,Manager:G,Input:w,TouchAction:D,TouchInput:z,MouseInput:I,PointerEventInput:L,TouchMouseInput:N,SingleTouchInput:M,Recognizer:q,AttrRecognizer:j,Tap:$,Pan:B,Swipe:X,Pinch:W,Rotate:U,Press:V,on:h,off:d,each:s,merge:ot,extend:rt,assign:J,inherit:n,bindFn:r,prefixed:y}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Y,"function"==typeof define&&define.amd?define(function(){return Y}):"undefined"!=typeof module&&module.exports?module.exports=Y:o.Hammer=Y}(window,document),function(e,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("jquery")):e.jQueryBridget=n(e,e.jQuery)}(window,function(t,e){"use strict";function n(u,r,c){(c=c||e||t.jQuery)&&(r.prototype.option||(r.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[u]=function(t){var i,e,o,s,a,l;return"string"==typeof t?(e=this,o=t,s=h.call(arguments,1),l="$()."+u+'("'+o+'")',e.each(function(t,e){var n=c.data(e,u);if(n){var i=n[o];if(i&&"_"!=o.charAt(0)){var r=i.apply(n,s);a=void 0===a?r:a}else d(l+" is not a valid method")}else d(u+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:e):(i=t,this.each(function(t,e){var n=c.data(e,u);n?(n.option(i),n._init()):(n=new r(e,i),c.data(e,u,n))}),this)},i(c))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var h=Array.prototype.slice,r=t.console,d=void 0===r?function(){}:function(t){r.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function v(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function y(t){var e=getComputedStyle(t);return e||n("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function _(t){if(function(){if(!C){C=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var n=y(t);_.isBoxSizeOuter=w=200==v(n.width),e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=y(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<x;e++)t[b[e]]=0;return t}();var n={};n.width=t.offsetWidth,n.height=t.offsetHeight;for(var i=n.isBorderBox="border-box"==e.boxSizing,r=0;r<x;r++){var o=b[r],s=e[o],a=parseFloat(s);n[o]=isNaN(a)?0:a}var l=n.paddingLeft+n.paddingRight,u=n.paddingTop+n.paddingBottom,c=n.marginLeft+n.marginRight,h=n.marginTop+n.marginBottom,d=n.borderLeftWidth+n.borderRightWidth,f=n.borderTopWidth+n.borderBottomWidth,p=i&&w,g=v(e.width);!1!==g&&(n.width=g+(p?0:l+d));var m=v(e.height);return!1!==m&&(n.height=m+(p?0:u+f)),n.innerWidth=n.width-(l+d),n.innerHeight=n.height-(u+f),n.outerWidth=n.width+c,n.outerHeight=n.height+h,n}}var w,n="undefined"==typeof console?function(){}:function(t){console.error(t)},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],x=b.length,C=!1;return _}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var n=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(t,e){return t[n](e)}}),function(e,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return n(e,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("desandro-matches-selector")):e.fizzyUIUtils=n(e,e.matchesSelector)}(window,function(u,o){var c={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e},removeFrom:function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},getParent:function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,o(t,e))return t},
getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,i){t=c.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(i){o(t,i)&&r.push(t);for(var e=t.querySelectorAll(i),n=0;n<e.length;n++)r.push(e[n])}else r.push(t)}),r},debounceMethod:function(t,e,i){var r=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,n=this;this[o]=setTimeout(function(){r.apply(n,e),delete n[o]},i||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}},h=u.console;return c.htmlInit=function(a,l){c.docReady(function(){var t=c.toDashed(l),r="data-"+t,e=document.querySelectorAll("["+r+"]"),n=document.querySelectorAll(".js-"+t),i=c.makeArray(e).concat(c.makeArray(n)),o=r+"-options",s=u.jQuery;i.forEach(function(t){var e,n=t.getAttribute(r)||t.getAttribute(o);try{e=n&&JSON.parse(n)}catch(a){return void(h&&h.error("Error parsing "+r+" on "+t.className+": "+a))}var i=new a(t,e);s&&s.data(t,l,i)})})},c}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var i=document.documentElement.style,r="string"==typeof i.transition?"transition":"WebkitTransition",o="string"==typeof i.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],a={transform:o,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},l=n.prototype=Object.create(t.prototype);l.constructor=n,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var n in t)e[a[n]||n]=t[n]},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],r=t[n?"top":"bottom"],o=this.layout.size,s=-1!=i.indexOf("%")?parseFloat(i)/100*o.width:parseInt(i,10),a=-1!=r.indexOf("%")?parseFloat(r)/100*o.height:parseInt(r,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?o.paddingLeft:o.paddingRight,a-=n?o.paddingTop:o.paddingBottom,this.position.x=s,this.position.y=a},l.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"paddingLeft":"paddingRight",o=n?"left":"right",s=n?"right":"left",a=this.position.x+t[r];e[o]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",u=i?"top":"bottom",c=i?"bottom":"top",h=this.position.y+t[l];e[u]=this.getYValue(h),e[c]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(t,10),o=parseInt(e,10),s=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-n,l=e-i,u={};u.transform=this.getTranslate(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:u,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(r,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,n,i){return o(r,t,e,n,i)}):"object"==typeof module&&module.exports?module.exports=o(r,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):r.Outlayer=o(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,r.Outlayer.Item)}(window,function(t,e,r,o,i){"use strict";function s(t,e){var n=o.getQueryElement(t);if(n){this.element=n,u&&(this.$element=u(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var i=++c;this.element.outlayerGUID=i,(h[i]=this)._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e}var l=t.console,u=t.jQuery,n=function(){},c=0,h={};s.namespace="outlayer",s.Item=i,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=s.prototype;o.extend(d,e.prototype),d.option=function(t){o.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0;r<e.length;r++){var o=new n(e[r],this);i.push(o)}return i},d._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=r(this.element)},d._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):i instanceof HTMLElement&&(n=i),this[t]=n?r(n)[e]:i):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,n){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=n||t.isLayoutInstant,i.push(e)},this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var i=this.options.stagger;if(null!=i)return this.stagger=function(){if("number"==typeof i)return i;var t=i.match(/(^\d*\.?\d*)(\w*)/),e=t&&t[1],n=t&&t[2];return e.length?(e=parseFloat(e))*(f[n]||1):0}(),this.stagger;this.stagger=0},d._positionItem=function(t,e,n,i,r){i?t.goTo(e,n):(t.stagger(r*this.stagger),t.moveTo(e,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=n,d._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(e,t){function n(){r.dispatchEvent(e+"Complete",null,[t])}function i(){++s==o&&n()}var r=this,o=t.length;if(t&&o){var s=0;t.forEach(function(t){t.once(e,i)})}else n()},d.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),u)if(this.$element=this.$element||u(this.element),e){var r=u.Event(e);r.type=t,this.$element.trigger(r,n)}else this.$element.trigger(t,n)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){o.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),o.makeArray(t)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=n,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=r(t);return{left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom}},d.handleEvent=o.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=r(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var n=this.updateStagger();t.forEach(function(t,e){t.stagger(e*n),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var n=this.updateStagger();t.forEach(function(t,e){t.stagger(e*n),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},d.getItems=function(t){t=o.makeArray(t);var n=[];return t.forEach(function(t){var e=this.getItem(t);e&&n.push(e)},this),n},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),o.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){var e=(t=o.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},s.create=function(t,e){var n=a(s);return n.defaults=o.extend({},s.defaults),o.extend(n.defaults,e),n.compatOptions=o.extend({},s.compatOptions),n.namespace=t,n.data=s.data,n.Item=a(i),o.htmlInit(n,t),u&&u.bridget&&u.bridget(t,n),n};var f={ms:1,s:1e3};return s.Item=i,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,u){var e=t.create("masonry");e.compatOptions.fitWidth="isFitWidth";var n=e.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&u(e).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,r=i/n,o=n-i%n;r=Math[o&&o<1?"round":"floor"](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,e=u(t);this.containerWidth=e&&e.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),r={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,s=n+i.col,a=i.col;a<s;a++)this.colYs[a]=o;return r},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},n._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},n._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},n._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=1<t&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},n._manageStamp=function(t){var e=u(t),n=this._getElementOffset(t),i=this._getOption("originLeft")?n.left:n.right,r=i+e.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var s=Math.floor(r/this.columnWidth);s-=r%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this._getOption("originTop")?n.top:n.bottom)+e.outerHeight,l=o;l<=s;l++)this.colYs[l]=Math.max(a,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.MediaBox=e()}(this,function(){"use strict";var e=function(t){return this&&this instanceof e?!!t&&(this.selector=t instanceof NodeList?t:document.querySelectorAll(t),this.root=document.querySelector("body"),void this.run()):new e(t)};return e.prototype={run:function(){Array.prototype.forEach.call(this.selector,function(n){n.addEventListener("click",function(t){t.preventDefault();var e=this.parseUrl(n.getAttribute("href"));this.render(e),this.events()}.bind(this),!1)}.bind(this)),this.root.addEventListener("keyup",function(t){27===(t.keyCode||t.which)&&this.close(this.root.querySelector(".mediabox-wrap"))}.bind(this),!1)},template:function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp("{"+n+"}","g"),e[n]));return t},parseUrl:function(t){var e,n={};return(e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/))?(n.provider="youtube",n.id=e[2]):(e=t.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/))?(n.provider="vimeo",n.id=e[3]):(n.provider="Unknown",n.id=""),n},render:function(t){var e,n;if("youtube"===t.provider)e="https://www.youtube.com/embed/"+t.id;else{if("vimeo"!==t.provider)throw new Error("Invalid video URL");e="https://player.vimeo.com/video/"+t.id}n=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span class="mediabox-close" aria-label="close"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e}),this.root.insertAdjacentHTML("beforeend",n)},events:function(){var e=document.querySelector(".mediabox-wrap");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className)&&this.close(e)}.bind(this),!1)},close:function(t){if(null===t)return!0;var e=null;e&&clearTimeout(e),t.classList.add("mediabox-hide"),e=setTimeout(function(){var t=document.querySelector(".mediabox-wrap");null!==t&&this.root.removeChild(t)}.bind(this),500)}},e}),function(t){t.IS_TOUCH_DEVICE=function(){"use strict";try{return"ontouchstart"in window||navigator.maxTouchPoints}catch(t){return!1}}()}(this),ResizeSensor=function(t,e){function p(){var t,e;this.q=[],this.add=function(t){this.q.push(t)},this.call=function(){for(t=0,e=this.q.length;t<e;t++)this.q[t].call()}}function n(t,e){if(t.resizedAttached){if(t.resizedAttached)return void t.resizedAttached.add(e)}else t.resizedAttached=new p,t.resizedAttached.add(e);t.resizeSensor=document.createElement("div"),t.resizeSensor.className="resize-sensor";var n,i,r="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",o="position: absolute; left: 0; top: 0;";t.resizeSensor.style.cssText=r,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+r+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+r+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor),{fixed:1,absolute:1}[(n=t,i="position",n.currentStyle?n.currentStyle[i]:window.getComputedStyle?window.getComputedStyle(n,null).getPropertyValue(i):n.style[i])]||(t.style.position="relative");var s,a,l=t.resizeSensor.childNodes[0],u=l.childNodes[0],c=t.resizeSensor.childNodes[1],h=(c.childNodes[0],function(){u.style.width=l.offsetWidth+10+"px",u.style.height=l.offsetHeight+10+"px",l.scrollLeft=l.scrollWidth,l.scrollTop=l.scrollHeight,c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight,s=t.offsetWidth,a=t.offsetHeight});h();var d=function(){t.resizedAttached&&t.resizedAttached.call()},f=function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)};f(l,"scroll",function(){(t.offsetWidth>s||t.offsetHeight>a)&&d(),h()}),f(c,"scroll",function(){(t.offsetWidth<s||t.offsetHeight<a)&&d(),h()})}if("[object Array]"===Object.prototype.toString.call(t)||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements)for(var i=0,r=t.length;i<r;i++)n(t[i],e);else n(t,e);this.detach=function(){ResizeSensor.detach(t)}},ResizeSensor.detach=function(t){t.resizeSensor&&(t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached)},function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Siema",[],e):"object"==typeof exports?exports.Siema=e():t.Siema=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};return i.m=n,i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),n=function(){function n(t){var e=this;!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.config=n.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.startIndex,this.transformProperty=n.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler"].forEach(function(t){e[t]=e[t].bind(e)}),this.init()}return r(n,[{key:"init",value:function(){if(window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler)),null===this.selector)throw new Error("Something wrong with your selector \ud83d\ude2d");this.resolveSlidesNumber(),this.selector.style.overflow="hidden",this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var t=document.createDocumentFragment(),e=0;e<this.innerElements.length;e++){var n=document.createElement("div");n.style.cssFloat="left",n.style["float"]="left",n.style.width=100/this.innerElements.length+"%",n.appendChild(this.innerElements[e]),t.appendChild(n)}this.sliderFrame.appendChild(t),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent(),this.config.onInit.call(this)}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===i(this.config.perPage))for(var t in this.perPage=1,this.config.perPage)window.innerWidth>=t&&(this.perPage=this.config.perPage[t])}},{key:"prev",value:function(t,e){var n=0<arguments.length&&void 0!==t?arguments[0]:1,i=e;if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;0===this.currentSlide&&this.config.loop?this.currentSlide=this.innerElements.length-this.perPage:this.currentSlide=Math.max(this.currentSlide-n,0),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),i&&i.call(this))}}},{key:"next",value:function(t,e){var n=0<arguments.length&&void 0!==t?arguments[0]:1,i=e;if(!(this.innerElements.length<=this.perPage)){var r=this.currentSlide;this.currentSlide===this.innerElements.length-this.perPage&&this.config.loop?this.currentSlide=0:this.currentSlide=Math.min(this.currentSlide+n,this.innerElements.length-this.perPage),r!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),i&&i.call(this))}}},{key:"goTo",value:function(t,e){this.innerElements.length<=this.perPage||(this.currentSlide=Math.min(Math.max(t,0),this.innerElements.length-this.perPage),this.slideToCurrent(),e&&e.call(this))}},{key:"slideToCurrent",value:function(){this.sliderFrame.style[this.transformProperty]="translate3d(-"+this.currentSlide*(this.selectorWidth/this.perPage)+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var t=this.drag.endX-this.drag.startX,e=Math.abs(t),n=Math.ceil(e/(this.selectorWidth/this.perPage));0<t&&e>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(n):t<0&&e>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(n),this.slideToCurrent()}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.slideToCurrent()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null}}},{key:"touchstartHandler",value:function(t){t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.touches[0].pageX,this.drag.startY=t.touches[0].pageY}},{key:"touchendHandler",value:function(t){t.stopPropagation(),this.pointerDown=!1,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(t){t.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-t.touches[0].pageY)<Math.abs(this.drag.startX-t.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(this.drag.endX=t.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mousedownHandler",value:function(t){t.preventDefault(),t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.pageX}},{key:"mouseupHandler",value:function(t){t.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(t){t.preventDefault(),this.pointerDown&&(this.drag.endX=t.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mouseleaveHandler",value:function(t){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=t.pageX,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.updateAfterDrag(),this.clearDrag())}},{key:"updateFrame",value:function(){this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var t=document.createDocumentFragment(),e=0;e<this.innerElements.length;e++){var n=document.createElement("div");n.style.cssFloat="left",n.style["float"]="left",n.style.width=100/this.innerElements.length+"%",n.appendChild(this.innerElements[e]),t.appendChild(n)}this.sliderFrame.appendChild(t),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"remove",value:function(t,e){if(t<0||t>this.innerElements.length)throw new Error("Item to remove doesn't exist \ud83d\ude2d");this.innerElements.splice(t,1),this.currentSlide=t<this.currentSlide?this.currentSlide-1:this.currentSlide,this.updateFrame(),e&&e.call(this)}},{key:"insert",value:function(t,e,n){if(e<0||e>this.innerElements.length+1)throw new Error("Unable to inset it at this index \ud83d\ude2d");if(-1!==this.innerElements.indexOf(t))throw new Error("The same item in a carousel? Really? Nope \ud83d\ude2d");this.innerElements.splice(e,0,t),this.currentSlide=e<=this.currentSlide?this.currentSlide+1:this.currentSlide,this.updateFrame(),n&&n.call(this)}},{key:"prepend",value:function(t,e){this.insert(t,0),e&&e.call(this)}},{key:"append",value:function(t,e){this.insert(t,this.innerElements.length+1),e&&e.call(this)}},{key:"destroy",value:function(t,e){var n=0<arguments.length&&void 0!==t&&arguments[0],i=e;if(window.removeEventListener("resize",this.resizeHandler),this.selector.style.cursor="auto",this.selector.removeEventListener(
"touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),n){for(var r=document.createDocumentFragment(),o=0;o<this.innerElements.length;o++)r.appendChild(this.innerElements[o]);this.selector.innerHTML="",this.selector.appendChild(r),this.selector.removeAttribute("style")}i&&i.call(this)}}],[{key:"mergeSettings",value:function(t){var e={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,threshold:20,loop:!1,onInit:function(){},onChange:function(){}},n=t;for(var i in n)e[i]=n[i];return e}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),n}();e["default"]=n,t.exports=e["default"]}])}),function(t){var e=function(i,c){"use strict";if(c.getElementsByClassName){var h,d,n,r,e,o,s,a,t,f=c.documentElement,l=i.Date,u=i.HTMLPictureElement,p=i.addEventListener,g=i.setTimeout,m=i.requestAnimationFrame||g,v=i.requestIdleCallback,y=/^picture$/i,_=["load","error","lazyincluded","_lazyloaded"],w={},b=Array.prototype.forEach,x=function(t,e){return w[e]||(w[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),w[e].test(t.getAttribute("class")||"")&&w[e]},C=function(t,e){x(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},S=function(t,e){var n;(n=x(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},T=function(e,n,t){var i=t?"addEventListener":"removeEventListener";t&&T(e,n),_.forEach(function(t){e[i](t,n)})},E=function(t,e,n,i,r){var o=c.createEvent("CustomEvent");return n||(n={}),n.instance=h,o.initCustomEvent(e,!i,!r,n),t.dispatchEvent(o),o},k=function(t,e){var n;!u&&(n=i.picturefill||d.pf)?n({reevaluate:!0,elements:[t]}):e&&e.src&&(t.src=e.src)},A=function(t,e){return(getComputedStyle(t,null)||{})[e]},P=function(t,e,n){for(n=n||t.offsetWidth;n<d.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},I=(o=[],s=e=[],a=function(){var t=s;for(s=e.length?o:e,r=!(n=!0);t.length;)t.shift()();n=!1},(t=function(t,e){n&&!e?t.apply(this,arguments):(s.push(t),r||(r=!0,(c.hidden?g:m)(a)))})._lsFlush=a,t),L=function(n,t){return t?function(){I(n)}:function(){var t=this,e=arguments;I(function(){n.apply(t,e)})}},M=function(t){var e,n,i=function(){e=null,t()},r=function(){var t=l.now()-n;t<99?g(r,99-t):(v||i)(i)};return function(){n=l.now(),e||(e=g(r,99))}};!function(){var t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in d=i.lazySizesConfig||i.lazysizesConfig||{},e)t in d||(d[t]=e[t]);i.lazySizesConfig=d,g(function(){d.init&&Ct()})}();var z,N,O,D,q,R,F,H,j,B,W,V,U,X,$,Y,G,Z,J,K,Q,tt,et,nt,it,rt,ot,st,at,lt,ut,ct,ht,dt,ft,pt,gt,mt,vt,yt,_t,wt,bt=(tt=/^img$/i,et=/^iframe$/i,nt="onscroll"in i&&!/glebot/.test(navigator.userAgent),ot=-1,st=function(t){rt--,t&&t.target&&T(t.target,st),(!t||rt<0||!t.target)&&(rt=0)},at=function(t,e){var n,i=t,r="hidden"==A(c.body,"visibility")||"hidden"!=A(t,"visibility");for(H-=e,W+=e,j-=e,B+=e;r&&(i=i.offsetParent)&&i!=c.body&&i!=f;)(r=0<(A(i,"opacity")||1))&&"visible"!=A(i,"overflow")&&(n=i.getBoundingClientRect(),r=B>n.left&&j<n.right&&W>n.top-1&&H<n.bottom+1);return r},$=lt=function(){var t,e,n,i,r,o,s,a,l,u=h.elements;if((D=d.loadMode)&&rt<8&&(t=u.length)){e=0,ot++,null==U&&("expand"in d||(d.expand=500<f.clientHeight&&500<f.clientWidth?500:370),V=d.expand,U=V*d.expFactor),it<U&&rt<1&&2<ot&&2<D&&!c.hidden?(it=U,ot=0):it=1<D&&1<ot&&rt<6?V:0;for(;e<t;e++)if(u[e]&&!u[e]._lazyRace)if(nt)if((a=u[e].getAttribute("data-expand"))&&(o=1*a)||(o=it),l!==o&&(R=innerWidth+o*X,F=innerHeight+o,s=-1*o,l=o),n=u[e].getBoundingClientRect(),(W=n.bottom)>=s&&(H=n.top)<=F&&(B=n.right)>=s*X&&(j=n.left)<=R&&(W||B||j||H)&&(d.loadHidden||"hidden"!=A(u[e],"visibility"))&&(N&&rt<3&&!a&&(D<3||ot<4)||at(u[e],o))){if(gt(u[e]),r=!0,9<rt)break}else!r&&N&&!i&&rt<4&&ot<4&&2<D&&(z[0]||d.preloadAfterLoad)&&(z[0]||!a&&(W||B||j||H||"auto"!=u[e].getAttribute(d.sizesAttr)))&&(i=z[0]||u[e]);else gt(u[e]);i&&!r&&gt(i)}},G=rt=it=0,Z=d.throttleDelay,J=d.ricTimeout,K=function(){Y=!1,G=l.now(),$()},Q=v&&49<J?function(){v(K,{timeout:J}),J!==d.ricTimeout&&(J=d.ricTimeout)}:L(function(){g(K)},!0),ut=function(t){var e;(t=!0===t)&&(J=33),Y||(Y=!0,(e=Z-(l.now()-G))<0&&(e=0),t||e<9?Q():g(Q,e))},ht=L(ct=function(t){C(t.target,d.loadedClass),S(t.target,d.loadingClass),T(t.target,dt),E(t.target,"lazyloaded")}),dt=function(t){ht({target:t.target})},ft=function(t){var e,n=t.getAttribute(d.srcsetAttr);(e=d.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},pt=L(function(t,e,n,i,r){var o,s,a,l,u,c;(u=E(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?C(t,d.autosizesClass):t.setAttribute("sizes",i)),s=t.getAttribute(d.srcsetAttr),o=t.getAttribute(d.srcAttr),r&&(l=(a=t.parentNode)&&y.test(a.nodeName||"")),c=e.firesLoad||"src"in t&&(s||o||l),u={target:t},c&&(T(t,st,!0),clearTimeout(O),O=g(st,2500),C(t,d.loadingClass),T(t,dt,!0)),l&&b.call(a.getElementsByTagName("source"),ft),s?t.setAttribute("srcset",s):o&&!l&&(et.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}}(t,o):t.src=o),r&&(s||l)&&k(t,{src:o})),t._lazyRace&&delete t._lazyRace,S(t,d.lazyClass),I(function(){(!c||t.complete&&1<t.naturalWidth)&&(c?st(u):rt--,ct(u))},!0)}),mt=function(){if(!N)if(l.now()-q<999)g(mt,999);else{var t=M(function(){d.loadMode=3,ut()});N=!0,d.loadMode=3,ut(),p("scroll",function(){3==d.loadMode&&(d.loadMode=2),t()},!0)}},{_:function(){q=l.now(),h.elements=c.getElementsByClassName(d.lazyClass),z=c.getElementsByClassName(d.lazyClass+" "+d.preloadClass),X=d.hFac,p("scroll",ut,!0),p("resize",ut,!0),i.MutationObserver?new MutationObserver(ut).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f.addEventListener("DOMNodeInserted",ut,!0),f.addEventListener("DOMAttrModified",ut,!0),setInterval(ut,999)),p("hashchange",ut,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){c.addEventListener(t,ut,!0)}),/d$|^c/.test(c.readyState)?mt():(p("load",mt),c.addEventListener("DOMContentLoaded",ut),g(mt,2e4)),h.elements.length?(lt(),I._lsFlush()):ut()},checkElems:ut,unveil:gt=function(t){var e,n=tt.test(t.nodeName),i=n&&(t.getAttribute(d.sizesAttr)||t.getAttribute("sizes")),r="auto"==i;(!r&&N||!n||!t.getAttribute("src")&&!t.srcset||t.complete||x(t,d.errorClass)||!x(t,d.lazyClass))&&(e=E(t,"lazyunveilread").detail,r&&xt.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,rt++,pt(t,e,r,i,n))}}),xt=(yt=L(function(t,e,n,i){var r,o,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),y.test(e.nodeName||""))for(o=0,s=(r=e.getElementsByTagName("source")).length;o<s;o++)r[o].setAttribute("sizes",i);n.detail.dataAttr||k(t,n.detail)}),_t=function(t,e,n){var i,r=t.parentNode;r&&(n=P(t,r,n),(i=E(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&yt(t,r,i,n))},{_:function(){vt=c.getElementsByClassName(d.autosizesClass),p("resize",wt)},checkElems:wt=M(function(){var t,e=vt.length;if(e)for(t=0;t<e;t++)_t(vt[t])}),updateElem:_t}),Ct=function(){Ct.i||(Ct.i=!0,xt._(),bt._())};return h={cfg:d,autoSizer:xt,loader:bt,init:Ct,uP:k,aC:C,rC:S,hC:x,fire:E,gW:P,rAF:I}}}(t,t.document);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}(window),function(t,r){"use strict";function o(t,e){if(!l[t]){var n=r.createElement(e?"link":"script"),i=r.getElementsByTagName("script")[0];e?(n.rel="stylesheet",n.href=t):n.src=t,l[t]=!0,l[n.src||n.href]=!0,i.parentNode.insertBefore(n,i)}}var s,a,l={};r.addEventListener&&(s=function(t,e){var n=r.createElement("img");n.onload=function(){n.onload=null,n.onerror=null,n=null,e()},n.onerror=n.onload,n.src=t,n&&n.complete&&n.onload&&n.onload()},addEventListener("lazybeforeunveil",function(t){var e,n,i;t.defaultPrevented||("none"==t.target.preload&&(t.target.preload="auto"),(e=t.target.getAttribute("data-link"))&&o(e,!0),(e=t.target.getAttribute("data-script"))&&o(e),(e=t.target.getAttribute("data-require"))&&(lazySizes.cfg.requireJs?lazySizes.cfg.requireJs([e]):o(e)),(n=t.target.getAttribute("data-bg"))&&(t.detail.firesLoad=!0,s(n,function(){t.target.style.backgroundImage="url("+(a.test(n)?JSON.stringify(n):n)+")",t.detail.firesLoad=!1,lazySizes.fire(t.target,"_lazyloaded",{},!0,!0)})),(i=t.target.getAttribute("data-poster"))&&(t.detail.firesLoad=!0,s(i,function(){t.target.poster=i,t.detail.firesLoad=!1,lazySizes.fire(t.target,"_lazyloaded",{},!0,!0)})))},!(a=/\(|\)|\s|'/)))}(window,document),function(h,x){"use strict";function t(){void 0!==paper&&h.querySelectorAll(".paper--patterns").forEach(function(t){var e=t.querySelector("canvas"),n=x[t.getAttribute("data-elements")],i=new paper.PaperScope;i.setup(e),i.view.viewSize.width=e.clientWidth,i.view.viewSize.height=e.clientHeight;var r,o=new i.Tool,s=!1,a=!1,l="desktop",u={},c={x:0,y:0,limit:.2,speed:15e-5,onmove:!1},h={min:40,max:-40,speed:.002,angle:0,direction:1},d={deltaX:0,deltaY:0},f=function(){if(!1===a){h.angle>h.min?h.direction=-1:h.angle<h.max&&(h.direction=1),h.angle+=h.direction;for(var t=0,e=r.children.length;t<e;t++)r.children[t].position.y+=h.angle*h.speed*(t+1)}},p=function(t,e){return void 0!==e&&(t={x:t,y:e}),new i.Point(t.x,t.y)},g=function(t){return{x:u.x+t[l].x,y:u.y+t[l].y}},m=function(t){return p(g(t))},v=function(){!1===s&&(s=!0,i.view.onFrame=null,i.project.activeLayer.removeChildren(),l=x.innerWidth<992?"mobile":"desktop",r=new i.Group,u=i.view.center,r.position=i.view.center,w(),s=!1)},y=function(t){clearTimeout(c.onmove),c.x=t.x,c.y=t.y,!0!==C&&function(){if(!1===a&&void 0!==r&&void 0!==r.children)for(var t=0,e=r.children.length;t<e;t++)d.deltaX=r.children[t].position.x+(c.x-u.x)*((t+1)*c.speed),d.deltaX>r.children[t].limits.x.min&&d.deltaX<r.children[t].limits.x.max&&(r.children[t].position.x=d.deltaX),d.deltaY=r.children[t].position.y+(c.y-u.y)*((t+1)*c.speed),d.deltaY>r.children[t].limits.y.min&&d.deltaY<r.children[t].limits.y.max&&(r.children[t].position.y=d.deltaY)}(),c.onmove=setTimeout(function(){c.onmove=!1},100)},_={triangle:function(t,e){(e=new i.Path.RegularPolygon(m(t),3,t[l].size)).strokeColor=t.strokeColor,e.strokeWidth=t.strokeWidth,e.blendMode=t.blendMode||"normal",e.rotate(t.rotate||0),r.addChild(e)},circle:function(t,e){(e=new i.Path.Circle(m(t),t[l].size)).strokeColor=t.strokeColor,e.strokeWidth=t.strokeWidth,e.blendMode=t.blendMode||"normal",r.addChild(e)},wave:function(t,e,n){(n=g(t)).a=t[l].size,n.b=Math.floor(.5*n.a),n.c=Math.floor(.5*n.b),(e=new i.Path).strokeColor=t.strokeColor,e.strokeWidth=t.strokeWidth,e.blendMode=t.blendMode||"normal",e.add(p(n.x-n.a,n.y)),e.add(p(n.x-n.a,n.y)),e.add(p(n.x-n.b,n.y+n.c)),e.add(p(n.x,n.y)),e.add(p(n.x+n.b,n.y+n.c)),e.add(p(n.x+n.a,n.y)),e.smooth({type:"catmull-rom",factor:.5}),e.rotate(t.rotate||0),r.addChild(e)},raster:function(t,e){(e=new i.Raster({source:t.src,position:m(t)})).blendMode=t.blendMode||"normal",e.on("load",function(){e.setHeight(e.height+1),e.setHeight(e.height-1),e.scale(t[l].scale||.5),e.rotate(t.rotate||0)}),r.addChild(e)}},w=function(){for(var t=0,e=n.length;t<e;t++)_[n[t].type]&&_[n[t].type](n[t]);!function(t){for(var e=0,n=r.children.length;e<n;e++)t=(r.children[e].index+1)/c.limit,r.children[e].limits={x:{min:r.children[e].position.x-t,max:r.children[e].position.x+t},y:{min:r.children[e].position.y-t,max:r.children[e].position.y+t}};i.view.onFrame=!0!==C?f:null}()};v();var b=0;i.view.onResize=function(){i.activate(),i.view._needsUpdate=!0,i.view.update(),v(),classie.add(t,"resizing"),clearTimeout(b),b=setTimeout(function(){classie.remove(t,"resizing")},500)},x.addEventListener("scroll",function(){clearTimeout(a),a=setTimeout(function(){a=!1},25)},!1),o.onMouseMove=function(t){y(t.lastPoint)}})}function e(){void 0!==paper&&"undefined"!=typeof animatePaper&&h.querySelectorAll(".paper--gooey").forEach(function(t){var e=t.querySelector("canvas"),h=[].concat(x[t.getAttribute("data-elements")]),_=new paper.PaperScope;_.setup(e),_.view.viewSize.width=e.clientWidth,_.view.viewSize.height=e.clientHeight;var n=new _.Tool,d=!1,f="desktop",w=new _.Point(-1e3,-1e3),b=[],i=function(){if(!1===d){d=!0,_.view.onFrame=null,_.project.activeLayer.removeChildren(),f=x.innerWidth<992?"mobile":"desktop",b=[];for(var t=0,e=h.length;t<e;t++){var n=Object.assign({},h[t]),i={center:{x:_.view.center.x+n[f].center.x,y:_.view.center.y+n[f].center.y}},r=Object.assign({radius:100,center:{x:0,y:0},fillColor:"#00000"},n[f],i);n.mesh=r;var o=!1;"mask"===n.type&&((o=new _.Raster({source:n.src,position:r.center})).opacity=0,o.on("load",function(){animatePaper.animate(o,{properties:{opacity:1},settings:{duration:n.fadeIn||2e3,easing:"easeInOutCirc",complete:function(){}}})}));var s=new _.Path.Circle(r);n.flatten&&(s.flatten(n.flatten),s.smooth({type:"asymmetric"}));for(var a=r.radius/200,l=[],u=0;u<s.segments.length;u++)l.push({relativeX:s.segments[u].point.x-r.center.x,relativeY:s.segments[u].point.y-r.center.y,offsetX:a,offsetY:a,momentum:new _.Point(0,0)});if(n.settings=l,n.threshold=1.4*r.radius,n.circlePath=s,n.group=new _.Group([s]),n.controlCircle=s.clone(),n.rotationMultiplicator=a,n.controlCircle.fullySelected=!1,(n.controlCircle.visible=!1)!==o){var c=new _.Group([n.group,o]);c.clipped=!0,n.mask=o,n.maskGroup=c}s.opacity=0,animatePaper.animate(s,{properties:{opacity:1},settings:{duration:n.fadeIn||2e3,easing:"easeInOutCirc",complete:function(){}}}),b.push(n)}!0!==C&&(_.view.onFrame=function(t){p(t)}),d=!1}},p=function(t){for(var e=0,n=b.length;e<n;e++){var i=b[e],r=i.mesh;i.group.rotate(-.2,r.center);for(var o=0;o<i.circlePath.segments.length;o++){var s=i.circlePath.segments[o],a=i.settings[o],l=i.controlCircle.segments[o].point,u=w.subtract(l),c=w.getDistance(l),h=0;c<i.threshold&&(h=.15*(c-i.threshold));var d=new _.Point(0,0);0!==c&&(d=new _.Point(u.x/c*h,u.y/c*h));var f=l.add(d),p=s.point.subtract(f);a.momentum=a.momentum.subtract(p.divide(6)),a.momentum=a.momentum.multiply(.6);var g=a.offsetX,m=a.offsetY,v=Math.sin(t.time+4*o),y=Math.cos(t.time+4*o);a.momentum=a.momentum.add(new _.Point(y*-g,v*-m)),s.point=s.point.add(a.momentum)}}};i(),_.view.onResize=function(){_.activate(),_.view._needsUpdate=!0,_.view.update(),i()},x.addEventListener("scroll",function(){clearTimeout(self.pageScrolling),self.pageScrolling=setTimeout(function(){self.pageScrolling=!1},25)},!1),n.onMouseMove=function(t){w=t.lastPoint}})}function n(){void 0!==paper&&h.querySelectorAll(".paper--stars").forEach(function(t){var e=t.querySelector("canvas"),s=x[t.getAttribute("data-elements")],u=new paper.PaperScope;u.setup(e),u.view.viewSize.width=e.clientWidth,u.view.viewSize.height=e.clientHeight;var n=new u.Tool,i=new u.Point(u.view.center.x,u.view.center.y+100),r=u.view.center,o=function(){r=new u.Point(r.x+(i.x-r.x)/10,r.y+(i.y-r.y)/10);var t=new u.Point((u.view.center.x-r.x)/10,(u.view.center.y-r.y)/10);a(t)},a=new function(){function a(t){var e=t.position,n=u.view.bounds;if(!e.isInside(n)){var i=t.bounds;e.x>n.width+5&&(e.x=-t.bounds.width),e.x<-i.width-5&&(e.x=n.width),e.y>n.height+5&&(e.y=-i.height),e.y<-i.height-5&&(e.y=n.height)}}for(var l=s.count||50,t=new u.Path.Circle({center:[0,0],radius:s.radius||4,fillColor:s.fillColor||"black"}),e=new u.Symbol(t),n=0;n<l;n++){var i=u.Point.random(),r=new u.Point(i.x*u.view.size.width,i.y*u.view.size.height),o=e.place(r);o.scale(n/l+.01),o.data={vector:new u.Point({angle:360*Math.random(),length:n/l*Math.random()/5})}}return new u.Point({angle:45,length:0}),function(t){for(var e=u.project.activeLayer,n=0;n<l;n++){var i=e.children[n],r=i.bounds.size,o=t.length/10*r.width/10,s=t.normalize(o);i.position=new u.Point(i.position.x+s.x+i.data.vector.x,i.position.y+s.y+i.data.vector.y),a(i)}}};o(),!(u.view.onFrame=null)!==C&&(n.onMouseMove=function(t){i=t.lastPoint},u.view.onFrame=o)})}function i(){function t(s){function a(t){!1===t&&(u.selector.style.height=Math.ceil(u.innerElements[u.currentSlide].clientHeight)+"px")}function l(t){var e=(u=u||this).innerElements[u.currentSlide].querySelector(".dashed");"init"!==t&&0<u.copies.length&&500!==u.config.duration&&!0!==u.fistCopyDelaySet&&(u.copies[0].style.animationDelay=u.config.duration+"ms",u.fistCopyDelaySet=!0),u.lastSlide>u.currentSlide?classie.add(s,"carousel--reverse"):classie.remove(s,"carousel--reverse"),u.lastSlide=u.currentSlide;for(var n=0,i=u.innerElements.length;n<i;n++)classie.remove(u.innerElements[n],"carousel__item--active"),0<u.dotElements.length&&classie.remove(u.dotElements[n],"active"),null!==e&&null!==u.innerElements[n].querySelector(".dashed")&&classie.remove(u.innerElements[n].querySelector(".dashed"),"in-view__child--in");classie.add(u.innerElements[u.currentSlide],"carousel__item--active"),0<u.dotElements.length&&classie.add(u.dotElements[u.currentSlide],"active"),setTimeout(function(){null!==e&&classie.add(e,"in-view__child--in")},u.config.duration),classie.remove(s,"carousel--on-first"),classie.remove(s,"carousel--on-last"),!1===u.config.loop&&0===u.currentSlide&&classie.add(s,"carousel--on-first"),!1===u.config.loop&&u.innerElements.length-1===u.currentSlide&&classie.add(s,"carousel--on-last"),a(!0),"on"===u.config.rotate&&(clearTimeout(u.autoPlayTimeout),u.autoPlayTimeout=setTimeout(function(){!0===u.config.loop?u.next():u.currentSlide>=u.innerElements.length-1?(u.goTo(u.config.startIndex),l("startIndex")):u.next()},u.config.autoplay))}var u=!1,t={selector:s.querySelector(".carousel__frame"),duration:parseInt(s.getAttribute("data-duration"))||100,easing:s.getAttribute("data-easing")||"ease",perPage:1,draggable:!0,threshold:100,autoplay:parseInt(s.getAttribute("data-autoplay"))||1e4,rotate:s.getAttribute("data-rotate")||"on",onInit:function(){(u=u||this).lastSlide=u.currentSlide,u.dotElements=[],u.dots=s.querySelector(".carousel__dots"),u.copies=s.querySelectorAll(".carousel__copy");var t=s.querySelector(".carousel__prev"),e=s.querySelector(".carousel__next"),n=null;if(null!==t&&t.addEventListener("click",function(){u.prev()}),null!==e&&e.addEventListener("click",function(){u.next()}),1<u.copies.length&&500!==u.config.duration)for(var i=1,r=u.copies.length-1;i<r;i++)u.copies[i].style.animationDelay=u.config.duration+"ms";if(null!==u.dots&&!1===u.config.loop)for(i=0,r=u.innerElements.length;i<r;i++){var o=h.createElement("span");(o.slideTarget=i)===u.currentSlide&&classie.add(o,"active"),o.style.transition="all 0.6s "+Math.round(10*(.1*i+.2))/10+"s cubic-bezier(0.68, -1, 0.27, 2)",u.dotElements.push(o),u.dots.appendChild(o),o.addEventListener("click",function(){u.goTo(this.slideTarget),l("dot")})}x.addEventListener("resize",function(){classie.add(s,"carousel--resizing"),clearTimeout(n),n=setTimeout(function(){a(!1),classie.remove(s,"carousel--resizing")},200)},!1);for(i=0,r=u.innerElements.length;i<r;i++)u.innerElements[i].resizeSensor=new ResizeSensor(u.innerElements[i],function(){a(!1)});l("init"),classie.add(s,"carousel--init")},onChange:l};s.siema=new Siema(t)}var e=h.querySelectorAll(".carousel");if(0!==e.length&&"undefined"!=typeof Siema)for(var n=0,i=e.length;n<i;n++)t(e[n])}function r(){var t=h.querySelectorAll('a[href^="#"]:not([href="#"])');if(0!==t.length&&void 0!==animateScrollTo)for(var e=0,n=t.length;e<n;e++)t[e].addEventListener("click",function(t){null!==(t=h.querySelector(this.hash))&&animateScrollTo(t.getBoundingClientRect().top+window.pageYOffset||0,{cancelOnUserAction:!1})},!1)}function o(){function t(){!1===s.opened&&(classie.add(h.documentElement,s.classes.active),setTimeout(function(){classie.add(h.documentElement,s.classes.display),s.opened=!0},50))}function o(){!0===s.opened&&(classie.remove(h.documentElement,s.classes.display),setTimeout(function(){classie.remove(h.documentElement,s.classes.active),s.opened=!1},300))}var s={opened:!1,trigger:h.querySelectorAll(".side-menu-trigger"),swipeable:h.querySelectorAll(".side-menu-swipeable"),sidemenu:h.querySelector(".site-sidenav__elements"),overlay:h.querySelector(".site-sidenav__overlay"),sidemenuitems:h.querySelectorAll(".site-sidenav__elements a"),classes:{active:"side-menu",display:"side-menu--display",avoid:"side-menu-trigger"}};if(null!==s.sidemenu){if(0<s.swipeable.length&&function(){if("undefined"!=typeof Hammer)for(var t=0,e=s.swipeable.length;t<e;t++){var n=0,i=s.sidemenu.clientWidth,r=new Hammer(s.swipeable[t]);r.on("panstart",function(){classie.add(h.documentElement,"side-menu--panning")}),r.on("swipeleft",o),r.on("panright panleft",function(t){0<(n+=4===t.direction?Math.round(Math.max(3,t.velocity)):Math.round(Math.min(-3,t.velocity)))&&(n=0),Math.abs(n)>i&&(n=-1*i),s.overlay.style.opacity=1+1*n/i,s.sidemenu.style.webkitTransform="translateX("+n+"px)",s.sidemenu.style.transform="translateX("+n+"px)"}),r.on("panend pancancel",function(){classie.remove(h.documentElement,"side-menu--panning"),Math.abs(n)>.5*i&&o(),s.overlay.style.opacity="",s.sidemenu.style.webkitTransform="",s.sidemenu.style.transform="",n=0})}}(),h.addEventListener("click",function(t){!0===s.opened&&t.pageX>s.sidemenu.clientWidth&&!1===classie.has(t.target,s.classes.avoid)&&o()},!1),null!==s.sidemenuitems&&0<s.sidemenuitems.length)for(var e=0,n=s.sidemenuitems.length;e<n;e++)s.sidemenuitems[e].addEventListener("click",o,!1);if(null!==s.trigger&&0<s.trigger.length)for(e=0,n=s.trigger.length;e<n;e++)s.trigger[e].addEventListener("click",t,!1)}}function s(t){function i(t,e,n){setTimeout(function(){classie.add(t,e)},n)}if(null!==typeof(t=h.getElementsByClassName("in-view"))&&0!==t.length&&"undefined"!=typeof Waypoint)for(var e="80%",r=200,o={child:"in-view__child",scope_in:"in-view--in",child_in:"in-view__child--in"},n=0,s=t.length;n<s;n++)new Waypoint({element:t[n],handler:function(){var t=this.element.getElementsByClassName(o.child);if(0<t.length)for(var e=0,n=t.length;e<n;e++)i(t[e],o.child_in,r*(e+1));i(this.element,o.scope_in,0),this.destroy()},offset:t[n].getAttribute("data-offset")||e})}function a(t){null!==(t=h.getElementById("masthead"))&&null!==typeof t&&0!==t.length&&"undefined"!=typeof Headroom&&new Headroom(t,{offset:t.clientHeight||120}).init()}function l(t){null!==(t=h.getElementById("up"))&&"undefined"!=typeof Headroom&&new Headroom(t,{offset:x.innerHeight}).init()}function u(t){function o(t,e,n,i){if(!0!==classie.has(t,"tabs__nav--active")&&null!==(i=e.querySelector('.tabs__item[data-tab="'+t.getAttribute("data-tab")+'"]'))&&0!==i.length){for(var r=0,o=n.length;r<o;r++)classie.remove(n[r],"tabs__nav--active"),classie.remove(n[r],"tabs__item--active"),n[r].setAttribute("tabindex","-1"),n[r].setAttribute("aria-selected","false");classie.add(t,"tabs__nav--active"),t.setAttribute("tabindex","0"),t.setAttribute("aria-selected","true"),classie.add(i,"tabs__item--active"),i.setAttribute("tabindex","0"),i.setAttribute("aria-selected","true")}}function e(t,e,n){e=t.querySelectorAll(".tabs__nav"),n=t.querySelectorAll("[data-tab]");for(var i=0,r=e.length;i<r;i++)e[i].addEventListener("click",function(){o(this,t,n)},!1)}if(null!==typeof(t=h.querySelectorAll(".tabs"))&&0!==t.length)for(var n=0,i=t.length;n<i;n++)e(t[n])}function c(t){var e;"undefined"!=typeof Instafeed&&null!==(t=h.getElementById("instafeed"))&&null!==(e=t.getAttribute("data-config"))&&void 0!==x[e]&&void 0!==x[e].userId&&void 0!==x[e].accessToken&&new Instafeed({get:"user",userId:x[e].userId,accessToken:x[e].accessToken,limit:x[e].limit||6,resolution:x[e].resolution||"standard_resolution",template:'<figure class="instagram-feed__item lazyload--el lazyload" data-bg="{{image}}"></figure>',error:function(t){console.warn("Instagram feed warning:",t)},success:function(){}}).run()}function d(t){function e(t){setTimeout(function(){t.layout()},0)}if(null!==typeof(t=h.querySelectorAll(".masonry"))&&0!==t.length&&"undefined"!=typeof Masonry)for(var n=0,i=t.length;n<i;n++){var r=new Masonry(t[n],{itemSelector:".masonry-item",columnWidth:".masonry-item",horizontalOrder:!0,percentPosition:!0});r.once("layoutComplete",function(t,e,n,i){n=t[e=0].layout.cols,i={offset:"80%",delay:200,classes:{scope_in:"indexed-list__in-view--in"}};for(var r=0,o=t.length;r<o;r++)t[r].element.inViewDelay=e*i.delay,++e===n&&(e=0),new Waypoint({element:t[r].element,handler:function(){var t,e,n;t=this.element.querySelector(".indexed-list__in-view"),e=i.classes.scope_in,n=this.element.inViewDelay,setTimeout(function(){classie.add(t,e)},n),this.destroy()},offset:i.offset})}),e(r)}}function f(t){null!==typeof(t=h.querySelectorAll(".video-popup"))&&0!==t.length&&"undefined"!=typeof MediaBox&&MediaBox(".video-popup")}function p(t){function e(t,e){for(var n=0,i=e.length;n<i;n++){var r=h.createElement("source");t.appendChild(r),r.src=e[n]}t.removeAttribute("data-sources"),t.load()}if(null!==typeof(t=h.querySelectorAll("[data-sources]"))&&0!==t.length)for(var n=0,i=t.length;n<i;n++)try{var r=t[n].getAttribute("data-sources").split("|");if(0===r.length)continue;e(t[n],r)}catch(h){console.warn(h)}}function g(t,e){null!==(t=h.getElementById("mc-embedded-subscribe-form"))&&null!==typeof t&&0!==t.length&&((e=h.createElement("script")).type="text/javascript",e.src="https://s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js",h.head.appendChild(e),e.onload=function(){x.fnames=["EMAIL","FNAME"],x.ftypes=["email","text"],x.$mcj=jQuery.noConflict(!0)})}function m(t){function e(s){function t(){var t=(new Date).getTime(),e=l-t;if(e<0)return clearInterval(u),void console.warn("Countdown timer is expired!",{element:s,target:a});for(var n={days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3)},i=0,r=c.length;i<r;i++){var o=n[c[i].type];void 0!==o&&(c[i].count.innerText=o<c[i].max?(c[i]["default"]+o).slice(c[i].length):o)}}var a=s.getAttribute("data-count");if(void 0!==a){var l=new Date(a).getTime();if(!0!==isNaN(l)&&!0!==isNaN(l-0)){for(var u,c=[],e=s.querySelectorAll(".countdown__el"),n=0,i=e.length;n<i;n++){var r=e[n].getAttribute("data-display");if(void 0!==r){var o=e[n].querySelector(".countdown__count");if(null!==o){var h=o.innerText||"00";c.push({type:r,count:o,"default":h,length:-1*h.length,max:1*Array(h.length+1).join("9")})}}}t(),u=setInterval(t,1e3)}}}if(null!==typeof(t=h.querySelectorAll(".countdown"))&&0!==t.length)for(var n=0,i=t.length;n<i;n++)e(t[n])}function v(){var t=h.querySelectorAll(".google-map");if(0!==t.length){var c={silver:[{elementType:"geometry",stylers:[{color:"#efefef"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#32353a"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"},{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#92959a"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#32353a"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#acb1bc"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],dark:[{elementType:"geometry",stylers:[{color:"#32353a"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#72757a"}]},{elementType:"labels.text.stroke",stylers:[{color:"#37393c"},{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#72757a"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#92959a"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#b2b5ba"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#72757a"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#22252a"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#62656a"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#22252a"},{visibility:"off"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2f35"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#82858a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#37393c"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#52555a"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#75757a"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#12151a"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#32353a"}]}]};if(x.initMap=function(){t.forEach(function(t){return n=(e=t).getAttribute("data-theme"),i=e.getAttribute("data-address"),r=e.getAttribute("data-zoom")||15,o="false"!==e.getAttribute("data-marker"),s="true"===e.getAttribute("data-scrollwheel"),a=JSON.parse(e.getAttribute("data-icon"))||{url:"assets/media/map-marker.svg",size:{width:72,height:72}},l=JSON.parse(e.getAttribute("data-location")),u=function(){var t=new google.maps.Map(e,{scrollwheel:s,center:l,zoom:parseInt(r),styles:void 0!==c[n]?c[n]:[]});!0===o&&new google.maps.Marker({map:t,animation:google.maps.Animation.DROP,position:l,draggable:!1,optimized:!1,icon:{url:a.url,scaledSize:new google.maps.Size(a.size.width,a.size.height)}})},void(null===l?(new google.maps.Geocoder).geocode({address:i},function(t,e){e==google.maps.GeocoderStatus.OK&&(l=t[0].geometry.location,setTimeout(u,0))}):setTimeout(u,0));var e,n,i,r,o,s,a,l,u})},"undefined"==typeof google){var e=h.createElement("script");e.async=!0,e.defer=!0,e.src="https://maps.googleapis.com/maps/api/js?key="+t[0].getAttribute("data-key")+"&callback=initMap",h.head.appendChild(e)}}}function y(){var t=h.querySelectorAll(".alert .close");0!==t.length&&t.forEach(function(t){return t.addEventListener("click",function(){return classie.add(t.closest(".alert"),"sr-only")},!1)})}function _(){var t=h.querySelectorAll(".accordion");if(0!==t.length){var e=function(t){var i=t.querySelectorAll(".accordion__card");t.querySelectorAll(".accordion__header label").forEach(function(n){return n.addEventListener("click",function(){return t=n.closest(".accordion__card"),e=classie.has(t,"accordion__card--collapse"),i.forEach(function(t){return classie.add(t,"accordion__card--collapse")}),void(!0===e&&classie.remove(t,"accordion__card--collapse"));var t,e},!1)})};t.forEach(function(t){return e(t)})}}var C=("undefined"!==IS_TOUCH_DEVICE&&IS_TOUCH_DEVICE,!1),w=!1;try{-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(x.navigator.platform)&&(w=!0)}catch(h){}var b=!1;try{b=!!window.chrome&&!!window.chrome.webstore}catch(h){}x.addEventListener("load",function(){classie.add(h.documentElement,"loaded")}),!0===C&&classie.add(h.documentElement,"is-touch"),!0===w&&classie.add(h.documentElement,"is-mac"),!0===b&&classie.add(h.documentElement,"is-chrome"),setTimeout(t,0),setTimeout(e,0),setTimeout(n,0),setTimeout(i,0),setTimeout(r,0),setTimeout(o,0),setTimeout(a,0),setTimeout(l,0),setTimeout(u,0),setTimeout(d,0),setTimeout(f,0),setTimeout(g,0),setTimeout(c,0),setTimeout(s,0),setTimeout(m,0),setTimeout(v,0),setTimeout(y,0),setTimeout(_,0),setTimeout(p,0)}(document,window),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,
visit:function(t,e){return c.controller.visit(t,e)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(t){return c.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var c=t.Turbolinks;(function(){(function(){var n,i,l,t,e,r,o,s,a,u=[].slice;c.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},c.closest=function(t,e){return n.call(t,e)},n=null!=(a=document.documentElement.closest)?a:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},c.defer=function(t){return setTimeout(t,1)},c.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?u.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},c.dispatch=function(t,e){var n,i,r,o,s,a;return a=(s=null!=e?e:{}).target,n=s.cancelable,i=s.data,(r=document.createEvent("Events")).initEvent(t,!0,!0===n),r.data=null!=i?i:{},r.cancelable&&!l&&(o=r.preventDefault,r.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=a?a:document).dispatchEvent(r),r},(s=document.createEvent("Events")).initEvent("test",!0,!0),s.preventDefault(),l=s.defaultPrevented,c.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(r=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector,c.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){c.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=c.Location.wrap(e).requestURL,this.referrer=c.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};c.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=r(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var n,i,e;return e=c.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=c.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=c.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,r;return this.shouldHandlePopState()&&(r=null!=(n=t.state)?n.turbolinks:void 0)?(e=c.Location.wrap(window.location),i=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return c.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){c.HeadDetails=function(){function t(t){var e,n,i,r,o;for(this.elements={},n=0,r=t.length;n<r;n++)(o=t[n]).nodeType===Node.ELEMENT_NODE&&(i=o.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:a(o),tracked:s(o),elements:[]}).elements.push(o))}var o,e,n,s,a;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,i,r;for(i in e=void 0,r=this.elements)n=r[i].elements,o(n[0],t)&&(e=n[0]);return e},a=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},s=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},o=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){c.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(c.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new c.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(c){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;n<i;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var o=[].slice;c.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,r;return i=t,n=e,(r=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=i,r.render(n),r},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,l;for(a=[],n=0,i=(o=e.attributes).length;n<i;n++)r=(s=o[n]).name,l=s.value,a.push(t.setAttribute(r,l));return a},t}()}.call(this),function(){var a,l,n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.removeChild(t));return r},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],r.push(document.head.appendChild(t));return r},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,i,r,o,s;for(s=[],t=0,e=(o=this.getCurrentBodyPermanentElements()).length;t<e;t++)i=o[t],r=a(i),n=this.newSnapshot.getPermanentElementById(i.id),l(i,r.element),l(n,i),s.push(r);return s},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,i,r,o,s;for(s=[],i=0,r=t.length;i<r;i++)n=(o=t[i]).element,e=o.permanentElement.cloneNode(!0),s.push(l(n,e));return s},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,i=(r=this.getNewBodyScriptElements()).length;e<i;e++)n=r[e],t=this.createScriptElement(n),o.push(l(n,t));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(c.Renderer),a=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},l=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;c.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(c.Renderer)}.call(this),function(){c.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return c.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return c.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),c.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return c.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){c.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],r.push(delete this.snapshots[e]);return r},i=function(t){return c.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=c.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=c.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return c.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=c.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,c.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){
return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return c.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return c.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return c.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return c.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,r,o,s,a;return s=(r=null!=n?n:{}).restorationIdentifier,o=r.restorationData,i=r.historyChanged,(a=new c.Visit(this,t,e)).restorationIdentifier=null!=s?s:c.uuid(),a.restorationData=c.copyObject(o),a.historyChanged=i,a.referrer=this.location,a},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?c.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new c.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=c.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;c.start=function(){return e()?(null==c.controller&&(c.controller=t()),c.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=c),n()},t=function(){var t;return(t=new c.Controller).adapter=new c.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}.call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){function a(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(ft.isFunction(n))return ft.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ft.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(Ct.test(n))return ft.filter(n,t,i);n=ft.filter(n,t)}return ft.grep(t,function(t){return-1<ft.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return ft.each(t.match(It)||[],function(t,e){n[e]=!0}),n}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",o),C.removeEventListener("load",o)):(it.detachEvent("onreadystatechange",o),C.detachEvent("onload",o))}function o(){(it.addEventListener||"load"===C.event.type||"complete"===it.readyState)&&(r(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Nt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:zt.test(n)?ft.parseJSON(n):n)}catch(r){}ft.data(t,e,n)}else n=undefined}return n}function u(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Mt(t)){var r,o,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(i||l[u].data)||n!==undefined||"string"!=typeof e)return u||(u=a?t[s]=nt.pop()||ft.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=ft.extend(l[u],e):l[u].data=ft.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[ft.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[ft.camelCase(e)]):r=o,r}}function s(t,e,n){if(Mt(t)){var i,r,o=t.nodeType,s=o?ft.cache:t,a=o?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){r=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!u(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,u(s[a])))&&(o?ft.cleanData([t],!0):ht.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),u=n&&n[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==u&&+l)&&Ft.exec(ft.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=o=o||".5",ft.style(t,e,c+u),o!==(o=a()/l)&&1!==o&&--s;);return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function m(t){var e=$t.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||ft.nodeName(i,e)?o.push(i):ft.merge(o,v(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],o):o}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function _(t){Wt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,i,r){for(var o,s,a,l,u,c,h,d=t.length,f=m(e),p=[],g=0;g<d;g++)if((s=t[g])||0===s)if("object"===ft.type(s))ft.merge(p,s.nodeType?[s]:s);else if(Gt.test(s)){for(l=l||f.appendChild(e.createElement("div")),u=(Vt.exec(s)||["",""])[1].toLowerCase(),h=Yt[u]||Yt._default,l.innerHTML=h[1]+ft.htmlPrefilter(s)+h[2],o=h[0];o--;)l=l.lastChild;if(!ht.leadingWhitespace&&Xt.test(s)&&p.push(e.createTextNode(Xt.exec(s)[0])),!ht.tbody)for(o=(s="table"!==u||Zt.test(s)?"<table>"!==h[1]||Zt.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)ft.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ft.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else p.push(e.createTextNode(s));for(l&&f.removeChild(l),ht.appendChecked||ft.grep(v(p,"input"),_),g=0;s=p[g++];)if(i&&-1<ft.inArray(s,i))r&&r.push(s);else if(a=ft.contains(s.ownerDocument,s),l=v(f.appendChild(s),"script"),a&&y(l),n)for(o=0;s=l[o++];)Ut.test(s.type||"")&&n.push(s);return l=null,f}function d(){return!0}function f(){return!1}function p(){try{return it.activeElement}catch(t){}}function w(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)w(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=f;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return ft().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,i,n)})}function b(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,r,o=ft._data(t),s=ft._data(e,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,r=a[n].length;i<r;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function E(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[ft.expando]){for(i in(r=ft._data(e)).events)ft.removeEvent(e,i,r.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(x(e).text=t.text,S(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Wt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function k(n,i,r,o){i=ot.apply([],i);var t,e,s,a,l,u,c=0,h=n.length,d=h-1,f=i[0],p=ft.isFunction(f);if(p||1<h&&"string"==typeof f&&!ht.checkClone&&se.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),k(e,i,r,o)});if(h&&(t=(u=g(i,n[0].ownerDocument,!1,n,o)).firstChild,1===u.childNodes.length&&(u=t),t||o)){for(s=(a=ft.map(v(u,"script"),x)).length;c<h;c++)e=u,c!==d&&(e=ft.clone(e,!0,!0),s&&ft.merge(a,v(e,"script"))),r.call(n[c],e,c);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,S),c=0;c<s;c++)e=a[c],Ut.test(e.type||"")&&!ft._data(e,"globalEval")&&ft.contains(l,e)&&(e.src?ft._evalUrl&&ft._evalUrl(e.src):ft.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));u=t=null}return n}function A(t,e,n){for(var i,r=e?ft.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ft.cleanData(v(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function P(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function I(t){var e=it,n=he[t];return n||("none"!==(n=P(t,e))&&n||((e=((ce=(ce||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=P(t,e),ce.detach()),he[t]=n),n}function L(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function M(t){if(t in Ee)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Te.length;n--;)if((t=Te[n]+e)in Ee)return t}function z(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&jt(i)&&(o[s]=ft._data(i,"olddisplay",I(i.nodeName)))):(r=jt(i),(n&&"none"!==n||!r)&&ft._data(i,"olddisplay",r?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function N(t,e,n){var i=xe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function O(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ft.css(t,n+Ht[o],!0,r)),i?("content"===n&&(s-=ft.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=ft.css(t,"border"+Ht[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=ft.css(t,"border"+Ht[o]+"Width",!0,r)));return s}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=me(t),s=ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),fe.test(r))return r;i=s&&(ht.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+O(t,e,n||(s?"border":"content"),i,o)+"px"}function q(t,e,n,i,r){return new q.prototype.init(t,e,n,i,r)}function R(){return C.setTimeout(function(){ke=undefined}),ke=ft.now()}function F(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Ht[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var i,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function j(e,t,n){var i,r,o,s,a,l,u,c=this,h={},d=e.style,f=e.nodeType&&jt(e),p=ft._data(e,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ft.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=ft.css(e,"display"))?ft._data(e,"olddisplay")||I(e.nodeName):u)&&"none"===ft.css(e,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==I(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ht.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(r=t[i],Ne.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;f=!0}h[i]=p&&p[i]||ft.style(e,i)}else u=undefined;if(ft.isEmptyObject(h))"inline"===("none"===u?I(e.nodeName):u)&&(d.display=u);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(e,"fxshow",{}),o&&(p.hidden=!f),f?ft(e).show():c.done(function(){ft(e).hide()}),c.done(function(){var t;for(t in ft._removeData(e,"fxshow"),h)ft.style(e,t,h[t])}),h)s=H(f?p[i]:0,i,c),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function B(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=ft.camelCase(n)],o=t[n],ft.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function W(o,t,e){var n,s,i=0,r=W.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=ke||R(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return a.notifyWith(o,[u,n,e]),n<1&&r?e:(a.resolveWith(o,[u]),!1)},u=a.promise({elem:o,props:ft.extend({},t),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},e),originalProperties:t,originalOptions:e,startTime:ke||R(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ft.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)u.tweens[e].run(1);return t?(a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u,t])):a.rejectWith(o,[u,t]),this}}),c=u.props;for(B(c,u.opts.specialEasing);i<r;i++)if(n=W.prefilters[i].call(u,o,c,u.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(u.elem,u.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(c,H,u),ft.isFunction(u.opts.start)&&u.opts.start.call(o,u),ft.fx.timer(ft.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function V(t){return ft.attr(t,"class")||""}function U(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(It)||[];if(ft.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function X(e,r,o,s){function a(t){var i;return l[t]=!0,ft.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||u||l[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),a(n),!1)}),i}var l={},u=e===sn;return a(r.dataTypes[0])||!l["*"]&&a("*")}function $(t,e){var n,i,r=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function Y(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function G(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function Z(t){return t.style&&t.style.display||ft.css(t,"display")}function J(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===Z(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function K(n,t,i,r){var e;if(ft.isArray(t))ft.each(t,function(t,e){i||hn.test(n)?r(n,e):K(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==ft.type(t))r(n,t);else for(e in t)K(n+"["+e+"]",t[e],i,r)}function Q(){try{return new C.XMLHttpRequest}catch(t){}}function tt(){try{return new C.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=C.document,rt=nt.slice,ot=nt.concat,st=nt.push,at=nt.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,ht={},dt="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:dt,constructor:ft,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(n){return this.pushStack(ft.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(t){var e,n,i,r,o,s,a=t||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"==typeof a||ft.isFunction(a)||(a={}),l===u&&(a=this,l--);l<u;l++)if(null!=(o=arguments[l]))for(r in o)e=a[r],a!==(i=o[r])&&(c&&i&&(ft.isPlainObject(i)||(n=ft.isArray(i)))?(n?(n=!1,s=e&&ft.isArray(e)?e:[]):s=e&&ft.isPlainObject(e)?e:{},a[r]=ft.extend(c,s,i)):i!==undefined&&(a[r]=i));return a},ft.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ht.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(t){t&&ft.trim(t)&&(C.execScript||function(t){C.eval.call(C,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(a(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return ot.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),ft.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function w(t,e,n,i){var r,o,s,a,l,u,c,h,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:H)!==M&&L(e),e=e||M,N)){if(11!==f&&(u=vt.exec(t)))if(r=u[1]){if(9===f){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&R(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&v.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(v.qsa&&!U[t+" "]&&(!O||!O.test(t))){if(1!==f)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_t,"\\$&"):e.setAttribute("id",a=F),o=(c=T(t)).length,l=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)c[o]=l+" "+m(c[o]);h=c.join(","),d=yt.test(t)&&g(e.parentNode)||e}if(h)try{return K.apply(n,d.querySelectorAll(h)),n}catch(p){}finally{a===F&&e.removeAttribute("id")}}}return k(t.replace(at,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>x.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[F]=!0,t}function r(t){var e=M.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||$)-(~t.sourceIndex||$);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function s(s){return l(function(o){return o=+o,l(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function a(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(a,t,e){var l=t.dir,u=e&&"parentNode"===l,c=B++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return a(t,e,n)}:function(t,e,n){var i,r,o,s=[j,c];if(n){for(;t=t[l];)if((1===t.nodeType||u)&&a(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u){if((i=(r=(o=t[F]||(t[F]={}))[t.uniqueID]||(o[t.uniqueID]={}))[l])&&i[0]===j&&i[1]===c)return s[2]=i[2];if((r[l]=s)[2]=a(t,e,n))return!0}}}function d(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)w(t,e[i],n);return n}function b(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function _(f,p,g,m,v,t){return m&&!m[F]&&(m=_(m)),v&&!v[F]&&(v=_(v,t)),l(function(t,e,n,i){var r,o,s,a=[],l=[],u=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?c:b(c,a,f,n,i),d=g?v||(t?f:u||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=b(d,l),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[l[o]]=!(h[l[o]]=s));if(t){if(v||f){if(v){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);v(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=v?tt(t,s):a[o])&&(t[r]=!(e[r]=s))}}else d=b(d===e?d.splice(u,d.length):d),v?v(null,e,d,i):K.apply(e,d)})}function f(t){for(var r,e,n,i=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=h(function(t){return t===r},s,!0),u=h(function(t){return-1<tt(r,t)},s,!0),c=[function(t,e,n){var i=!o&&(n||e!==A)||((r=e).nodeType?l(t,e,n):u(t,e,n));return r=null,i}];a<i;a++)if(e=x.relative[t[a].type])c=[h(d(c),e)];else{if((e=x.filter[t[a].type].apply(null,t[a].matches))[F]){for(n=++a;n<i&&!x.relative[t[n].type];n++);return _(1<a&&d(c),1<a&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),e,a<n&&f(t.slice(a,n)),n<i&&f(t=t.slice(n)),n<i&&m(t))}c.push(e)}return d(c)}function c(m,v){var y=0<v.length,_=0<m.length,t=function(t,e,n,i,r){var o,s,a,l=0,u="0",c=t&&[],h=[],d=A,f=t||_&&x.find.TAG("*",r),p=j+=null==d?1:Math.random()||.1,g=f.length;for(r&&(A=e===M||e||r);u!==g&&null!=(o=f[u]);u++){if(_&&o){for(s=0,e||o.ownerDocument===M||(L(o),n=!N);a=m[s++];)if(a(o,e||M,n)){i.push(o);break}r&&(j=p)}y&&((o=!a&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(s=0;a=v[s++];)a(c,h,e,n);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=Z.call(i));h=b(h)}K.apply(i,h),r&&!t&&0<h.length&&1<l+v.length&&w.uniqueSort(i)}return r&&(j=p,A=d),c};return y?l(t):t}var p,v,x,C,S,T,E,k,A,P,I,L,M,z,N,O,D,q,R,F="sizzle"+1*new Date,H=n.document,j=0,B=0,W=t(),V=t(),U=t(),X=function(t,e){return t===e&&(I=!0),0},$=1<<31,Y={}.hasOwnProperty,G=[],Z=G.pop,J=G.push,K=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){L()};try{K.apply(G=Q.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(Ct){K={apply:G.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=w.support={},S=w.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=w.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==M&&9===i.nodeType&&i.documentElement&&(z=(M=i).documentElement,N=!S(M),(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=mt.test(M.getElementsByClassName),v.getById=r(function(t){return z.appendChild(t).id=F,!M.getElementsByName||!M.getElementsByName(F).length}),v.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,bt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var n=t.replace(wt,bt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),x.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},D=[],O=[],(v.qsa=mt.test(M.querySelectorAll))&&(r(function(t){z.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=mt.test(
q=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&r(function(t){v.disconnectedMatch=q.call(t,"div"),q.call(t,"[s!='']:x"),D.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),D=D.length&&new RegExp(D.join("|")),e=mt.test(z.compareDocumentPosition),R=e||mt.test(z.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===M||t.ownerDocument===H&&R(H,t)?-1:e===M||e.ownerDocument===H&&R(H,e)?1:P?tt(P,t)-tt(P,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===M?-1:e===M?1:r?-1:o?1:P?tt(P,t)-tt(P,e):0;if(r===o)return u(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?u(s[i],a[i]):s[i]===H?-1:a[i]===H?1:0}),M},w.matches=function(t,e){return w(t,null,null,e)},w.matchesSelector=function(t,e){if((t.ownerDocument||t)!==M&&L(t),e=e.replace(ct,"='$1']"),v.matchesSelector&&N&&!U[e+" "]&&(!D||!D.test(e))&&(!O||!O.test(e)))try{var n=q.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Ct){}return 0<w(e,M,null,[t]).length},w.contains=function(t,e){return(t.ownerDocument||t)!==M&&L(t),R(t,e)},w.attr=function(t,e){(t.ownerDocument||t)!==M&&L(t);var n=x.attrHandle[e.toLowerCase()],i=n&&Y.call(x.attrHandle,e.toLowerCase())?n(t,e,!N):undefined;return i!==undefined?i:v.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},w.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},w.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!v.detectDuplicates,P=!v.sortStable&&t.slice(0),t.sort(X),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return P=null,t},C=w.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(x=w.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||w.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&w.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=w.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,l,u=v!==y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),d=!n&&!_,f=!1;if(c){if(v){for(;u;){for(s=t;s=s[u];)if(_?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&d){for(f=(a=(i=(r=(o=(s=c)[F]||(s[F]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===j&&i[1])&&i[2],s=a&&c.childNodes[a];s=++a&&s&&s[u]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===t){r[p]=[j,a,f];break}}else if(d&&(f=a=(i=(r=(o=(s=t)[F]||(s[F]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===j&&i[1]),!1===f)for(;(s=++a&&s&&s[u]||(f=a=0)||l.pop())&&((_?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((r=(o=s[F]||(s[F]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[j,f]),s!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,o){var e,s=x.pseudos[t]||x.setFilters[t.toLowerCase()]||w.error("unsupported pseudo: "+t);return s[F]?s(o):1<s.length?(e=[t,t,"",o],x.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var i=[],r=[],a=E(t.replace(at,"$1"));return a[F]?l(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<w(e,t).length}}),contains:l(function(e){return e=e.replace(wt,bt),function(t){return-1<(t.textContent||t.innerText||C(t)).indexOf(e)}}),lang:l(function(n){return dt.test(n||"")||w.error("unsupported lang: "+n),n=n.replace(wt,bt).toLowerCase(),function(t){var e;do{if(e=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===z},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})x.pseudos[p]=o(p);return a.prototype=x.filters=x.pseudos,x.setFilters=new a,T=w.tokenize=function(t,e){var n,i,r,o,s,a,l,u=V[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=x.preFilter;s;){for(o in n&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=ut.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length)),x.filter)!(i=ft[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?w.error(t):V(t,a).slice(0)},E=w.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)(o=f(e[n]))[F]?i.push(o):r.push(o);(o=U(t,c(r,i))).selector=t}return o},k=w.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&T(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&v.getById&&9===e.nodeType&&N&&x.relative[o[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(wt,bt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(wt,bt),yt.test(o[0].type)&&g(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&m(o)))return K.apply(n,i),n;break}}return(u||E(t,c))(i,e,!N,n,!e||yt.test(t)&&g(e.parentNode)||e),n},v.sortStable=F.split("").sort(X).join("")===F,v.detectDuplicates=!!I,L(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),w}(C);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var _t=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=ft.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ct=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<r;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<r;e++)ft.find(t,i[e],n);return(n=this.pushStack(1<r?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&bt.test(t)?ft(t):t||[],!1).length}});var St,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||St,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Tt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),xt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return St.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}).prototype=ft.fn,St=ft(it);var Et=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=bt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,n){return _t(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,n){return _t(t,"nextSibling",n)},prevUntil:function(t,e,n){return _t(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(i,r){ft.fn[i]=function(t,e){var n=ft.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ft.filter(e,n)),1<this.length&&(kt[i]||(n=ft.uniqueSort(n)),Et.test(i)&&(n=n.reverse())),this.pushStack(n)}});var At,Pt,It=/\S+/g;for(Pt in ft.Callbacks=function(i){i="string"==typeof i?c(i):ft.extend({},i);var r,t,e,n,o=[],s=[],a=-1,l=function(){for(n=i.once,e=r=!0;s.length;a=-1)for(t=s.shift();++a<o.length;)!1===o[a].apply(t[0],t[1])&&i.stopOnFalse&&(a=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},u={add:function(){return o&&(t&&!r&&(a=o.length-1,s.push(t)),function n(t){ft.each(t,function(t,e){ft.isFunction(e)?i.unique&&u.has(e)||o.push(e):e&&e.length&&"string"!==ft.type(e)&&n(e)})}(arguments),t&&!r&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;-1<(n=ft.inArray(e,o,n));)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?-1<ft.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||u.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],s.push(e),r||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},ft.extend({Deferred:function(t){var o=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return ft.Deferred(function(i){ft.each(o,function(t,e){var n=ft.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?ft.extend(t,s):s}},a={};return s.pipe=s.then,ft.each(o,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var r,e,n,i=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===r?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<s)for(r=new Array(s),e=new Array(s),n=new Array(s);i<s;i++)o[i]&&ft.isFunction(o[i].promise)?o[i].promise().progress(u(i,e,r)).done(u(i,n,o)).fail(l.reject):--a;return a||l.resolveWith(n,o),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0)!==t&&0<--ft.readyWait||(At.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready")))}}),ft.ready.promise=function(t){if(!At)if(At=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)C.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",o),C.addEventListener("load",o);else{it.attachEvent("onreadystatechange",o),C.attachEvent("onload",o);var e=!1;try{e=null==C.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!ft.isReady){try{e.doScroll("left")}catch(n){return C.setTimeout(i,50)}r(),ft.ready()}}()}return At.promise(t)},ft.ready.promise(),ft(ht))break;ht.ownFirst="0"===Pt,ht.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var Lt,Mt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!u(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return s(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return s(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ft.data(this,t)}):1<arguments.length?this.each(function(){ft.data(this,t,e)}):o?l(o,t,ft.data(o,t)):undefined;if(this.length&&(r=ft.data(o),1===o.nodeType&&!ft._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(o,i=ft.camelCase(i.slice(5)),r[i]);ft._data(o,"parsedAttrs",!0)}return r},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,r=n.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ft.queue(this[0],e):n===undefined?this:this.each(function(){var t=ft.queue(this,e,n);ft._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ft.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=ft._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),ht.shrinkWrapBlocks=function(){return null!=Lt?Lt:(Lt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Lt=3!==t.offsetWidth),e.removeChild(n),Lt):void 0);var t,e,n};var Ot,Dt,qt,Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Bt=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ft.type(n))for(a in r=!0,n)Bt(t,e,a,n[a],!0,o,s);else if(i!==undefined&&(r=!0,ft.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Wt=/^(?:checkbox|radio)$/i,Vt=/<([\w:-]+)/,Ut=/^$|\/(?:java|ecma)script/i,Xt=/^\s+/,$t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ot=it.createElement("div"),Dt=it.createDocumentFragment(),qt=it.createElement("input"),Ot.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===Ot.firstChild.nodeType,ht.tbody=!Ot.getElementsByTagName("tbody").length,ht.htmlSerialize=!!Ot.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,qt.type="checkbox",qt.checked=!0,Dt.appendChild(qt),ht.appendChecked=qt.checked,Ot.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!Ot.cloneNode(!0).lastChild.defaultValue,Dt.appendChild(Ot),(qt=it.createElement("input")).setAttribute("type","radio"),qt.setAttribute("checked","checked"),qt.setAttribute("name","t"),Ot.appendChild(qt),ht.checkClone=Ot.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!Ot.addEventListener,Ot[ft.expando]=1,ht.attributes=!Ot.getAttribute(ft.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Gt=/<|&#?\w+;/,Zt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ht[t]=e in C)||(n.setAttribute(e,"t"),ht[t]=!1===n.attributes[e].expando);n=null}();var Jt=/^(?:input|select|textarea)$/i,Kt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=ft._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=ft.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||((c=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(c.elem,arguments)}).elem=t),a=(e=(e||"").match(It)||[""]).length;a--;)f=g=(o=ee.exec(e[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(u=ft.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=ft.event.special[f]||{},h=ft.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(c=m.events)){for(u=(e=(e||"").match(It)||[""]).length;u--;)if(f=g=(a=ee.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=ft.event.special[f]||{},d=c[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)ft.event.remove(t,f+e[u],n,i,!0);ft.isEmptyObject(c)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,s,a,l,u,c,h=[n||it],d=ct.call(t,"type")?t.type:t,f=ct.call(t,"namespace")?t.namespace.split("."):[];if(s=u=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(d+ft.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(t=t[ft.expando]?t:new ft.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ft.makeArray(e,[t]),l=ft.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ft.isWindow(n)){for(a=l.delegateType||d,te.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(n.ownerDocument||it)&&h.push(u.defaultView||u.parentWindow||C)}for(c=0;(s=h[c++])&&!t.isPropagationStopped();)t.type=1<c?a:l.bindType||d,(r=(ft._data(s,"events")||{})[t.type]&&ft._data(s,"handle"))&&r.apply(s,e),(r=o&&s[o])&&r.apply&&Mt(s)&&(t.result=r.apply(s,e),!1===t.result&&t.preventDefault());if(t.type=d,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),e))&&Mt(n)&&o&&n[d]&&!ft.isWindow(n)){(u=n[o])&&(n[o]=null),ft.event.triggered=d;try{n[d]()}catch(p){}ft.event.triggered=undefined,u&&(n[o]=u)}return t.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,r,o,s=[],a=rt.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],u=ft.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?-1<ft(r,this).index(l):ft.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Qt.test(r)?this.mouseHooks:Kt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?d:f):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){ft.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||ft.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),ht.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),ht.change||(ft.event.special.change={setup:function(){if(Jt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Jt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Jt.test(this.nodeName)}}),ht.focusin||ft.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){ft.event.simulate(i,t.target,ft.event.fix(t))};ft.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ft._data(t,i);e||t.addEventListener(n,r,!0),ft._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ft._data(t,i)-1
;e?ft._data(t,i,e):(t.removeEventListener(n,r,!0),ft._removeData(t,i))}}}),ft.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=f),this.each(function(){ft.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+$t+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue=m(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l=ft.contains(t.ownerDocument,t);if(ht.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ue.innerHTML=t.outerHTML,ue.removeChild(o=ue.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=v(o),a=v(t),s=0;null!=(r=a[s]);++s)i[s]&&E(r,i[s]);if(e)if(n)for(a=a||v(t),i=i||v(o),s=0;null!=(r=a[s]);s++)T(r,i[s]);else T(t,o);return 0<(i=v(o,"script")).length&&y(i,!l&&v(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=ft.expando,l=ft.cache,u=ht.attributes,c=ft.event.special;null!=(n=t[s]);s++)if((e||Mt(n))&&(o=(r=n[a])&&l[r])){if(o.events)for(i in o.events)c[i]?ft.event.remove(n,i):ft.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[a]=undefined:n.removeAttribute(a),nt.push(r))}}}),ft.fn.extend({domManip:k,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Bt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||b(this,t).appendChild(t)})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ht.htmlSerialize||!ie.test(t))&&(ht.leadingWhitespace||!Xt.test(t))&&!Yt[(Vt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var e=this.parentNode;ft.inArray(this,n)<0&&(ft.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){ft.fn[t]=function(t){for(var e,n=0,i=[],r=ft(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),ft(r[n])[s](e),st.apply(i,e.get());return this.pushStack(i)}});var ce,he={HTML:"block",BODY:"block"},de=/^margin/,fe=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},ge=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(u),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=l=!1,r=a=!0,C.getComputedStyle&&(e=C.getComputedStyle(c),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",a=!parseFloat((C.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(s=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",s=0===t[0].offsetHeight)),n.removeChild(u)}var i,r,o,s,a,l,u=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===c.style.opacity,ht.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===c.style.backgroundClip,(u=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",u.appendChild(c),ht.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(ht,{reliableHiddenOffsets:function(){return null==i&&t(),s},boxSizingReliable:function(){return null==i&&t(),o},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),a},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;C.getComputedStyle?(me=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)},ve=function(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||me(t))?n.getPropertyValue(e)||n[e]:undefined)&&s!==undefined||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!ht.pixelMarginRight()&&fe.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),s===undefined?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,s,a=t.style;return null==(s=(n=n||me(t))?n[e]:undefined)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ye.test(e)&&(i=a.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),s===undefined?s:s+""||"auto"});var _e=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+Rt+")(.*)$","i"),Ce={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},Te=["Webkit","O","Moz","ms"],Ee=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=M(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(t,!1,i))!==undefined?r:l[e];if("string"===(o=typeof n)&&(r=Ft.exec(n))&&r[1]&&(n=h(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(ft.cssNumber[a]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&(n=s.set(t,n,i))===undefined)))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=M(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),o===undefined&&(o=ve(t,e,i)),"normal"===o&&e in Se&&(o=Se[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ft.each(["height","width"],function(t,r){ft.cssHooks[r]={get:function(t,e,n){if(e)return be.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,Ce,function(){return D(t,r,n)}):D(t,r,n)},set:function(t,e,n){var i=n&&me(t);return N(t,e,n?O(t,r,n,ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,i),i):0)}}}),ht.opacity||(ft.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ft.trim(o.replace(_e,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=_e.test(o)?o.replace(_e,r):o+" "+r)}}),ft.cssHooks.marginRight=L(ht.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=L(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(r,o){ft.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Ht[e]+o]=i[e]||i[e-2]||i[0];return n}},de.test(r)||(ft.cssHooks[r+o].set=N)}),ft.fn.extend({css:function(t,e){return Bt(this,function(t,e,n){var i,r,o={},s=0;if(ft.isArray(e)){for(i=me(t),r=e.length;s<r;s++)o[e[s]]=ft.css(t,e[s],!1,i);return o}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,1<arguments.length)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ft(this).show():ft(this).hide()})}}),(ft.Tween=q).prototype={constructor:q,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,n=q.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=q.prototype.init,ft.fx.step={};var ke,Ae,Pe,Ie,Le,Me,ze,Ne=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;ft.Animation=ft.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(It);for(var n,i=0,r=t.length;i<r;i++)n=t[i],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=ft.isEmptyObject(e),o=ft.speed(t,n,i),s=function(){var t=W(this,ft.extend({},e),o);(r||ft._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(r,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=ft.timers,i=ft._data(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&Oe.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||ft.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=ft._data(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=ft.timers,o=n?n.length:0;for(e.finish=!0,ft.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ft.each(["toggle","show","hide"],function(t,i){var r=ft.fn[i];ft.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(F(i,!0),t,e,n)}}),ft.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ft.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(ke=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),ke=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ae||(Ae=C.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){C.clearInterval(Ae),Ae=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(i,t){return i=ft.fx&&ft.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=C.setTimeout(t,i);e.stop=function(){C.clearTimeout(n)}})},Ie=it.createElement("input"),Le=it.createElement("div"),Me=it.createElement("select"),ze=Me.appendChild(it.createElement("option")),(Le=it.createElement("div")).setAttribute("className","t"),Le.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Pe=Le.getElementsByTagName("a")[0],Ie.setAttribute("type","checkbox"),Le.appendChild(Ie),(Pe=Le.getElementsByTagName("a")[0]).style.cssText="top:1px",ht.getSetAttribute="t"!==Le.className,ht.style=/top/.test(Pe.getAttribute("style")),ht.hrefNormalized="/a"===Pe.getAttribute("href"),ht.checkOn=!!Ie.value,ht.optSelected=ze.selected,ht.enctype=!!it.createElement("form").enctype,Me.disabled=!0,ht.optDisabled=!ze.disabled,(Ie=it.createElement("input")).setAttribute("value",""),ht.input=""===Ie.getAttribute("value"),Ie.value="t",Ie.setAttribute("type","radio"),ht.radioValue="t"===Ie.value;var De=/\r/g,qe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=ft.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,ft(this).val()):n)?e="":"number"==typeof e?e+="":ft.isArray(e)&&(e=ft.map(e,function(t){return null==t?"":t+""})),(i=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ft.valHooks[e.type]||ft.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(De,""):null==t?"":t:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(qe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(ht.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ft.makeArray(e),s=r.length;s--;)if(i=r[s],-1<ft.inArray(ft.valHooks.option.get(i),o))try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=-1<ft.inArray(ft(t).val(),e)}},ht.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Re,Fe,He=ft.expr.attrHandle,je=/^(?:checked|selected)$/i,Be=ht.getSetAttribute,We=ht.input;ft.fn.extend({attr:function(t,e){return Bt(this,ft.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(e=e.toLowerCase(),r=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Fe:Re)),n!==undefined?null===n?void ft.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(It);if(o&&1===t.nodeType)for(;n=o[r++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?We&&Be||!je.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(Be?n:i)}}),Fe={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):We&&Be||!je.test(n)?t.setAttribute(!Be&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var o=He[e]||ft.find.attr;We&&Be||!je.test(e)?He[e]=function(t,e,n){var i,r;return n||(r=He[e],He[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,He[e]=r),i}:He[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),We&&Be||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Re&&Re.set(t,e,n);t.defaultValue=e}}),Be||(Re={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},He.id=He.name=He.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Re.set},ft.attrHooks.contenteditable={set:function(t,e,n){Re.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,n){ft.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ht.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Ve=/^(?:input|select|textarea|button|object)$/i,Ue=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Bt(this,ft.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ft.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ft.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Ve.test(t.nodeName)||Ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ht.enctype||(ft.propFix.enctype="encoding");var Xe=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).addClass(e.call(this,t,V(this)))});if("string"==typeof e&&e)for(t=e.match(It)||[];n=this[l++];)if(r=V(n),i=1===n.nodeType&&(" "+r+" ").replace(Xe," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(It)||[];n=this[l++];)if(r=V(n),i=1===n.nodeType&&(" "+r+" ").replace(Xe," ")){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):ft.isFunction(r)?this.each(function(t){ft(this).toggleClass(r.call(this,t,V(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=ft(this),i=r.match(It)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=V(this))&&ft._data(this,"__className__",t),ft.attr(this,"class",t||!1===r?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+V(n)+" ").replace(Xe," ").indexOf(e))return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ft.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var $e=C.location,Ye=ft.now(),Ge=/\?/,Ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(t){if(C.JSON&&C.JSON.parse)return C.JSON.parse(t+"");var r,o=null,e=ft.trim(t+"");return e&&!ft.trim(e.replace(Ze,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():ft.error("Invalid JSON: "+t)},ft.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{C.DOMParser?e=(new C.DOMParser).parseFromString(t,"text/xml"):((e=new C.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+t),e};var Je=/#.*$/,Ke=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},sn={},an="*/".concat("*"),ln=$e.href,un=rn.exec(ln.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":an,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,ft.ajaxSettings),e):$(ft.ajaxSettings,t)},ajaxPrefilter:U(on),ajaxTransport:U(sn),ajax:function(t,e){function n(t,e,n,i){var r,o,s,a,l,u=e;2!==b&&(b=2,d&&C.clearTimeout(d),p=undefined,h=i||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=Y(g,x,n)),a=G(g,a,x,r),r?(g.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(ft.lastModified[c]=l),(l=x.getResponseHeader("etag"))&&(ft.etag[c]=l)),204===t||"HEAD"===g.type?u="nocontent":304===t?u="notmodified":(u=a.state,o=a.data,r=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),x.status=t,x.statusText=(e||u)+"",r?y.resolveWith(m,[o,u,x]):y.rejectWith(m,[x,u,s]),x.statusCode(w),w=undefined,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[x,g,r?o:s]),_.fireWith(m,[x,u]),f&&(v.trigger("ajaxComplete",[x,g]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,c,h,d,f,p,o,g=ft.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?ft(m):ft.event,y=ft.Deferred(),_=ft.Callbacks("once memory"),w=g.statusCode||{},s={},a={},b=0,l="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!o)for(o={};e=Qe.exec(h);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=a[n]=a[n]||t,s[t]=e),this},overrideMimeType:function(t){return b||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)w[e]=[w[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(y.promise(x).complete=_.add,x.success=x.done,x.error=x.fail,g.url=((t||g.url||ln)+"").replace(Je,"").replace(nn,un[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=ft.trim(g.dataType||"*").toLowerCase().match(It)||[""],null==g.crossDomain&&(i=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===un[1]&&i[2]===un[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(un[3]||("http:"===un[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ft.param(g.data,g.traditional)),X(on,g,e,x),2===b)return x;for(r in(f=ft.event&&g.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(Ge.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Ke.test(c)?c.replace(Ke,"$1_="+Ye++):c+(Ge.test(c)?"&":"?")+"_="+Ye++)),g.ifModified&&(ft.lastModified[c]&&x.setRequestHeader("If-Modified-Since",ft.lastModified[c]),ft.etag[c]&&x.setRequestHeader("If-None-Match",ft.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&x.setRequestHeader("Content-Type",g.contentType),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+an+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,x,g)||2===b))return x.abort();for(r in l="abort",{success:1,error:1,complete:1})x[r](g[r]);if(p=X(sn,g,e,x)){if(x.readyState=1,f&&v.trigger("ajaxSend",[x,g]),2===b)return x;g.async&&0<g.timeout&&(d=C.setTimeout(function(){x.abort("timeout")},g.timeout));try{b=1,p.send(s,n)}catch(u){if(!(b<2))throw u;n(-1,u)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,r){ft[r]=function(t,e,n,i){return ft.isFunction(e)&&(i=i||n,n=e,e=undefined),ft.ajax(ft.extend({url:t,type:r,dataType:i,data:e,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(e){if(ft.isFunction(e))return this.each(function(t){ft(this).wrapAll(e.call(this,t))});if(this[0]){var t=ft(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ft.isFunction(n)?this.each(function(t){ft(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ft(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ft.isFunction(e);return this.each(function(t){ft(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var cn=/%20/g,hn=/\[\]$/,dn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],r=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&").replace(cn,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(dn,"\r\n")}}):{name:e.name,value:n.replace(dn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=C.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var gn=0,mn={},vn=ft.ajaxSettings.xhr();C.attachEvent&&C.attachEvent("onunload",function(){for(var t in mn)mn[t](undefined,!0)}),ht.cors=!!vn&&"withCredentials"in vn,(vn=ht.ajax=!!vn)&&ft.ajaxTransport(function(u){var c;if(!u.crossDomain||ht.cors)return{send:function(t,s){var e,a=u.xhr(),l=++gn;if(a.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(e in u.xhrFields)a[e]=u.xhrFields[e];for(e in u.mimeType&&a.overrideMimeType&&a.overrideMimeType(u.mimeType),u.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&a.setRequestHeader(e,t[e]+"");a.send(u.hasContent&&u.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===a.readyState))if(delete mn[l],c=undefined,a.onreadystatechange=ft.noop,e)4!==a.readyState&&a.abort();else{r={},n=a.status,"string"==typeof a.responseText&&(r.text=a.responseText);try{i=a.statusText}catch(o){i=""}n||!u.isLocal||u.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&s(n,i,r,a.getAllResponseHeaders())},u.async?4===a.readyState?C.setTimeout(c):a.onreadystatechange=mn[l]=c:c()},abort:function(){c&&c(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=it.head||ft("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var yn=[],_n=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop(
)||ft.expando+"_"+Ye++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(_n.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&_n.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ft.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(_n,"$1"+i):!1!==t.jsonp&&(t.url+=(Ge.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||ft.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=C[i],C[i]=function(){o=arguments},n.always(function(){r===undefined?ft(C).removeProp(i):C[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,yn.push(i)),o&&ft.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=xt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=g([t],e,r),r&&r.length&&ft(r).remove(),ft.merge([],i.childNodes))};var wn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&wn)return wn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<s.length&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(e){return ft.grep(ft.timers,function(t){return e===t.elem}).length},ft.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=ft.css(t,"position"),c=ft(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<ft.inArray("auto",[o,l])?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},ft.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ft.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,ft.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);ft.fn[e]=function(t){return Bt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?ft(i).scrollLeft():n,o?n:ft(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ft.each(["top","left"],function(t,n){ft.cssHooks[n]=L(ht.pixelPosition,function(t,e){if(e)return e=ve(t,n),fe.test(e)?ft(t).position()[n]+"px":e})}),ft.each({Height:"height",Width:"width"},function(o,s){ft.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,t){ft.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Bt(this,function(t,e,n){var i;return ft.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?ft.css(t,e,r):ft.style(t,e,n,r)},s,n?t:undefined,n,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var bn=C.jQuery,xn=C.$;return ft.noConflict=function(t){return C.$===ft&&(C.$=xn),t&&C.jQuery===ft&&(C.jQuery=bn),ft},t||(C.jQuery=C.$=ft),ft}),function(c,l){"use strict";var u;c.rails!==l&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=u={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=u.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+u.csrfParam()+'"]').val(u.csrfToken())},fire:function(t,e,n){var i=c.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,o,s;if(u.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=c(i[0]).serializeArray();var a=i.data("ujs:submit-button");a&&(n.push(a),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(u.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(u.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=u.href(i),n=i.data("params")||null);return s={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!u.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:u.isCrossDomain(e)},r&&(s.xhrFields={withCredentials:r}),e&&(s.url=e),u.ajax(s)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=u.href(t),n=t.data("method"),i=t.attr("target"),r=u.csrfToken(),o=u.csrfParam(),s=c('<form method="post" action="'+e+'"></form>'),a='<input name="_method" value="'+n+'" type="hidden" />';o===l||r===l||u.isCrossDomain(e)||(a+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&s.attr("target",i),s.hide().append(a).appendTo("body"),s.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){u.formElements(t,u.disableSelector).each(function(){u.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){u.formElements(t,u.enableSelector).each(function(){u.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(u.fire(t,"confirm")){try{i=u.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=u.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,o,s=c(),a=e||"input,textarea",l=t.find(a),u={};return l.each(function(){(i=c(this)).is("input[type=radio]")?(o=i.attr("name"),u[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),s=s.add(r)),u[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(s=s.add(i))}),!!s.length&&s},nonBlankInputs:function(t,e){return u.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return u.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},u.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||u.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",u.linkDisableSelector,function(){u.enableElement(c(this))}),t.on("ajax:complete",u.buttonDisableSelector,function(){u.enableFormElement(c(this))}),t.on("click.rails",u.linkClickSelector,function(t){var e=c(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!u.allowAction(e))return u.stopEverything(t);if(!r&&e.is(u.linkDisableSelector)&&u.disableElement(e),u.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=u.handleRemote(e);return!1===o?u.enableElement(e):o.fail(function(){u.enableElement(e)}),!1}return n?(u.handleMethod(e),!1):void 0}),t.on("click.rails",u.buttonClickSelector,function(t){var e=c(this);if(!u.allowAction(e)||!u.isRemote(e))return u.stopEverything(t);e.is(u.buttonDisableSelector)&&u.disableFormElement(e);var n=u.handleRemote(e);return!1===n?u.enableFormElement(e):n.fail(function(){u.enableFormElement(e)}),!1}),t.on("change.rails",u.inputChangeSelector,function(t){var e=c(this);return u.allowAction(e)&&u.isRemote(e)?(u.handleRemote(e),!1):u.stopEverything(t)}),t.on("submit.rails",u.formSubmitSelector,function(t){var e,n,i=c(this),r=u.isRemote(i);if(!u.allowAction(i))return u.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=u.blankInputs(i,u.requiredInputSelector,!1))&&u.fire(i,"ajax:aborted:required",[e]))return u.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=u.nonBlankInputs(i,u.fileInputSelector)){setTimeout(function(){u.disableFormElements(i)},13);var o=u.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){u.enableFormElements(i)},13),o}return u.handleRemote(i),!1}setTimeout(function(){u.disableFormElements(i)},13)}),t.on("click.rails",u.formInputClickSelector,function(t){var e=c(this);if(!u.allowAction(e))return u.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=c("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",u.formSubmitSelector,function(t){this===t.target&&u.disableFormElements(c(this))}),t.on("ajax:complete.rails",u.formSubmitSelector,function(t){this===t.target&&u.enableFormElements(c(this))}),c(function(){u.refreshCSRFTokens()}))}(jQuery),function(t){t.className=t.className.replace(/\bno-js\b/,"js")}(document.documentElement);